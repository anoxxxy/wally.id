(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["behaviors","app_assets_modules_github_soft-nav_navigate_ts"],{35122(a,b,c){"use strict";var d,e,f,g,h,i,j,k=c(54679),l=c(59753);(0,l.on)("deprecatedAjaxSend","[data-remote]",function(a){a.currentTarget===a.target&&!a.defaultPrevented&&a.currentTarget.classList.add("loading")}),(0,l.on)("deprecatedAjaxComplete","[data-remote]",function(a){a.currentTarget===a.target&&a.currentTarget.classList.remove("loading")});var m=c(65935);(0,m.AC)("form.js-ajax-pagination, .js-ajax-pagination form",async function(a,b){let c=a.closest(".js-ajax-pagination"),d;try{d=await b.html()}catch(e){if(e.response&&404===e.response.status){c.remove();return}throw e}c.replaceWith(d.html),(0,l.f)(a,"page:loaded")});var n=c(78459),o=c(86283);(0,l.on)("click","[data-analytics-event]",a=>{if(o.n4?.head?.querySelector('meta[name="is_logged_out_page"]')?.content)return;let b=a.currentTarget,c=b.getAttribute("data-analytics-event");if(!c)return;let d=JSON.parse(c);(0,n.q)("analytics.click",d)});var p=c(36071),q=c(60958);let r=["system","disabled"].map(a=>`html[data-a11y-animated-images="${a}"] img[data-animated-image]`).join(", ");(0,p.N7)(r,a=>{if(!(a instanceof HTMLImageElement)||a.closest("a")&&!(a.parentElement instanceof HTMLAnchorElement))return;let b=a.parentElement,c=null;if(b instanceof HTMLAnchorElement){if(b.childElementCount>1)return;(c=b).setAttribute("data-target","animated-image.originalLink"),b=c.parentElement}a.removeAttribute("data-animated-image"),a.setAttribute("data-target","animated-image.originalImage");let d=c?c.cloneNode(!0):a.cloneNode(!0),e=document.createElement("animated-image");e.appendChild(d),b?.replaceChild(e,c||a),(0,q.b)({incrementKey:"ANIMATED_IMAGE_PLAYER_WRAPPED",requestUrl:window.location.href})});var s=c(15345),t=c(81775);let u=new WeakMap;function v(a,b){b.classList.remove("is-loading","successed","errored","warn"),a.classList.remove("is-autocheck-loading","is-autocheck-successful","is-autocheck-errored");let c=b.querySelector("p.note");if(c){let d=u.get(c);d&&(c.innerHTML=d)}"DL"===b.tagName?(b.querySelector("dd.error")?.remove(),b.querySelector("dd.warning")?.remove(),b.querySelector("dd.success")?.remove()):(b.querySelector("div.error")?.remove(),b.querySelector("div.warning")?.remove(),b.querySelector("div.success")?.remove())}(0,p.N7)("auto-check",function(a){if(a.classList.contains("js-prevent-default-behavior"))return;let b=a.querySelector("input");if(!b)return;let c=b.closest(".form-group")||a,d=b.form,e;function f(){return e||(e=`input-check-${(1e4*Math.random()).toFixed(0)}`),e}let g=b.getAttribute("aria-describedby");b.addEventListener("focusout:delay",()=>{b.setAttribute("aria-describedby",[e,g].join(" "))});let h=c.querySelector("p.note");h&&(h.id||(h.id=f()),u.set(h,h.innerHTML)),a.addEventListener("loadstart",()=>{v(b,c),c.classList.add("is-loading"),b.classList.add("is-autocheck-loading"),(0,t.G)(d)}),a.addEventListener("loadend",()=>{c.classList.remove("is-loading"),b.classList.remove("is-autocheck-loading")}),b.addEventListener("auto-check-success",async a=>{b.classList.add("is-autocheck-successful"),c.classList.add("successed"),(0,t.G)(d);let{response:e}=a.detail;if(!e)return;let g=await e.text();if(g){if(h instanceof HTMLElement)h.innerHTML=g,(0,s.N)(h);else{let i=200===e.status,j="DL"===c.tagName?"dd":"div",k=document.createElement(j);k.id=f(),k.classList.add(i?"success":"warning"),k.innerHTML=g,c.append(k),c.classList.add(i?"successed":"warn"),(0,s.N)(k),i&&(k.hidden=document.activeElement!==b)}(0,l.f)(b,"auto-check-message-updated")}}),b.addEventListener("auto-check-error",async a=>{b.classList.add("is-autocheck-errored"),c.classList.add("errored"),(0,t.G)(d);let{response:e}=a.detail;if(!e)return;let g=await e.text();if(h instanceof HTMLElement)h.innerHTML=g||"Something went wrong",(0,s.N)(h);else{let i="DL"===c.tagName?"dd":"div",j=document.createElement(i);j.id=f(),j.classList.add("error"),j.innerHTML=g||"Something went wrong",c.append(j),(0,s.N)(j)}}),b.addEventListener("input",()=>{b.removeAttribute("aria-describedby"),b.value||v(b,c)}),b.addEventListener("blur",()=>{let a=c.querySelector(".success");a&&(a.hidden=!0)}),b.addEventListener("focus",()=>{let a=c.querySelector(".success");a&&(a.hidden=!1)}),d.addEventListener("reset",()=>{v(b,c)})});var w=c(46481);function x(a){let b=a.closest("form");if(!b)return;let c=b.querySelector(".js-auto-complete-button");c instanceof HTMLButtonElement&&(c.disabled=!a.value)}(0,p.N7)("auto-complete",function(a){a.addEventListener("loadstart",()=>a.classList.add("is-auto-complete-loading")),a.addEventListener("loadend",()=>a.classList.remove("is-auto-complete-loading"))}),(0,p.N7)("auto-complete",{constructor:w.Z,initialize:x}),(0,l.on)("auto-complete-change","auto-complete",function(a){x(a.currentTarget)});var y=c(54650),z=c(75662),A=c(9302);let B=null;(0,l.on)("submit","[data-autosearch-results-container]",async function(a){let b=a.currentTarget;if(!(b instanceof HTMLFormElement))return;a.preventDefault(),B?.abort(),b.classList.add("is-sending");let c=new URL(b.action,window.location.origin),d=b.method,e=new FormData(b),f=(0,y.KL)(c,e),g=null;"get"===d?c.search=f:g=e;let{signal:h}=B=new AbortController,i=new Request(c.toString(),{method:d,body:g,signal:h,headers:{Accept:"text/html","X-Requested-With":"XMLHttpRequest"}}),j;try{j=await fetch(i)}catch{}if(b.classList.remove("is-sending"),!j||!j.ok||h.aborted)return;let k=b.getAttribute("data-autosearch-results-container"),l=k?document.getElementById(k):null;l&&(l.textContent="",l.appendChild((0,z.r)(document,await j.text()))),(0,A.lO)(null,"",`?${f}`)});var C=c(50294),D=c(254);(0,D.ZG)("input[data-autoselect], textarea[data-autoselect]",async function(a){await (0,C.gJ)(),a.select()});var E=c(46263),F=c(76932);function G(a){let b=a.target;if(!(b instanceof HTMLInputElement)&&!(b instanceof HTMLSelectElement))return;let c=b.form;(0,y.Bt)(c)}(0,l.on)("change","form[data-autosubmit]",function(a){let b=a.currentTarget;(0,y.Bt)(b)}),(0,l.on)("change","input[data-autosubmit], select[data-autosubmit]",G);let H=(0,E.D)(G,300);async function I(a){let b=a.getAttribute("data-url")||"",c=await J(b);if(c){let d=a.getAttribute("data-gravatar-text");null!=d&&(a.textContent=d)}}async function J(a){let b=a;if(!b)return!1;try{let c=await fetch(b,{headers:{Accept:"application/json"}});if(!c.ok)return!1;let d=await c.json();return d.has_gravatar}catch{return!1}}(0,p.N7)("input[data-throttled-autosubmit]",{subscribe:a=>(0,F.RB)(a,"input",H)}),(0,p.N7)(".js-detect-gravatar",function(a){I(a)}),c(47442);var K=c(68423),L=c(97629),M=c(86824);let N=[".unstyled-additional-seats-price-obj",".unstyled-base-price-obj",".unstyled-final-price-obj"];function O(a){return"string"!=typeof a&&"number"!=typeof a&&"default_currency"in a&&"local_currency"in a}let P=null;async function Q(a){let b=a.getAttribute("data-item-name")||"items",c=a.value,d=new URL(a.getAttribute("data-url"),window.location.origin),e=new URLSearchParams(d.search.slice(1)),f=parseInt(a.getAttribute("data-item-minimum"))||0,g=parseInt(a.getAttribute("data-item-maximum"))||1e6,h=parseInt(a.getAttribute("data-item-count"))||0,i=Math.max(f,parseInt(c)||0),j=i>g,k=document.querySelector(".js-downgrade-button"),l=document.getElementById("downgrade-disabled-message");k instanceof HTMLButtonElement&&(k.disabled=i===h),l instanceof HTMLElement&&k instanceof HTMLButtonElement&&(l.hidden=!k.disabled),e.append(b,i.toString());let m=document.querySelector(".js-transform-user");m&&e.append("transform_user","1"),d.search=e.toString(),P?.abort();let{signal:n}=P=new AbortController,o=null;try{let p=await fetch(d.toString(),{signal:n,headers:{Accept:"application/json"}});if(!p.ok)return;o=await p.json()}catch{}if(n.aborted||!o)return;let q=document.querySelector(".js-contact-us");q&&q.classList.toggle("d-none",!j);let r=document.querySelector(".js-cost-info");r&&(r.hidden=j);let s=document.querySelector(".js-payment-summary");s&&s.classList.toggle("d-none",j);let t=document.querySelector(".js-submit-billing");t instanceof HTMLElement&&(t.hidden=j);let u=document.querySelector(".js-billing-section");u&&u.classList.toggle("has-removed-contents",o.free||o.is_enterprise_cloud_trial);let v=document.querySelector(".js-upgrade-info");v&&v.classList.toggle("d-none",i<=0);let w=document.querySelector(".js-downgrade-info");w&&w.classList.toggle("d-none",i>=0);let x=document.querySelector(".js-extra-seats-line-item");x&&x.classList.toggle("d-none",o.no_additional_seats);let y=document.querySelector(".js-seat-field");y&&T(c);let z=document.querySelector(".js-minimum-seats-disclaimer");z&&(z.classList.toggle("tooltipped",5===o.seats),z.classList.toggle("tooltipped-nw",5===o.seats));let B=o.selectors;for(let C in B)for(let D of document.querySelectorAll(C))R(C)&&O(B[C])?(D.textContent="",D.appendChild(S("default-currency",B[C].default_currency)),D.appendChild(S("local-currency",B[C].local_currency))):D.textContent=B[C];(0,A.lO)(history.state,"",o.url)}function R(a){return N.includes(a)}function S(a,b){let c=document.createElement("span");return c.classList.add(a),c.textContent=b,c}function T(a){for(let b of document.querySelectorAll(".js-seat-field")){let c=b.getAttribute("data-item-maximum"),d=b?.parentNode?.querySelector(".Popover");c&&c.length&&(parseInt(a,10)>parseInt(c,10)?(b.classList.add("color-border-danger-emphasis"),d?.removeAttribute("hidden")):(b.classList.remove("color-border-danger-emphasis"),d?.setAttribute("hidden","true")))}}function U(a,b=!1){for(let[c,d]of Object.entries({"tooltipped-nw":"tooltipped-sw","tooltipped-n":"tooltipped-s","tooltipped-ne":"tooltipped-se"})){let e=b?d:c,f=b?c:d;for(let g of a.querySelectorAll(`.${e}`))g.classList.replace(e,f)}}(0,l.on)("click",".js-org-signup-duration-change",a=>{a.preventDefault();let b=a.currentTarget,c=b.getAttribute("data-plan-duration");for(let d of(function a(b){let c="year"===b?"month":"year";for(let d of document.querySelectorAll(".js-plan-duration-text"))d.textContent=b;for(let e of document.querySelectorAll(".unstyled-available-plan-duration-adjective"))e.textContent=`${b}ly`;for(let f of document.querySelectorAll(".js-org-signup-duration-change"))f.setAttribute("data-plan-duration",c);let g=document.getElementById("signup-plan-duration");g&&(g.value=b)}(c),function a(b){for(let c of document.querySelectorAll(".js-seat-field")){let d=new URL(c.getAttribute("data-url"),window.location.origin),e=new URLSearchParams(d.search.slice(1));e.delete("plan_duration"),e.append("plan_duration",b),d.search=e.toString(),c.setAttribute("data-url",d.toString())}}(c),document.querySelectorAll(".js-seat-field")))Q(d);(function a(){for(let b of document.querySelectorAll(".js-unit-price"))b.hidden=!b.hidden})()}),(0,l.on)("change",".js-org-signup-duration-toggle",function({currentTarget:a}){let b=new URL(a.getAttribute("data-url"),window.location.origin);(0,M.softNavigate)(b.toString())}),(0,p.N7)(".js-addon-purchase-field",{constructor:HTMLInputElement,add(a){(0,L.Z)(a)&&Q(a),(0,K.oq)(a,function(){Q(a)})}}),(0,p.N7)(".js-addon-downgrade-field",{constructor:HTMLSelectElement,add(a){(0,L.Z)(a)&&Q(a),a.addEventListener("change",function(){Q(a)})}}),(0,l.on)("details-menu-selected",".js-organization-container",function(a){let b=document.querySelector(".js-addon-purchase-field"),c=a.target.querySelector("input:checked");if(b instanceof HTMLInputElement&&c instanceof HTMLInputElement){let d=c.getAttribute("data-upgrade-url");d&&(b.setAttribute("data-url",d),b.value="0",Q(b))}},{capture:!0}),(0,D.q6)(".js-csv-filter-field",function(a){let b=a.target.value.toLowerCase();for(let c of document.querySelectorAll(".js-csv-data tbody tr"))c instanceof HTMLElement&&c.textContent&&(c.hidden=!!b&&!c.textContent.toLowerCase().includes(b))}),(0,p.N7)(".js-blob-header.is-stuck",{add(a){U(a)},remove(a){U(a,!0)}}),(0,l.on)("click",".js-blob-dropdown-click",a=>{let b=a.currentTarget.getAttribute("data-dropdown-tracking");if(!b)return;let c=JSON.parse(b);(0,n.q)(c.type,c.context)}),(0,l.on)("change",".js-branch-protection-integration-select-input",function(a){let b=a.target,c=b?.closest(".js-branch-protection-integration-select"),d=c?.querySelector(".js-branch-protection-integration-select-current"),e=b?.closest(".js-branch-protection-integration-select-item"),f=e?.querySelector(".js-branch-protection-integration-select-label");d&&f&&c&&(d.innerHTML=f.innerHTML,c.open=!1)});let V=null;async function W(a){let b=a.target;if(!(b instanceof HTMLElement))return;let c=b.querySelector(".js-bulk-actions"),d=!!b.querySelector(".js-bulk-actions-toggle:checked");V?.abort();let{signal:e}=V=new AbortController,f="";try{let g=await fetch(function(a){let b=new URL(a.getAttribute("data-bulk-actions-url"),window.location.origin),c=new URLSearchParams(b.search.slice(1)),d=a.getAttribute("data-bulk-actions-parameter"),e=Array.from(a.querySelectorAll(".js-bulk-actions-toggle:checked"));if(d){let f=e.map(a=>a.closest(".js-bulk-actions-item").getAttribute("data-bulk-actions-id")).sort();for(let g of f)c.append(`${d}[]`,g)}else for(let h of e.sort((a,b)=>a.value>b.value?1:-1))c.append(h.name,h.value);return b.search=c.toString(),b.toString()}(b),{signal:e,headers:{"X-Requested-With":"XMLHttpRequest"}});if(!g.ok)return;f=await g.text()}catch{}!e.aborted&&f&&(d?(X(b),c.innerHTML=f):(c.innerHTML=f,X(b)),(0,l.f)(b,"bulk-actions:updated"))}function X(a){let b=document.querySelector(".js-membership-tabs");if(b){let c=a.querySelectorAll(".js-bulk-actions-toggle:checked");b.classList.toggle("d-none",c.length>0)}}(0,l.on)("change",".js-bulk-actions-toggle",function(a){let b=a.currentTarget,c=b.closest(".js-bulk-actions-container");(0,l.f)(c,"bulk-actions:update")}),(0,l.on)("bulk-actions:update",".js-bulk-actions-container",(0,E.D)(W,100));var Y=c(80721);function Z(a,b){try{return window.localStorage.setItem(a,JSON.stringify(b)),{kind:"ok",value:null}}catch(c){return{kind:"err",value:c}}}function $(){let a=function(){let a={};for(let b of document.getElementsByTagName("script")){let c=b.src.match(/\/([\w-]+)-[0-9a-f]{8,}\.js$/);c&&(a[`${c[1]}.js`]=b.src)}for(let d of document.getElementsByTagName("link")){let e=d.href.match(/\/([\w-]+)-[0-9a-f]{8,}\.css$/);e&&(a[`${e[1]}.css`]=d.href)}return a}(),b=function(a){try{let b=window.localStorage.getItem(a);return{kind:"ok",value:b?JSON.parse(b):null}}catch(c){return{kind:"err",value:c}}}("bundle-urls");if("err"===b.kind){Z("bundle-urls",a);return}let c=b.value||{},d=Object.keys(a).filter(b=>c[b]!==a[b]);if(d.length){let e=Z("bundle-urls",{...c,...a});"ok"===e.kind&&(0,q.b)({downloadedBundles:d})}}function _(a){a.preventDefault(),a.stopPropagation()}(async()=>{await Y.C,window.requestIdleCallback($)})(),c(90596),(0,p.N7)("a.btn.disabled",{subscribe:a=>(0,F.RB)(a,"click",_)});var aa=c(78332),ab=c(58797);(0,p.N7)(".js-check-all-container",{constructor:HTMLElement,subscribe:ab.Z});var ac=c(67404);let ad="logout-was-successful";function ae(a){ag.delete(a),af(a)}function af(a){let b=a.querySelector(".js-clipboard-copy-icon"),c=a.querySelector(".js-clipboard-check-icon");a.classList.toggle("ClipboardButton--success"),b&&b.classList.toggle("d-none"),c&&(c.classList.contains("d-sm-none")?c.classList.toggle("d-sm-none"):c.classList.toggle("d-none"))}(0,ac.$1)(ad).length>0&&(!function(){for(let a of[sessionStorage,localStorage])try{a.clear()}catch{}}(),(0,ac.kT)(ad)),(0,l.on)("clipboard-copy","[data-copy-feedback]",a=>{let b=a.currentTarget,c=b.getAttribute("data-copy-feedback"),d=b.getAttribute("aria-label"),e=b.getAttribute("data-tooltip-direction")||"s";b.setAttribute("aria-label",c),b.classList.add("tooltipped",`tooltipped-${e}`),b instanceof HTMLElement&&((0,s.N)(b),setTimeout(()=>{d?b.setAttribute("aria-label",d):b.removeAttribute("aria-label"),b.classList.remove("tooltipped",`tooltipped-${e}`)},2e3))});let ag=new WeakMap;(0,l.on)("clipboard-copy",".js-clipboard-copy:not([data-view-component])",function({currentTarget:a}){if(!(a instanceof HTMLElement))return;let b=ag.get(a);b?clearTimeout(b):af(a),ag.set(a,window.setTimeout(ae,2e3,a))});var ah=c(25019);async function ai(a,b,c,d,e){let f=a.getAttribute("data-tagsearch-url");if(!f)return"";let g=a.getAttribute("data-tagsearch-ref");if(!g)return"";let h=a.getAttribute("data-tagsearch-code-nav-context");h||(h="UNKNOWN_VIEW");let i=new URL(f,window.location.origin),j=new URLSearchParams;j.set("q",b),j.set("blob_path",e),j.set("ref",g),j.set("language",c),j.set("row",d[0].toString()),j.set("col",d[1].toString()),j.set("code_nav_context",h),i.search=j.toString();try{let k=await fetch(i.toString(),{headers:{"X-Requested-With":"XMLHttpRequest"}});if(!k.ok)return"";let l=await k.text();if(/js-tagsearch-no-definitions/.test(l))return"";return l}catch{return""}}function aj(a,b,c){let d,e=null;for(;d=b.exec(a);){if(b.lastIndex===e){(0,ah.eK)(Error("regexp did not advance in findNearestMatch()"));break}e=b.lastIndex;let f=d.index+d[0].length;if(d.index<=c&&c<=f)return[d[0],d.index,f]}return null}(0,l.on)("click",".js-code-nav-retry",async function(a){if(a.altKey||a.ctrlKey||a.metaKey||a.shiftKey)return;let b=document.querySelector(".js-tagsearch-popover");if(!b)return;let c=b.querySelector(".js-tagsearch-popover-content");if(!c)return;let d,e=a.currentTarget,f=e.getAttribute("data-code-nav-kind");if(!(d="definitions"===f?b.querySelector(".js-tagsearch-popover-content"):b.querySelector(".js-code-nav-references")))return;let g=e.getAttribute("data-code-nav-url");if(!g)return;let h=new URL(g,window.location.origin);try{let i=await fetch(h.toString(),{headers:{"X-Requested-With":"XMLHttpRequest"}});if(!i.ok)return;let j=await i.text();if(!j)return;d.innerHTML=j}catch{return}c.scrollTop=0}),(0,p.N7)(".js-code-nav-container",{constructor:HTMLElement,subscribe(a){let b=a,c=document.querySelector(".js-tagsearch-popover");if(!(c instanceof HTMLElement))return{unsubscribe(){}};let d=c.querySelector(".js-tagsearch-popover-content"),e=new WeakMap,f=new WeakMap,g;async function h(b){let d=function a(b,c,d){let e,f;if(document.caretPositionFromPoint){let g=document.caretPositionFromPoint(c,d);g&&(e=g.offsetNode,f=g.offset)}else if(document.caretRangeFromPoint){let h=document.caretRangeFromPoint(c,d);h&&(e=h.startContainer,f=h.startOffset)}if(!e||"number"!=typeof f||e.nodeType!==Node.TEXT_NODE)return;let i=e.textContent,j=""===i?.replaceAll("\n","").trim();if(!i||j||e.nodeType!==Node.TEXT_NODE)return null;let k=aj(i,/\w+[!?]?/g,f);if(!k)return null;let l=document.createRange();return l.setStart(e,k[1]),l.setEnd(e,k[2]),l}(/\w+[!?]?/g,b.clientX,b.clientY);if(!d)return;let g=d.commonAncestorContainer.parentElement;if(!g)return;for(let h of g.classList)if(["pl-token","pl-c","pl-s","pl-k"].includes(h))return;if(g.closest(".js-skip-tagsearch"))return;let i=d.toString();if(!i||i.match(/\n|\s|[();&.=",]/))return;let l=f.get(g);if(l||(l=new Set,f.set(g,l)),l.has(i))return;l.add(i);let m=g.closest(".js-tagsearch-file");if(!m)return;let n=m.getAttribute("data-tagsearch-path")||"",o=m.getAttribute("data-tagsearch-lang")||"";if("HTML+ERB"===o){if(!g.closest(".pl-sre"))return;o="Ruby"}if(a.classList.contains("js-code-block-container")&&!(o=function a(b){let c=b.closest(".highlight");if(c)for(let d of c.classList)switch(d){case"highlight-source-go":return"Go";case"highlight-source-js":return"JavaScript";case"highlight-source-python":return"Python";case"highlight-source-ruby":return"Ruby";case"highlight-source-ts":return"TypeScript"}return null}(g)||""))return;let p=function a(b){let c=b.startContainer,d=b.startOffset,e=!1;for(;;){let f=c.previousSibling;for(;!e&&f;)["#comment","BUTTON"].includes(f.nodeName)||(d+=(f.textContent||"").length),f=f.previousSibling;let g=c.parentElement;if(!g)return[0,0];if(g.classList.contains("js-code-nav-pass"))e=!0;else if(g.classList.contains("js-file-line")){let h=g.previousElementSibling;if(!h.classList.contains("js-code-nav-line-number"))throw Error("invariant");let i=parseInt(h.getAttribute("data-line-number")||"1",10);return[i-1,d]}c=g}}(d),q=document.createElement("span");q.classList.add("pl-token"),q.addEventListener("click",j);let r;(r=await ai(c,i,o,p,n))&&(k(q,r),e.set(q,r),d.surroundContents(q))}function i(){d.scrollTop=0}async function j(a){if(a.altKey||a.ctrlKey||a.metaKey||a.shiftKey)return;let b=a.currentTarget;b===g?p():(l(b),m(b),o()),a.preventDefault()}function k(a,b){let c=document.createElement("span");c.innerHTML=b;let d=c.firstElementChild;if(!d)return;let e=d.getAttribute("data-hydro-click"),f=d.getAttribute("data-hydro-click-hmac");f&&e&&(a.setAttribute("data-hydro-click",e),a.setAttribute("data-hydro-click-hmac",f))}function l(a){g&&g.classList.remove("active"),(g=a).classList.add("active")}function m(a){d.innerHTML=e.get(a)||"",n(a)}function n(a){let d=b.getClientRects()[0],e=a.getClientRects();if(0===e.length)return;let f=e[0];c.style.position="absolute",c.style.zIndex="3",b.classList.contains("position-relative")?(c.style.top=`${f.bottom-d.top+7}px`,c.style.left=`${f.left-d.left-10}px`):(c.style.top=`${window.scrollY+f.bottom}px`,c.style.left=`${window.scrollX+f.left}px`)}function o(){if(!c.hidden){i();return}c.hidden=!1,i(),document.addEventListener("click",r),document.addEventListener("keyup",s),window.addEventListener("resize",q)}function p(){c.hidden||(c.hidden=!0,g&&g.classList.remove("active"),g=void 0,document.removeEventListener("click",r),document.removeEventListener("keyup",s),window.removeEventListener("resize",q))}function q(){g instanceof HTMLElement&&n(g)}function r(a){let{target:b}=a;b instanceof Node&& !c.contains(b)&&!g.contains(b)&&p()}function s(a){"Escape"===a.key&&p()}return function(){for(let a of(p(),document.getElementsByClassName("pl-token")))a.classList.remove("pl-token","active")}(),a.addEventListener("mousemove",h),{unsubscribe(){a.removeEventListener("mousemove",h)}}}});var ak=c(22971);(0,l.on)("click",".errored.js-remove-error-state-on-click",function({currentTarget:a}){a.classList.remove("errored")}),(0,m.AC)(".js-new-comment-form",async function(a,b){let c;!function(a){let b=a.querySelector(".js-comment-form-error");b instanceof HTMLElement&&(b.hidden=!0)}(a);try{c=await b.json()}catch(d){(function a(b,c){let d="You can't comment at this time";if(c.response&&422===c.response.status){let e=c.response.json;e.errors&&(Array.isArray(e.errors)?d+=` \u{2014} your comment ${e.errors.join(", ")}`:d=e.errors)}d+=". ";let f=b.querySelector(".js-comment-form-error");if(f instanceof HTMLElement){f.textContent=d,f.hidden=!1;let g=f.closest("div.form-group.js-remove-error-state-on-click");g&&g.classList.add("errored")}})(a,d)}if(!c)return;for(let e of(a.reset(),a.querySelectorAll(".js-resettable-field")))(0,y.Se)(e,e.getAttribute("data-reset-value")||"");let f=a.querySelector(".js-write-tab");f instanceof HTMLElement&&f.click();let g=c.json.updateContent;for(let h in g){let i=g[h],j=document.querySelector(h);j instanceof HTMLElement?(0,ak.Of)(j,i):console.warn(`couldn't find ${h} for immediate update`)}(0,l.f)(a,"comment:success")});let al=(a,b)=>{let c=a.querySelector(".js-form-action-text"),d=c||a;d.textContent=b?a.getAttribute("data-comment-text"):d.getAttribute("data-default-action-text")},am=a=>{let b;return c=>{let d=c.currentTarget,e=d.value.trim();e!==b&&(b=e,al(a,Boolean(e)))}};function an(a,b){let c=a.closest(".js-write-bucket");c&&c.classList.toggle("focused",b)}function ao(a){let b=a.currentTarget;b instanceof Element&&an(b,!1)}(0,p.N7)(".js-comment-and-button",{constructor:HTMLButtonElement,initialize(a){let b=a.form.querySelector(".js-comment-field"),c=am(a);return{add(){b.addEventListener("input",c),b.addEventListener("change",c)},remove(){b.removeEventListener("input",c),b.removeEventListener("change",c)}}}}),c(66602),(0,D.ZG)(".js-comment-field",function(a){an(a,!0),a.addEventListener("blur",ao,{once:!0})});var ap=c(93928),aq=c(52769),ar=c(54697);let as=2303741511,at=4,au=class PNGScanner{static fromFile(a){return new Promise(function(b,c){let d=new FileReader;d.onload=function(){b(new PNGScanner(d.result))},d.onerror=function(){c(d.error)},d.readAsArrayBuffer(a)})}advance(a){this.pos+=a}readInt(a){let b=this,c=function(){switch(a){case 1:return b.dataview.getUint8(b.pos);case 2:return b.dataview.getUint16(b.pos);case 4:return b.dataview.getUint32(b.pos);default:throw Error("bytes parameter must be 1, 2 or 4")}}();return this.advance(a),c}readChar(){return this.readInt(1)}readShort(){return this.readInt(2)}readLong(){return this.readInt(4)}readString(a){let b=[];for(let c=0;c<a;c++)b.push(String.fromCharCode(this.readChar()));return b.join("")}scan(a){if(this.readLong()!==as)throw Error("invalid PNG");for(this.advance(4);;){let b=this.readLong(),c=this.readString(4),d=this.pos+b+at;if(!1===a.call(this,c,b)||"IEND"===c)break;this.pos=d}}constructor(a){this.dataview=new DataView(a),this.pos=0}},av=.0254;async function aw(a){if("image/png"!==a.type)return null;let b=a.slice(0,10240,a.type),c=await au.fromFile(b),d={width:0,height:0,ppi:1};return c.scan(function(a){switch(a){case"IHDR":d.width=this.readLong(),d.height=this.readLong();break;case"pHYs":{let b=this.readLong(),c=this.readLong(),e=this.readChar(),f;return 1===e&&(f=av),f&&(d.ppi=Math.round((b+c)/2*f)),!1}case"IDAT":return!1}return!0}),d}var ax=c(89900);let ay=new WeakMap,az=class CaretPosition{get top(){return this.coords.top}get left(){return this.coords.left}get height(){return this.coords.height}currentChar(a=1){return this.textArea.value.substring(this.index-a,this.index)}checkLine(a){return a<this.coords.top?-1:a>this.coords.top+this.coords.height?1:0}xDistance(a){return Math.abs(this.left-a)}constructor(a,b,c){this.index=a,this.coords=b,this.textArea=c}};function aA(a,b){let c;if(ay.has(a)?c=ay.get(a):(c=new Map,ay.set(a,c)),c.has(b))return c.get(b);{let d=new az(b,(0,ax.Z)(a,b),a);return c.set(b,d),d}}let aB=(a,b,c,d,e,f)=>{if(c===b)return c;let g=a=>{let b=a.filter(a=>0===a.checkLine(e)).sort((a,b)=>a.xDistance(d)>b.xDistance(d)?1:-1);return 0===b.length?c:b[0].index};if(c-b==1){let h=aA(a,b),i=aA(a,c);return g([h,i])}if(c-b==2){let j=aA(a,b),k=aA(a,c-1),l=aA(a,c);return g([j,k,l])}let m=Math.floor((c+b)/2);if(m===b||m===c)return m;let n=aA(a,m);return e>n.top+n.height?aB(a,m+1,c,d,e,f+1):e<n.top?aB(a,b,m-1,d,e,f+1):3>n.xDistance(d)?m:n.left<d?0!==aA(a,m+1).checkLine(e)?m:aB(a,m+1,c,d,e,f+1):n.left>d?0!==aA(a,m-1).checkLine(e)?m:aB(a,b,m-1,d,e,f+1):m},aC=(a,b,c)=>{let d=a.value.length;return aB(a,0,d,b,c,0)},aD=new Map;(0,p.N7)(".js-paste-markdown",{initialize(a){let b,c=a.hasAttribute("data-paste-url-links-as-plain-text");return{add(){b=(0,aq.Ld)(a,{defaultPlainTextPaste:{urlLinks:c}}).unsubscribe},remove(){b()}}}});let aE=new WeakMap;function aF(a){return["video/mp4","video/quicktime"].includes(a.file.type)}function aG(a){if(aF(a))return`
Uploading ${a.file.name}\u{2026}
`;let b=a.isImage()?"!":"";return`${b}[Uploading ${a.file.name}\u{2026}]()`}function aH(a){let b=a.target.closest("form");if(b){let c=b.querySelector(".btn-primary");c&&(c.disabled=!0)}}function aI(a){let b=a.target.closest("form");if(b){let c=b.querySelector(".btn-primary");c.disabled=!1}}async function aJ(a){let{attachment:b}=a.detail,c=a.currentTarget,d;d=b.isImage()?await aM(b):aF(b)?aL(b):aK(b),aQ("",d,a,c),aD.size>0&&aT()}function aK(a){return`[${a.file.name}](${a.href})`}function aL(a){return`
${a.href}
`}async function aM(a){var b,c;let d=await aN(a.file),e=(c=b=a.file.name).replace(/[[\]\\"<>&]/g,".").replace(/\.{2,}/g,".").replace(/^\.|\.$/gi,"").replace(/\.[^.]+$/,"").replace(/\./g," "),f=a.href;if(144===d.ppi){let g=Math.round(d.width/2);return`<img width="${g}" alt="${e}" src="${f}">`}return`![${e}](${f})`}async function aN(a){let b={width:0,height:0,ppi:0};try{return await aw(a)??b}catch{return b}}function aO(a){let b=aG(a);return aF(a)?`
${b}
`:`${b}
`}function aP(a){var b;let c=a.currentTarget.querySelector(".js-comment-field"),d=(b=a.detail.attachment,aE.get(b)||aO(b));if(c)c.setCustomValidity(""),(0,ap.lp)(c,d,"");else{let e=aR(a.currentTarget);if(!e)return;let f=e.getSearchCursor(d);f.findNext(),f.replace("")}}function aQ(a,b,c,d){let e=(d||c.currentTarget).querySelector(".js-comment-field"),f=(d||c.currentTarget).querySelector(".js-file-upload-loading-text"),g=aG(c.detail.attachment),{batch:h}=c.detail;if(e){let i=e.value.substring(e.selectionStart,e.selectionEnd);if("uploading"===a){let j;j=i.length?(0,ap.t4)(e,i,g):(0,ap.Om)(e,g,{appendNewline:!0}),aE.set(c.detail.attachment,j)}else e.value.includes(g)||aD.set(g,b),(0,ap.lp)(e,g,b,document.activeElement===e);h.isFinished()?aI(c):aH(c)}else{let k=aR(d||c.currentTarget);if(k){if("uploading"===a){if(k.getSelection().length)k.replaceSelection(g);else{let l=k.getCursor(),m=aO(c.detail.attachment);k.replaceRange(m,l)}}else{let n=k.getSearchCursor(g);n.findNext(),n.replace(b)}}h.isFinished()?aI(c):aH(c)}if(f){let o=f.getAttribute("data-file-upload-message");f.textContent=`${o} (${h.uploaded()+1}/${h.size})`}}function aR(a){let b=a.querySelector(".js-react-code-editor");if(b)return(0,ar.hX)(b);let c=a.querySelector(".js-code-editor");if(!c)return;let d=(0,ar.Pi)(c);if(d)return d.editor}function aS(a){a.stopPropagation();let b=a.currentTarget;if(!b)return;let c=b.querySelector(".js-comment-field");if(c)!function(a,b){let c=a.getBoundingClientRect();"dragenter"===b.type&&ay.delete(a);let d=b.clientX-c.left,e=b.clientY-c.top+a.scrollTop;!function(a,b,c){let d=aC(a,b,c);a.setSelectionRange(d,d)}(a,d,e)}(c,a);else{let d=aR(b);if(d){let e=d.coordsChar({left:a.pageX,top:a.pageY});d.setCursor(e),d.focus()}}}function aT(){let a=document.querySelectorAll(".issue-form-textarea");for(let b of a)for(let[c,d]of aD)b.value.includes(c)&&((0,ap.lp)(b,c,d,document.activeElement===b),aD.delete(c))}(0,l.on)("upload:setup",".js-upload-markdown-image",function(a){aQ("uploading","",a)}),(0,l.on)("upload:complete",".js-upload-markdown-image",aJ),(0,l.on)("upload:error",".js-upload-markdown-image",function(a){aP(a);let{batch:b}=a.detail;b.isFinished()?aI(a):aH(a)}),(0,l.on)("dragenter","file-attachment",aS),(0,l.on)("dragover","file-attachment",aS),(0,l.on)("upload:invalid",".js-upload-markdown-image",function(a){aP(a);let{batch:b}=a.detail;b.isFinished()?aI(a):aH(a)});var aU=c(29501),aV=c(15205);function aW(a){let b=a.closest(".js-previewable-comment-form"),c=a.classList.contains("js-preview-tab");if(c){let d=b.querySelector(".js-write-bucket"),e=b.querySelector(".js-preview-body");d.clientHeight>0&&(e.style.minHeight=`${d.clientHeight}px`)}b.classList.toggle("preview-selected",c),b.classList.toggle("write-selected",!c);let f=b.querySelector('.tabnav-tab.selected, .tabnav-tab[aria-selected="true"]');f.setAttribute("aria-selected","false"),f.classList.remove("selected"),a.classList.add("selected"),a.setAttribute("aria-selected","true");let g=b.querySelector(".js-write-tab");return c?g.setAttribute("data-hotkey","Control+P,Meta+Shift+p"):g.removeAttribute("data-hotkey"),b}function aX(a){let b=a.getAttribute("data-preview-url"),c=function(a){let b=a.querySelector(".js-comment-field").value,c=a.querySelector(".js-path")?.value,d=a.querySelector(".js-line-number")?.value,e=a.querySelector(".js-start-line-number")?.value,f=a.querySelector(".js-side")?.value,g=a.querySelector(".js-start-side")?.value,h=a.querySelector(".js-start-commit-oid")?.value,i=a.querySelector(".js-end-commit-oid")?.value,j=a.querySelector(".js-base-commit-oid")?.value,k=a.querySelector(".js-comment-id")?.value,l=new FormData;return l.append("text",b),l.append("authenticity_token",function(a){let b=a.querySelector(".js-data-preview-url-csrf"),c=a.closest("form").elements.namedItem("authenticity_token");if(b instanceof HTMLInputElement)return b.value;if(c instanceof HTMLInputElement)return c.value;throw Error("Comment preview authenticity token not found")}(a)),c&&l.append("path",c),d&&l.append("line_number",d),e&&l.append("start_line_number",e),f&&l.append("side",f),g&&l.append("start_side",g),h&&l.append("start_commit_oid",h),i&&l.append("end_commit_oid",i),j&&l.append("base_commit_oid",j),k&&l.append("comment_id",k),l}(a);return(0,l.f)(a,"preview:setup",{data:c}),aY(b,c)}(0,l.on)("click",".js-write-tab",function(a){let b=a.currentTarget,c=b.closest(".js-previewable-comment-form");if(c instanceof aU.Z){setTimeout(()=>{c.querySelector(".js-comment-field").focus()});return}let d=aW(b);(0,l.f)(c,"preview:toggle:off");let e=c.querySelector(".js-discussion-poll-form-component");e&&(0,l.f)(e,"poll-preview:toggle:off"),setTimeout(()=>{d.querySelector(".js-comment-field").focus()});let f=c.querySelector("markdown-toolbar");f instanceof HTMLElement&&(f.hidden=!1)}),(0,l.on)("click",".js-preview-tab",function(a){let b=a.currentTarget,c=b.closest(".js-previewable-comment-form");if(c instanceof aU.Z)return;let d=aW(b);(0,l.f)(c,"preview:toggle:on"),setTimeout(()=>{a_(d)});let e=c.querySelector("markdown-toolbar");e instanceof HTMLElement&&(e.hidden=!0),a.stopPropagation(),a.preventDefault()}),(0,l.on)("tab-container-change",".js-previewable-comment-form",function(a){let b=a.detail.relatedTarget,c=b&&b.classList.contains("js-preview-panel"),d=a.currentTarget,e=d.querySelector(".js-write-tab");if(c){let f=d.querySelector(".js-write-bucket"),g=d.querySelector(".js-preview-body"),h=g.hasAttribute("data-skip-sizing");!h&&f.clientHeight>0&&(g.style.minHeight=`${f.clientHeight}px`),e.setAttribute("data-hotkey","Control+P,Meta+Shift+p"),a_(d);let i=d.querySelector("markdown-toolbar");i instanceof HTMLElement&&(i.hidden=!0)}else{e.removeAttribute("data-hotkey");let j=d.querySelector("markdown-toolbar");j instanceof HTMLElement&&(j.hidden=!1);let k=document.querySelector(".js-discussion-poll-form-component");k&&(0,l.f)(k,"poll-preview:toggle:off")}d.classList.toggle("preview-selected",c),d.classList.toggle("write-selected",!c)}),(0,l.on)("preview:render",".js-previewable-comment-form",function(a){let b=a.target.querySelector(".js-preview-tab"),c=aW(b);setTimeout(()=>{a_(c);let a=c.querySelector("markdown-toolbar");a instanceof HTMLElement&&(a.hidden=!0)})});let aY=(0,aV.Z)(a$,{hash:function(a,b){let c=[...b.entries()].toString();return`${a}:${c}`}}),aZ=null;async function a$(a,b){aZ?.abort();let{signal:c}=aZ=new AbortController,d=await fetch(a,{method:"post",body:b,signal:c});if(!d.ok)throw Error("something went wrong");return d.text()}async function a_(a){let b=a.querySelector(".comment-body");b.innerHTML="<p>Loading preview&hellip;</p>";try{let c=await aX(a);b.innerHTML=c||"<p>Nothing to preview</p>",(0,l.f)(a,"preview:rendered")}catch(d){"AbortError"!==d.name&&(b.innerHTML="<p>Error rendering preview</p>")}}(0,p.N7)(".js-preview-tab",function(a){a.addEventListener("mouseenter",async()=>{let b=a.closest(".js-previewable-comment-form");try{await aX(b)}catch(c){}})}),(0,D.w4)("keydown",".js-comment-field",function(a){let b=a.target;if((a.ctrlKey||a.metaKey)&&a.shiftKey&&"P"===a.key.toUpperCase()){let c=b.closest(".js-previewable-comment-form");c.classList.contains("write-selected")&&(c instanceof aU.Z?c.querySelector(".js-preview-tab").click():(b.blur(),c.dispatchEvent(new CustomEvent("preview:render",{bubbles:!0,cancelable:!1}))),a.preventDefault(),a.stopImmediatePropagation())}});let a0=/^(\+1|-1|:\+1?|:-1?)$/,a1=a=>{let b=!1;for(let c of a.split("\n")){let d=c.trim();if(!(!d||d.startsWith(">"))){if(b&& !1===a0.test(d))return!1;!b&&a0.test(d)&&(b=!0)}}return b};function a2(a){let b=a.target,c=b.value,d=b.closest(".js-reaction-suggestion");if(d){if(a1(c)){d.classList.remove("hide-reaction-suggestion"),d.classList.add("reaction-suggestion");let e=d.getAttribute("data-reaction-markup");d.setAttribute("data-reaction-suggestion-message",e)}else a3(d)}}function a3(a){a.classList.remove("reaction-suggestion"),a.classList.add("hide-reaction-suggestion"),a.removeAttribute("data-reaction-suggestion-message")}(0,l.on)("focusout","#new_comment_field",function(a){let b=a.currentTarget,c=b.closest(".js-reaction-suggestion");c&&a3(c)}),(0,l.on)("focusin","#new_comment_field",function(a){a2(a)}),(0,D.w4)("keyup","#new_comment_field",function(a){a2(a)});var a4=c(94313);(0,l.on)("navigation:keydown",".js-commits-list-item",function(a){(0,a4.Zf)(a.detail.originalEvent)&&a.target instanceof Element&&"c"===a.detail.hotkey&&a.target.querySelector(".js-navigation-open").click()}),c(26361),(0,D.q6)(".js-company-name-input",function(a){let b=a.target,c=b.form,d=c.querySelector(".js-corp-tos-link"),e=c.querySelector(".js-tos-link");e&&(e.classList.add("d-none"),e.setAttribute("aria-hidden","true"),d&&(d.classList.remove("d-none"),d.setAttribute("aria-hidden","false")));let f=c.querySelectorAll(".js-company-name-text");if(0!==f.length)for(let g of f)if(b.value){let h=g.hasAttribute("data-wording");if(h){let i=g.getAttribute("data-wording");g.textContent=` ${i} ${b.value}`}else g.textContent=b.value}else g.textContent=""}),(0,p.N7)(".js-company-owned:not(:checked)",{constructor:HTMLInputElement,add(a){let b=a.form,c=b.querySelector(".js-company-name-input"),d=document.querySelector(".js-company-name-text"),e=document.querySelector(".js-corp-tos-link"),f=document.querySelector(".js-tos-link");c&&(a.getAttribute("data-optional")&&c.removeAttribute("required"),(0,y.Se)(c,"")),f.classList.remove("d-none"),f.setAttribute("aria-hidden","false"),e.classList.add("d-none"),e.setAttribute("aria-hidden","true"),d&&(d.textContent="")}}),(0,p.N7)(".js-company-owned:checked",{constructor:HTMLInputElement,add(a){let b=a.form,c=b.querySelector(".js-company-name-input");c&&(c.setAttribute("required",""),(0,l.f)(c,"focus"),(0,l.f)(c,"input"))}}),(0,p.N7)(".js-company-owned-autoselect",{constructor:HTMLInputElement,add(a){let b=a;function c(){if(b.checked&&b.form){let a=b.form.querySelector(".js-company-owned");(0,y.Se)(a,!0)}}b.addEventListener("change",c),c()}});var a5=c(70763);c(92792);var a6=c(88309);async function a7({currentTarget:a}){let b=a,c=b.hasAttribute("open");(0,l.f)(b,c?"menu:activate":"menu:deactivate"),await (0,C.gJ)(),(0,l.f)(b,c?"menu:activated":"menu:deactivated")}(0,p.N7)("details.select-menu details-menu include-fragment",function(a){let b=a.closest("details");b&&(a.addEventListener("loadstart",function(){b.classList.add("is-loading"),b.classList.remove("has-error")}),a.addEventListener("error",function(){b.classList.add("has-error")}),a.addEventListener("loadend",function(){b.classList.remove("is-loading");let a=b.querySelector(".js-filterable-field");a&&(0,l.f)(a,"filterable:change")}))}),(0,p.N7)("details details-menu .js-filterable-field",{constructor:HTMLInputElement,add(a){let b=a.closest("details");b.addEventListener("toggle",function(){b.hasAttribute("open")||(a.value="",(0,l.f)(a,"filterable:change"))})}}),(0,p.N7)("details-menu[role=menu] [role=menu]",a=>{let b=a.closest("details-menu[role]");b&&b!==a&&b.removeAttribute("role")}),(0,p.N7)("details details-menu remote-input input",{constructor:HTMLInputElement,add(a){let b=a.closest("details");b.addEventListener("toggle",function(){b.hasAttribute("open")||(a.value="")})}}),(0,p.N7)("form details-menu",a=>{let b=a.closest("form");b.addEventListener("reset",()=>{setTimeout(()=>(function a(b){let c=b.querySelectorAll("details-menu [role=menuitemradio] input[type=radio]:checked");for(let d of c)(0,l.f)(d,"change")})(b),0)})}),(0,D.w4)("keypress","details-menu .js-filterable-field, details-menu filter-input input",a=>{if("Enter"===a.key){let b=a.currentTarget,c=b.closest("details-menu"),d=c.querySelector('[role^="menuitem"]:not([hidden])');d instanceof HTMLElement&&!d.classList.contains("select-menu-clear-item")&&d.click(),a.preventDefault()}}),(0,l.on)("details-menu-selected","details-menu",a=>{let b=a.currentTarget,c=b.querySelector(".js-filterable-field");c instanceof HTMLInputElement&&c.value&&c.focus()},{capture:!0}),(0,l.on)("details-menu-selected","[data-menu-input]",a=>{if(!(a.target instanceof Element))return;let b=a.target.getAttribute("data-menu-input"),c=document.getElementById(b);(c instanceof HTMLInputElement||c instanceof HTMLTextAreaElement)&&(c.value=a.detail.relatedTarget.value)},{capture:!0}),(0,p.N7)("details-menu remote-input",{constructor:a6.Z,initialize(a){let b=document.getElementById(a.getAttribute("aria-owns")||"");if(!b)return;let c=null;a.addEventListener("load",()=>{c=document.activeElement&&b.contains(document.activeElement)&&document.activeElement.id?document.activeElement.id:null}),a.addEventListener("loadend",()=>{if(c){let d=b.querySelector(`#${c}`)||b.querySelector('[role^="menu"]');d instanceof HTMLElement?d.focus():a.input&&a.input.focus()}})}}),(0,l.on)("details-menu-selected","details-menu[data-menu-max-options]",a=>{let b=+a.currentTarget.getAttribute("data-menu-max-options"),c=a.currentTarget.querySelectorAll('[role="menuitemcheckbox"][aria-checked="true"]'),d=b===c.length;for(let e of(a.currentTarget.querySelector("[data-menu-max-options-warning]").hidden=!d,a.currentTarget.querySelectorAll('[role="menuitemcheckbox"] input')))e.disabled=d&&!e.checked},{capture:!0}),(0,p.N7)("details > details-menu",{subscribe(a){let b=a.closest("details");return(0,F.RB)(b,"toggle",a7)}}),(0,p.N7)("details > details-menu[preload]:not([src])",{subscribe:a=>(0,F.RB)(a.parentElement,"mouseover",function(a){let b=a.currentTarget,c=b.querySelector("include-fragment[src]");c?.load()})}),(0,p.N7)("button[data-show-dialog-id]",a=>{a?.addEventListener("mouseenter",()=>{let b=a.getAttribute("data-show-dialog-id"),c=a.ownerDocument.getElementById(b);c?.querySelector("include-fragment[loading=lazy]")?.setAttribute("loading","eager")})});let a8=new WeakMap,a9="input[type=submit][data-disable-with], button[data-disable-with]";function ba(a){return a instanceof HTMLInputElement?a.value||"Submit":a.innerHTML||""}function bb(a,b){a instanceof HTMLInputElement?a.value=b:a.innerHTML=b}function bc(a){for(let b of a.querySelectorAll(a9)){let c=a8.get(b);null!=c&&(bb(b,c),(!b.hasAttribute("data-disable-invalid")||a.checkValidity())&&(b.disabled=!1),a8.delete(b))}}(0,l.on)("submit","form",function(a){for(let b of a.currentTarget.querySelectorAll(a9)){a8.set(b,ba(b));let c=b.getAttribute("data-disable-with");c&&bb(b,c),b.disabled=!0}},{capture:!0}),(0,l.on)("deprecatedAjaxComplete","form",function({currentTarget:a,target:b}){a===b&&bc(a)}),(0,m.uT)(bc),c(74721);var bd=c(69567);async function be(a,b){let d=new TextEncoder,e=d.encode(b),{seal:f}=await Promise.all([c.e("vendors-node_modules_blakejs_index_js-node_modules_tweetnacl_nacl-fast_js"),c.e("_empty-file_js-app_assets_modules_github_tweetsodium_ts")]).then(c.bind(c,20179));return f(e,a)}function bf(a){let b=atob(a).split("").map(a=>a.charCodeAt(0));return Uint8Array.from(b)}function bg(a){let b="";for(let c of a)b+=String.fromCharCode(c);return btoa(b)}function bh(a){return async function(b){let c=b.currentTarget;if(b.defaultPrevented||!c.checkValidity())return;let d=bf(c.getAttribute("data-public-key"));for(let e of(b.preventDefault(),c.elements)){let f=e;if(f.id.endsWith("secret")){if(f.disabled=!0,f.required&&!f.value){let g=`${f.name} is invalid!`,h=document.querySelector("template.js-flash-template");h.after(new bd.R(h,{className:"flash-error",message:g}));return}let i=`${f.name}_encrypted_value`;if(!f.value){c.elements.namedItem(i).disabled=a;continue}c.elements.namedItem(i).value=bg(await be(d,f.value))}}c.submit()}}(0,l.on)("submit","form.js-encrypt-submit",async function(a){let b=a.currentTarget;if(a.defaultPrevented||!b.checkValidity())return;let c=b.elements.namedItem("secret_value");if(c.disabled=!0,!c.value)return;a.preventDefault();let d=bf(b.getAttribute("data-public-key"));b.elements.namedItem("encrypted_value").value=bg(await be(d,c.value)),b.submit()}),(0,l.on)("submit","form.js-encrypt-bulk-submit",bh(!0)),(0,l.on)("submit","form.js-encrypt-bulk-submit-enable-empty",bh(!1));var bi=c(31167);let bj;function bk(a,b){let c=document.querySelector('.js-site-favicon[type="image/svg+xml"]'),d=document.querySelector('.js-site-favicon[type="image/png"]');b||(b="light");let e="light"===b?"":"-dark";if(c&&d){if(null==bj&&(bj=c.href),a){a=`${a=a.substr(0,a.lastIndexOf("."))}${e}.svg`,c.href=a;let f=c.href.substr(0,c.href.lastIndexOf("."));d.href=`${f}.png`}else{let g=c.href.indexOf("-dark.svg"),h=c.href.substr(0,-1!==g?g:c.href.lastIndexOf("."));c.href=`${h}${e}.svg`,d.href=`${h}${e}.png`}}}function bl(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}function bm(){bl()&&bk(void 0,"dark")}async function bn(a){let b=a.getAttribute("data-feature-preview-indicator-src"),c=await bo(b),d=a.querySelectorAll(".js-feature-preview-indicator");for(let e of d)e.hidden=!c}async function bo(a){try{let b=await fetch(a,{headers:{Accept:"application/json"}});if(!b.ok)return!1;let c=await b.json();return c.show_indicator}catch{return!1}}(0,p.N7)("[data-favicon-override]",{add(a){let b=a.getAttribute("data-favicon-override");setTimeout(()=>bk(b,bl()?"dark":"light"))},remove(){null!=bj&&bk(bj,bl()?"dark":"light")}}),bm(),document.addEventListener(bi.QE.SUCCESS,bm),window.matchMedia("(prefers-color-scheme: dark)").addListener(()=>{bk(void 0,bl()?"dark":"light")}),(0,p.N7)(".js-feature-preview-indicator-container",a=>{bn(a)});var bp=c(19146),bq=c(98249);(0,l.on)("click","[data-feature-preview-trigger-url]",async a=>{let b=a.currentTarget,c=b.getAttribute("data-feature-preview-trigger-url"),d=await (0,bp.W)({content:(0,bq.a)(document,c),dialogClass:"feature-preview-dialog"}),e=b.getAttribute("data-feature-preview-close-details"),f=b.getAttribute("data-feature-preview-close-hmac");d.addEventListener("dialog:remove",()=>{(0,q.b)({hydroEventPayload:e,hydroEventHmac:f},!0)});let g=document.querySelectorAll(".js-feature-preview-indicator");for(let h of g)h.hidden=!0}),(0,m.AC)(".js-feature-preview-unenroll",async(a,b)=>{await b.text();let c=a.querySelector(".js-feature-preview-slug").value;(0,l.f)(a,`feature-preview-unenroll:${c}`)}),(0,m.AC)(".js-feature-preview-enroll",async(a,b)=>{await b.text();let c=a.querySelector(".js-feature-preview-slug").value;(0,l.f)(a,`feature-preview-enroll:${c}`)});let br=class AttachmentUpload{async process(a){let b=window.performance.now(),c=new Headers(this.policy.header||{}),d=new XMLHttpRequest;for(let[e,f]of(d.open("POST",this.policy.upload_url,!0),c))d.setRequestHeader(e,f);d.onloadstart=()=>{a.attachmentUploadDidStart(this.attachment,this.policy)},d.upload.onprogress=b=>{if(b.lengthComputable){let c=Math.round(b.loaded/b.total*100);a.attachmentUploadDidProgress(this.attachment,c)}},await bs(d,bt(this.attachment,this.policy)),204===d.status?(bu(this.policy),a.attachmentUploadDidComplete(this.attachment,this.policy,{})):201===d.status?(bu(this.policy),a.attachmentUploadDidComplete(this.attachment,this.policy,JSON.parse(d.responseText))):a.attachmentUploadDidError(this.attachment,{status:d.status,body:d.responseText});let g=window.performance.now(),h=g-b,i={duration:h,size:this.attachment?.file?.size,fileType:this.attachment?.file?.type,success:204===d.status||201===d.status};(0,q.b)({uploadTiming:i},!0)}constructor(a,b){this.attachment=a,this.policy=b}};function bs(a,b){return new Promise((c,d)=>{a.onload=()=>c(a),a.onerror=d,a.send(b)})}function bt(a,b){let c=new FormData;for(let d in b.same_origin&&c.append("authenticity_token",b.upload_authenticity_token),b.form)c.append(d,b.form[d]);return c.append("file",a.file),c}function bu(a){let b="string"==typeof a.asset_upload_url?a.asset_upload_url:null,c="string"==typeof a.asset_upload_authenticity_token?a.asset_upload_authenticity_token:null;if(!(b&&c))return;let d=new FormData;d.append("authenticity_token",c),fetch(b,{method:"PUT",body:d,credentials:"same-origin",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})}async function bv(a,b){let c=bz(a,b);for(let d of a.attachments){let e=await bw(a,d,b);if(!e)return;try{let f=new br(d,e);await f.process(c)}catch{a.setAttachmentAsFailed(d),(0,l.f)(b,"upload:error",{batch:a,attachment:d}),bE(b,"is-failed");return}}}async function bw(a,b,c){let d=bx(b,c),e=[];(0,l.f)(c,"upload:setup",{batch:a,attachment:b,form:d,preprocess:e});try{await Promise.all(e);let f=await fetch(by(d,c));if(f.ok)return await f.json();a.setAttachmentAsFailed(b),(0,l.f)(c,"upload:invalid",{batch:a,attachment:b});let g=await f.text(),h=f.status,{state:i,messaging:j}=bB({status:h,body:g},b.file);bE(c,i,j)}catch{a.setAttachmentAsFailed(b),(0,l.f)(c,"upload:invalid",{batch:a,attachment:b}),bE(c,"is-failed")}return null}function bx(a,b){let c=b.querySelector(".js-data-upload-policy-url-csrf").value,d=b.getAttribute("data-upload-repository-id"),e=b.getAttribute("data-subject-type"),f=b.getAttribute("data-subject-param"),g=a.file,h=new FormData;return h.append("name",g.name),h.append("size",String(g.size)),h.append("content_type",g.type),h.append("authenticity_token",c),e&&h.append("subject_type",e),f&&h.append("subject",f),d&&h.append("repository_id",d),a.directory&&h.append("directory",a.directory),h}function by(a,b){return new Request(b.getAttribute("data-upload-policy-url"),{method:"POST",body:a,credentials:"same-origin",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})}function bz(a,b){return{attachmentUploadDidStart(c,d){c.saving(0),bE(b,"is-uploading"),(0,l.f)(b,"upload:start",{batch:a,attachment:c,policy:d})},attachmentUploadDidProgress(c,d){c.saving(d),(0,l.f)(b,"upload:progress",{batch:a,attachment:c})},attachmentUploadDidComplete(c,d,e){c.saved(bA(e,d)),(0,l.f)(b,"upload:complete",{batch:a,attachment:c}),a.isFinished()&&bE(b,"is-default")},attachmentUploadDidError(c,d){a.setAttachmentAsFailed(c),(0,l.f)(b,"upload:error",{batch:a,attachment:c});let{state:e}=bB(d);bE(b,e)}}}function bA(a,b){let c=(null==a.id?null:String(a.id))||(null==b.asset.id?null:String(b.asset.id)),d=("string"==typeof a.href?a.href:null)||("string"==typeof b.asset.href?b.asset.href:null);return{id:c,href:d,name:b.asset.name}}function bB(a,b){if(400===a.status)return{state:"is-bad-file"};if(422!==a.status)return{state:"is-failed"};let c=JSON.parse(a.body);if(!c||!c.errors)return{state:"is-failed"};for(let d of c.errors)switch(d.field){case"size":{let e=b?b.size:null;if(null!=e&&0===e)return{state:"is-empty"};return{state:"is-too-big",messaging:{message:bC(d.message),target:".js-upload-too-big"}}}case"file_count":return{state:"is-too-many"};case"width":case"height":return{state:"is-bad-dimensions"};case"name":if("already_exists"===d.code)return{state:"is-duplicate-filename"};return{state:"is-bad-file"};case"content_type":return{state:"is-bad-file"};case"uploader_id":return{state:"is-bad-permissions"};case"repository_id":return{state:"is-repository-required"};case"format":return{state:"is-bad-format"}}return{state:"is-failed"}}let bC=a=>a.startsWith("size")?a.substring(5):a,bD=["is-default","is-uploading","is-bad-file","is-duplicate-filename","is-too-big","is-too-many","is-hidden-file","is-failed","is-bad-dimensions","is-empty","is-bad-permissions","is-repository-required","is-bad-format",];function bE(a,b,c){if(c){let{message:d,target:e}=c,f=a.querySelector(e);f&&(f.innerHTML=d)}a.classList.remove(...bD),a.classList.add(b)}let bF=class Batch{percent(){let a=a=>a.file.size*a.percent/100,b=bG(this.attachments,a);return Math.round(b/this.total*100)}uploaded(){return bG(this.attachments,a=>a.isSaved()?1:0)}isFinished(){return this.attachments.every(a=>this.failedAttachments.includes(a)||a.isSaved())}setAttachmentAsFailed(a){this.attachments.includes(a)&&!this.failedAttachments.includes(a)&&this.failedAttachments.push(a)}constructor(a){this.attachments=a,this.failedAttachments=[],this.size=this.attachments.length,this.total=bG(this.attachments,a=>a.file.size)}};function bG(a,b){return a.reduce((a,c)=>a+b(c),0)}(0,p.N7)("file-attachment[hover]",{add(a){a.classList.add("dragover")},remove(a){a.classList.remove("dragover")}}),(0,l.on)("file-attachment-accept","file-attachment",function(a){let{attachments:b}=a.detail;0===b.length&&(bE(a.currentTarget,"is-hidden-file"),a.preventDefault())}),(0,l.on)("file-attachment-accepted","file-attachment",function(a){let b=a.currentTarget.querySelector(".drag-and-drop");if(b&&b.hidden)return;let{attachments:c}=a.detail;bv(new bF(c),a.currentTarget)});let bH=0;function bI(a){return Array.from(a.types).indexOf("Files")>=0}function bJ(a){let b=a.dataTransfer;b&&bI(b)&&a.preventDefault()}function bK(a){let b=a.dataTransfer;b&&bI(b)&&a.preventDefault()}function bL({currentTarget:a}){let b=a.querySelector("file-attachment");bE(b,"is-default")}(0,p.N7)("file-attachment",{add(a){0==bH++&&(document.addEventListener("drop",bJ),document.addEventListener("dragover",bK));let b=a.closest("form");b&&b.addEventListener("reset",bL)},remove(a){0== --bH&&(document.removeEventListener("drop",bJ),document.removeEventListener("dragover",bK));let b=a.closest("form");b&&b.removeEventListener("reset",bL)}});var bM=c(13002);function bN(a,b,c,d={}){let e=d.limit??1/0,f=0;for(let g of a.children){let h=c(g,b);null==h||(h&&f<e?(f++,bO(g,!0)):bO(g,!1))}return f}function bO(a,b){a.style.display=b?"":"none",a.hidden=!b}(0,l.on)("filter-input-updated","filter-input",a=>{let b=a.currentTarget.input;if(!(document.activeElement&&document.activeElement===b))return;let{count:c,total:d}=a.detail;(0,s.x)(`Found ${c} out of ${d} ${1===d?"item":"items"}`)}),(0,l.on)("toggle","details",a=>{setTimeout(()=>(function a(b){let c=b.querySelector("filter-input");c&&!b.hasAttribute("open")&&c.reset()})(a.target),0)},{capture:!0}),(0,l.on)("tab-container-changed","tab-container",a=>{if(!(a.target instanceof HTMLElement))return;let{relatedTarget:b}=a.detail,c=a.target.querySelector("filter-input");c instanceof bM.Z&&c.setAttribute("aria-owns",b.id)},{capture:!0});var bP=c(87738),bQ=c(41982);let bR=new WeakMap;function bS(a,b,c){let d=b.toLowerCase(),e=c.limit,f=bR.get(a),g=a.querySelector('input[type="radio"]:checked'),h=Array.from(a.children);if(f){if(a.classList.contains("filter-sort-list-refresh")){a.classList.remove("filter-sort-list-refresh");let i=Array.from(a.children);for(let j of i)f.includes(j)||f.push(j)}}else f=Array.from(a.children),bR.set(a,f);for(let k of h)a.removeChild(k),k instanceof HTMLElement&&(k.style.display="");let l=d?(0,bQ.W)(f,c.sortKey,bP.qu):f,m=null==e?l:l.slice(0,e),n=m.length,o=document.createDocumentFragment();for(let p of m)o.appendChild(p);let q=!1;if(g instanceof HTMLInputElement)for(let r of o.querySelectorAll('input[type="radio"]:checked'))r instanceof HTMLInputElement&&r.value!==g.value&&(r.checked=!1,q=!0);a.appendChild(o),g&&q&&g.dispatchEvent(new Event("change",{bubbles:!0}));let s=a.querySelectorAll(".js-divider");for(let t of s)t.classList.toggle("d-none",Boolean(d&&d.trim().length>0));return n}var bT=c(40458);let bU=new AbortController,bV=new WeakMap,bW=new WeakMap,bX=new WeakMap;async function bY(a,b,c,d){c&&!bV.has(a)&&b_(a);let e=await bZ(a,b,c,d),f=a.hasAttribute("data-filterable-data-pre-rendered");return f&&(e.suggestions=b$(a,c)),e}async function bZ(a,b,c,d){let e=new URL(a.getAttribute("data-filterable-src")||"",window.location.origin);if("/"===e.pathname)throw Error("could not get data-filterable-src");if(c){let f=bV.get(a),g=b.trim();if(f.lastSearchText===g)return f.lastSearchResult;let h=void 0===f.lastSearchText;f.lastSearchText=g;let i=a.getAttribute("data-filterable-for")||"",j=document.getElementById(i);if(bU.abort(),""!==g||d){bU=new AbortController;let k={headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},signal:bU.signal},l=e.searchParams||new URLSearchParams;l.set("q",b),l.set("typeAhead","true"),e.search=l.toString(),h||j?.classList.add("is-loading");let m=await fetch(e.toString(),k);f.lastSearchResult=await m.json()}else f.lastSearchResult={suggestions:[],users:[]};return j?.classList.remove("is-loading"),f.lastSearchResult}{let n={headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}},o=await fetch(e.toString(),n);return await o.json()}}function b$(a,b){let c=[],d=a.querySelectorAll(".js-filterable-suggested-user");if(d.length>0)for(let e of a.querySelectorAll(".js-filterable-suggested-user"))e.classList.remove("js-filterable-suggested-user"),c.push({name:e.querySelector(".js-description").textContent,login:e.querySelector(".js-username").textContent,selected:"true"===e.getAttribute("aria-checked"),element:e,suggestion:!0});if(b){let f=bV.get(a);return d.length>0&&(f.cachedSuggestions=c,f.userResultCache.clear()),f.cachedSuggestions}return c}function b_(a){bV.set(a,{lastSearchResult:{suggestions:[],users:[]},cachedSuggestions:[],userResultCache:new Map})}async function b0(a,b,c){bX.set(a,b),await (0,bT.Z)();let d=a.hasAttribute("data-filterable-show-suggestion-header"),e=a.hasAttribute("data-filterable-type-ahead"),f=a.hasAttribute("data-filterable-type-ahead-query-on-empty"),g=bW.get(a);if(!g)try{g=await bY(a,b,e,f),e||bW.set(a,g)}catch(h){if("AbortError"===h.name)return -1;throw h}if(!e&&bX.get(a)!==b)return -1;let i=c.limit,j=a.querySelector("template"),k={};for(let l of a.querySelectorAll("input[type=hidden]"))k[`${l.name}${l.value}`]=l;let m=j.nextElementSibling;for(;m;){let n=m;m=n.nextElementSibling,n instanceof HTMLElement&&(e||"true"===n.getAttribute("aria-checked")||n.classList.contains("select-menu-divider"))?n.hidden=!0:n.remove()}let o=0,p=""===b.trim(),q=document.createDocumentFragment(),r=a.querySelector(".js-divider-suggestions"),s=a.querySelector(".js-divider-rest"),t=bV.get(a);function u(a){let c=`${a.login} ${a.name}`.toLowerCase().trim().includes(b),d=!(null!=i&&o>=i)&&c,e=d||a.selected||a.suggestion;if(e){let f=b1(a,j,k,t);f.hidden=!d,d&&o++,q.appendChild(f)}}let v=!1;if(r&&(g.suggestions?.length>0||d&&g.users.length>0)){let w=g.suggestions??[],x=w.filter(a=>a.selected),y=w.filter(a=>!a.selected);for(let z of x)u(z);q.appendChild(r);let A=o;for(let B of y)u(B);v=o>A,r.hidden=!v||e&&!p,d&&g.users.length>0&&(r.hidden=!p)}s&&q.appendChild(s);let C=o;for(let D of g.users)u(D);return s&&(s.hidden=C===o||!v),a.append(q),o}function b1(a,b,c,d){if(null!=a.element)return a.element;if(d?.userResultCache.has(a.id))return d.userResultCache.get(a.id);let e=b.content.cloneNode(!0),f=e.querySelector("input[type=checkbox], input[type=radio]");a.type&&(f.name=`reviewer_${a.type}_ids[]`),f.value=a.id;let g=`${f.name}${a.id}`,h=a.selected;c[g]&&(h=!0,c[g].remove(),delete c[g]);let i=e.querySelector("[role^=menuitem]");h&&(i.setAttribute("aria-checked","true"),f.checked=!0),a.disabled&&i.setAttribute("aria-disabled","true");let j=e.querySelector(".js-username");j&&(j.textContent=a.login);let k=e.querySelector(".js-description");k&&(k.textContent=a.name);let l=e.querySelector(".js-extended-description");l&&(a.description?l.textContent=a.description:l.remove());let m=e.querySelector(".js-avatar");return m.className=`${m.className} ${a.class}`,m.src=a.avatar,a.element=i,d?.userResultCache.set(a.id,i),a.element}let b2=new AbortController,b3=new WeakMap,b4=new WeakMap,b5=new WeakMap;async function b6(a,b,c){await (0,bT.Z)(),b5.set(a,b);let d=b4.get(a);if(!d)try{d=await b7(a,b)}catch(e){if("AbortError"===e.name)return -1;throw e}let f={};for(let g of a.querySelectorAll("label[aria-checked=true] > div > input[hidden]"))f[`${g.name}${g.value}`]=g;let h=a.querySelector("template"),i=h.nextElementSibling;for(;i;){let j=i;i=j.nextElementSibling,j instanceof HTMLElement&&("true"===j.getAttribute("aria-checked")||j.classList.contains("select-menu-divider"))?j.hidden=!0:j.remove()}let k=document.createDocumentFragment(),l=b3.get(a),m=c.limit,n=0;function o(a){let c=`${a.name}`.toLowerCase().trim().includes(b.toLocaleLowerCase()),d=!(null!=m&&n>=m)&&c,e=d||a.selected;if(e){let g=ca(a,h,f,l);g.hidden=!d,d&&n++,k.appendChild(g)}}for(let p of d.labels)o(p);return a.append(k),n}async function b7(a,b){if(!b3.has(a)){var c;c=a,b3.set(c,{lastSearchResult:{labels:[]},cachedSuggestions:[],labelResultCache:new Map})}let d=a.hasAttribute("data-filterable-data-pre-rendered");return d?b8(a):await b9(a,b)}function b8(a){let b=[],c=a.querySelectorAll(".js-filterable-label");if(a.removeAttribute("data-filterable-data-pre-rendered"),c.length>0)for(let d of a.querySelectorAll(".js-filterable-label"))d.classList.remove("js-filterable-label"),b.push({id:d.querySelector("input[hidden]").getAttribute("value")||"",name:d.querySelector("input[hidden]").getAttribute("data-label-name")||"",htmlName:d.querySelector(".js-label-name-html").textContent,description:d.querySelector(".js-label-description")?.textContent||"",color:d.querySelector(".js-label-color").getAttribute("label-color")||"",selected:"true"===d.getAttribute("aria-checked"),element:d});let e=b3.get(a);return b.length>0&&(e.cachedSuggestions=b,e.lastSearchText="",e.lastSearchResult={labels:b}),e.lastSearchResult}async function b9(a,b){let c=new URL(a.getAttribute("data-filterable-src")||"",window.location.origin);if("/"===c.pathname)throw Error("could not get data-filterable-src");let d=b3.get(a),e=b.trim();if(d.lastSearchText===e)return d.lastSearchResult;d.lastSearchText=e;let f=a.getAttribute("data-filterable-for")||"",g=document.getElementById(f);b2.abort(),b2=new AbortController;let h={headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},signal:b2.signal},i=c.searchParams||new URLSearchParams;i.set("q",b),i.set("typeAhead","true"),c.search=i.toString(),g?.classList.add("is-loading");let j=await fetch(c.toString(),h);return d.lastSearchResult=await j.json(),g?.classList.remove("is-loading"),d.lastSearchResult}function ca(a,b,c,d){if(null!=a.element)return a.element;let e=d?.labelResultCache.get(a.id);if(e)return e;let f=b.content.cloneNode(!0),g=f.querySelector("input[type=checkbox]");g.value=a.id,g.setAttribute("data-label-name",a.name);let h=`${g.name}${a.id}`,i=a.selected;c[h]&&(i=!0,c[h].remove(),delete c[h]);let j=f.querySelector("[role^=menuitem]");i&&(j.setAttribute("aria-checked","true"),g.checked=!0);let k=f.querySelector(".js-label-id");k&&k.setAttribute("data-name",a.id);let l=f.querySelector(".js-label-color");if(l){let m=l.getAttribute("style")?.replace("background-color:",`background-color:#${a.color};`);l.setAttribute("style",m)}let n=f.querySelector(".js-label-name-html");n&&(n.innerHTML=a.htmlName);let o=f.querySelector(".js-label-description");return o&&(a.description?o.textContent=a.description:o.remove()),a.element=j,d?.labelResultCache.set(a.id,j),a.element}async function cb(a,b){let c=parseInt(a.getAttribute("data-filterable-limit"),10)||null,d=0;switch(a.getAttribute("data-filterable-type")){case"fuzzy-prio":{let e=b.toLowerCase(),f=a=>{let b=a.getAttribute("data-prio-filter-value").toLowerCase().trim(),c=a.textContent.toLowerCase().trim(),d=2*(0,bP.EW)(b,e,.01),f=(0,bP.EW)(c,e,.01);return d>f&&(f=d),f>0?{score:f,text:c}:null};d=bS(a,b,{limit:c,sortKey:f});break}case"fuzzy":{let g=b.toLowerCase(),h=a=>{var b;let c=(b=a).hasAttribute("data-filter-value")?b.getAttribute("data-filter-value").toLowerCase().trim():b.textContent.toLowerCase().trim(),d=(0,bP.EW)(c,g);return d>0?{score:d,text:c}:null};d=bS(a,b,{limit:c,sortKey:h});break}case"substring":d=bN(a,b.toLowerCase(),cd,{limit:c});break;case"substring-memory":d=await b0(a,b,{limit:c});break;case"labels-typeahead":d=await b6(a,b,{limit:c});break;default:d=bN(a,b.toLowerCase(),cc,{limit:c})}return a.classList.toggle("filterable-active",b.length>0),a.classList.toggle("filterable-empty",0===d),d}function cc(a,b){return a.textContent.toLowerCase().trim().startsWith(b)}function cd(a,b){if(a.hasAttribute("data-skip-substring-filter")||a.classList.contains("select-menu-no-results"))return null;let c=a.querySelector("[data-filterable-item-text]")||a;return c.textContent.toLowerCase().trim().includes(b)}(0,p.N7)(".js-filterable-field",{constructor:HTMLInputElement,initialize(a){a.autocomplete||(a.autocomplete="off");let b=a.hasAttribute("type-ahead")?200:null,c=a.value;async function d(a){c!==a.value&&(c=a.value,await (0,C.gJ)(),(0,l.f)(a,"filterable:change"))}async function e(){c=a.value,await (0,C.gJ)(),(0,l.f)(a,"filterable:change")}return{add(a){a.addEventListener("focus",e),(0,K.oq)(a,d,{wait:b}),document.activeElement===a&&e()},remove(a){a.removeEventListener("focus",e),(0,K.iU)(a,d)}}}}),(0,l.on)("filterable:change",".js-filterable-field",async function(a){let b=a.currentTarget,c=b.value.trim().toLowerCase(),d=document.querySelectorAll(`[data-filterable-for="${b.id}"]`);for(let e of d){let f=await cb(e,c);if(-1===f)return;document.activeElement&&b===document.activeElement&&(0,s.x)(`${f} results found.`),e.dispatchEvent(new CustomEvent("filterable:change",{bubbles:!0,cancelable:!1,detail:{inputField:b}}))}});function ce(a,b){for(let c of a.querySelectorAll("[data-menu-button-text]")){let d=c.textContent.toLowerCase().trim();if(d===b.toLowerCase())return!0}return!1}(0,l.on)("filterable:change","details-menu .select-menu-list",function(a){let b=a.currentTarget,c=b.querySelector(".js-new-item-form");c&&function a(b,c,d){let e=d.length>0&&!ce(b,d);if(b.classList.toggle("is-showing-new-item-form",e),!e)return;c.querySelector(".js-new-item-name").textContent=d;let f=c.querySelector(".js-new-item-value");(f instanceof HTMLInputElement||f instanceof HTMLButtonElement)&&(f.value=d)}(b,c,a.detail.inputField.value)}),(0,p.N7)("tab-container .select-menu-list .filterable-empty, details-menu .select-menu-list .filterable-empty",{add(a){let b=a.closest(".select-menu-list");b.classList.add("filterable-empty")},remove(a){let b=a.closest(".select-menu-list");b.classList.remove("filterable-empty")}});var cf=c(3126),cg=c(81574);function ch(){let a=document.firstElementChild;!a.classList.contains("js-skip-scroll-target-into-view")&&(0,cf.lA)(document)&&(0,cf.kc)(document)}(0,cg.Z)(ch),(0,l.on)("click",'a[href^="#"]',function(a){let{currentTarget:b}=a;b instanceof HTMLAnchorElement&&setTimeout(ch,0)}),(0,l.on)("click",".js-flash-close",function(a){let b=a.currentTarget.closest(".flash-messages"),c=a.currentTarget.closest(".flash");c.remove(),b&&!b.querySelector(".flash")&&b.remove()}),async function(){await Y.C;let a=document.querySelector('.js-flash-alert[role="alert"]');if(a){let b=document.createTextNode("\xa0");setTimeout(()=>{a.appendChild(b)},200)}}();let ci=["flash-notice","flash-error","flash-message","flash-warn"];(0,p.N7)("template.js-flash-template",{constructor:HTMLTemplateElement,add(a){!function(a){for(let{key:b,value:c}of ci.flatMap(ac.$1)){(0,ac.kT)(b);let d;try{d=atob(decodeURIComponent(c))}catch{continue}a.after(new bd.R(a,{className:b,message:d}))}}(a)}});let cj=new WeakMap;document.addEventListener("focus",function(a){let b=a.target;b instanceof Element&&!cj.get(b)&&((0,l.f)(b,"focusin:delay"),cj.set(b,!0))},{capture:!0}),document.addEventListener("blur",function(a){setTimeout(function(){let b=a.target;b instanceof Element&&b!==document.activeElement&&((0,l.f)(b,"focusout:delay"),cj.delete(b))},200)},{capture:!0}),(0,m.AC)(".js-form-toggle-target",async function(a,b){try{await b.text()}catch{return}let c=a.closest(".js-form-toggle-container");c.querySelector(".js-form-toggle-target[hidden]").hidden=!1,a.hidden=!0});var ck=c(97895);function cl(a){a instanceof CustomEvent&&(0,s.x)(`${a.detail} results found.`)}function cm(a){let b=document.querySelectorAll(".js-hook-event-checkbox");for(let c of b)c.checked=c.matches(a)}(0,p.N7)("fuzzy-list",{constructor:ck.Z,subscribe:a=>(0,F.RB)(a,"fuzzy-list-sorted",cl)}),(0,l.on)("click",".email-hidden-toggle",function(a){let b=a.currentTarget.nextElementSibling;b instanceof HTMLElement&&(b.style.display="",b.classList.toggle("expanded"),a.preventDefault())}),c(20332),(0,p.N7)(".js-hook-url-field",{constructor:HTMLInputElement,add(a){function b(){let b=a.form;if(!b)return;let c;try{c=new URL(a.value)}catch(d){}let e=b.querySelector(".js-invalid-url-notice");e instanceof HTMLElement&&(e.hidden=!!(""===a.value||c&&/^https?:/.test(c.protocol)));let f=b.querySelector(".js-insecure-url-notice");f instanceof HTMLElement&&c&&a.value&&(f.hidden=/^https:$/.test(c.protocol));let g=b.querySelector(".js-ssl-hook-fields");g instanceof HTMLElement&&(g.hidden=!(c&&"https:"===c.protocol))}(0,K.oq)(a,b),b()}}),(0,l.on)("change",".js-hook-event-choice",function(a){let b=a.currentTarget,c=b.checked&&"custom"===b.value,d=b.closest(".js-hook-events-field");if(d&&d.classList.toggle("is-custom",c),b.checked){if(c){let e=document.querySelector(".js-hook-wildcard-event");e.checked=!1}else"push"===b.value?cm('[value="push"]'):"all"===b.value&&cm(".js-hook-wildcard-event")}}),(0,l.on)("click",".js-hook-deliveries-pagination-button",async function(a){let b=a.currentTarget;b.disabled=!0;let c=b.parentElement,d=b.getAttribute("data-url");c.before(await (0,bq.a)(document,d)),c.remove()}),(0,m.AC)(".js-redeliver-hook-form",async function(a,b){let c;try{c=await b.html()}catch(d){a.classList.add("failed");return}let e=document.querySelector(".js-hook-deliveries-container");e.replaceWith(c.html)});var cn=c(11793);(0,p.N7)("[data-hotkey]",{constructor:HTMLElement,add(a){if((0,a4.Ty)())(0,cn.N9)(a);else{let b=a.getAttribute("data-hotkey");if(b){let c=function a(b){let c=b.split(",");return c.filter(a=>(0,a4.YE)(a)).join(",")}(b);c.length>0&&(a.setAttribute("data-hotkey",c),(0,cn.N9)(a))}}},remove(a){(0,cn.Tz)(a)}});var co=c(29764);let cp=document.querySelector(".js-hovercard-content");(0,p.N7)(".js-hovercard-content",a=>{cp=a});let cq=(0,aV.Z)(bq.a),cr,cs=null,ct,cu=!1,cv=!1,cw=0,cx=12,cy=24,cz=7,cA=cy-cz,cB=16;function cC(){cp instanceof HTMLElement&&(cp.style.display="none",cp.children[0].textContent="",cs=null,cr=null)}async function cD(a,b){let c="ontouchstart"in document;if(c)return;let d=a.currentTarget;if(a instanceof MouseEvent&&(cw=a.clientX),!(d instanceof Element)||cr===d||d.closest(".js-hovercard-content")||!function(a){let b=a.getAttribute("data-hovercard-type");return"pull_request"===b||"issue"===b?!!a.closest("[data-issue-and-pr-hovercards-enabled]"):"team"===b?!!a.closest("[data-team-hovercards-enabled]"):"repository"===b?!!a.closest("[data-repository-hovercards-enabled]"):"commit"===b?!!a.closest("[data-commit-hovercards-enabled]"):"project"===b?!!a.closest("[data-project-hovercards-enabled]"):"discussion"===b?!!a.closest("[data-discussion-hovercards-enabled]"):"acv_badge"===b?!!a.closest("[data-acv-badge-hovercards-enabled]"):"sponsors_listing"!==b||!!a.closest("[data-sponsors-listing-hovercards-enabled]")}(d))return;cC(),cr=d,cs=document.activeElement;let e=function(a){let b=a.getAttribute("data-hovercard-url");if(b){let c=function(a){let b=a.closest("[data-hovercard-subject-tag]");if(b)return b.getAttribute("data-hovercard-subject-tag");let c=document.head&&document.head.querySelector('meta[name="hovercard-subject-tag"]');return c?c.getAttribute("content"):null}(a);if(c){let d=new URL(b,window.location.origin),e=new URLSearchParams(d.search.slice(1));return e.append("subject",c),e.append("current_path",window.location.pathname+window.location.search),d.search=e.toString(),d.toString()}return b}return""}(d),f;try{let g=new Promise(a=>window.setTimeout(a,b,0));f=await cq(document,e),await g}catch(h){let i=h.response;if(i&&404===i.status){let j="Hovercard is unavailable";d.setAttribute("aria-label",j),d.classList.add("tooltipped","tooltipped-ne")}else if(i&&410===i.status){let k=await i.clone().json();d.setAttribute("aria-label",k.message),d.classList.add("tooltipped","tooltipped-ne")}return}d===cr&&(!function(a,b){var c;if(!(cp instanceof HTMLElement))return;let d=cp.children[0];d.textContent="";let e=document.createElement("div");for(let f of a.children)e.appendChild(f.cloneNode(!0));d.appendChild(e),function(a,b){var c,d,e,f,g,h,i;if(!(cp instanceof HTMLElement))return;cp.style.visibility="hidden",cp.style.display="block",b.classList.remove("Popover-message--bottom-left","Popover-message--bottom-right","Popover-message--right-top","Popover-message--right-bottom","Popover-message--top-left","Popover-message--top-right");let{containerTop:j,containerLeft:k,contentClassSuffix:l}=function(a){let{width:b,height:c}=cp.getBoundingClientRect(),{left:d,top:e,height:f,width:g}=function(a){let b=a.getClientRects(),c=b[0]||a.getBoundingClientRect()||{top:0,left:0,height:0,width:0};if(b.length>0){for(let d of b)if(d.left<cw&&d.right>cw){c=d;break}}return c}(a),h=e>c,i=a.classList.contains("js-hovercard-left");if(i){let j=d-b-cx,k=e+f/2,l=h?k-c+cA+cB/2:k-cA-cB/2;return{containerTop:l,containerLeft:j,contentClassSuffix:h?"right-bottom":"right-top"}}{let m=window.innerWidth-d>b,n=d+g/2,o=m?n-cy:n-b+cy,p=h?e-c-cx:e+f+cx,q=h?m?"bottom-left":"bottom-right":m?"top-left":"top-right";return{containerTop:p,containerLeft:o,contentClassSuffix:q}}}(a);b.classList.add("Popover-message--"+(i=l)),cp.style.top=`${j+window.pageYOffset}px`,cp.style.left=`${k+window.pageXOffset}px`,cN(a,cp),cp.style.visibility=""}(b,d),c=e,setTimeout(()=>{if(document.body&&document.body.contains(c)){let a=c.querySelector("[data-hydro-view]");a instanceof HTMLElement&&(0,co.Fk)(a)}},500),cp.style.display="block"}(f,d),a instanceof KeyboardEvent&&cp instanceof HTMLElement&&cp.focus())}function cE(a){if(cr){if(a instanceof MouseEvent&&a.relatedTarget instanceof HTMLElement){let b=a.relatedTarget;if(b.closest(".js-hovercard-content")||b.closest("[data-hovercard-url]"))return}else a instanceof KeyboardEvent&&cs instanceof HTMLElement&&cs.focus();cC()}}function cF(a){a instanceof KeyboardEvent&&"Escape"===a.key&&cE(a)}function cG(){ct&&clearTimeout(ct)}function cH(a){cu=!0,cD(a,0)}function cI(a){cu=!1,cv||cE(a)}function cJ(a){cv=!1,cu||function(a){let b=cr;ct=window.setTimeout(()=>{cr===b&&cE(a)},100)}(a)}function cK(a){var b;cv=!0,cD(b=a,250)}function cL(){cv=!0,cG()}function cM(){cu=!0,cG()}function cN(a,b){let c=a.getAttribute("data-hovercard-z-index-override");c?b.style.zIndex=c:b.style.zIndex="100"}cp&&((0,p.N7)("[data-hovercard-url]",{subscribe:a=>(0,F.qC)((0,F.RB)(a,"mouseover",cK),(0,F.RB)(a,"focusin",cH),(0,F.RB)(a,"mouseleave",cJ),(0,F.RB)(a,"focusout",cI),(0,F.RB)(a,"keyup",cF))}),(0,p.N7)("[data-hovercard-url]",{remove(a){cr===a&&cC()}}),(0,p.N7)(".js-hovercard-content",{subscribe:a=>(0,F.qC)((0,F.RB)(a,"mouseover",cL),(0,F.RB)(a,"focusin",cM),(0,F.RB)(a,"mouseleave",cJ),(0,F.RB)(a,"focusout",cI),(0,F.RB)(a,"keyup",cF))}),(0,l.on)("menu:activated","details",cC),window.addEventListener("turbo:load",cC),window.addEventListener("statechange",cC));var cO=c(38085),cP=c(58843),cQ=c(29573);let cR=["fcp","lcp","fid","inp","cls","hpc","ttfb"],cS;function cT(){return cS||(cS={},cU()),cS}async function cU(){await Y.C,window.requestIdleCallback(cV)}function cV(){(0,n.q)("web-vital",cS),cS=void 0}let cW=(0,o.cF)();function cX(a){let{name:b,value:c}=a,d={name:window.location.href,app:(0,cP.Nb)()||"rails"};d[b.toLowerCase()]=c,"HPC"===b?(d.soft=a.soft,d.ssr=a.ssr,d.mechanism=cQ.CF[a.mechanism]):d.ssr=cW;let e=document.querySelector('meta[name="synthetic-test"]');e&&(d.synthetic=!0),(0,q.b)({webVitalTimings:[d]}),function(a){let b;if(document.querySelector('[data-hydrostats="publish"]')){for(let c of cR)if(void 0!==a[c]&&a[c]<6e4){b||((b=cT()).react=!!document.querySelector("react-app"),b.ssr=a.ssr),b[c]=a[c].toPrecision(6),"hpc"===c&&(b.hpcMechanism=a.mechanism,b.hpcSoft=a.soft);break}}}(d),cY(b,c)}function cY(a,b){let c=document.querySelector("#staff-bar-web-vitals"),d=c?.querySelector(`[data-metric=${a.toLowerCase()}]`);d&&(d.textContent=b.toPrecision(6))}async function cZ(){window.performance&&window.performance.timing&&window.performance.getEntriesByType&&(await Y.C,await new Promise(a=>setTimeout(a)),c$(),c_())}let c$=()=>{let a=window.performance.getEntriesByType("resource").map(a=>({name:a.name,entryType:a.entryType,startTime:a.startTime,duration:a.duration,initiatorType:a.initiatorType,nextHopProtocol:a.nextHopProtocol,workerStart:a.workerStart,workerTiming:(a.workerTiming||[]).map(a=>({duration:a.duration,startTime:a.startTime,name:a.name,entryType:a.entryType})),serverTiming:(a.serverTiming||[]).map(a=>({duration:a.duration,description:a.description,name:a.name})),redirectStart:a.redirectStart,redirectEnd:a.redirectEnd,fetchStart:a.fetchStart,domainLookupStart:a.domainLookupStart,domainLookupEnd:a.domainLookupEnd,connectStart:a.connectStart,connectEnd:a.connectEnd,secureConnectionStart:a.secureConnectionStart,requestStart:a.requestStart,responseStart:a.responseStart,responseEnd:a.responseEnd,transferSize:a.transferSize,encodedBodySize:a.encodedBodySize,decodedBodySize:a.decodedBodySize}));a.length&&(0,q.b)({resourceTimings:a})},c_=()=>{let a=window.performance.getEntriesByType("navigation").map(a=>({activationStart:a.activationStart,name:a.name,entryType:a.entryType,startTime:a.startTime,duration:a.duration,initiatorType:a.initiatorType,nextHopProtocol:a.nextHopProtocol,workerStart:a.workerStart,workerTiming:(a.workerTiming||[]).map(a=>({duration:a.duration,startTime:a.startTime,name:a.name,entryType:a.entryType})),serverTiming:(a.serverTiming||[]).map(a=>({duration:a.duration,description:a.description,name:a.name})),redirectStart:a.redirectStart,redirectEnd:a.redirectEnd,fetchStart:a.fetchStart,domainLookupStart:a.domainLookupStart,domainLookupEnd:a.domainLookupEnd,connectStart:a.connectStart,connectEnd:a.connectEnd,secureConnectionStart:a.secureConnectionStart,requestStart:a.requestStart,responseStart:a.responseStart,responseEnd:a.responseEnd,transferSize:a.transferSize,encodedBodySize:a.encodedBodySize,decodedBodySize:a.decodedBodySize,unloadEventStart:a.unloadEventStart,unloadEventEnd:a.unloadEventEnd,domInteractive:a.domInteractive,domContentLoadedEventStart:a.domContentLoadedEventStart,domContentLoadedEventEnd:a.domContentLoadedEventEnd,domComplete:a.domComplete,loadEventStart:a.loadEventStart,loadEventEnd:a.loadEventEnd,type:a.type,redirectCount:a.redirectCount}));a.length&&(0,q.b)({navigationTimings:a})};cZ(),(0,cO.mw)(cX),(0,cO.a4)(cX),(0,cO.Fu)(cX),(0,cO.NO)(cX),(0,cO.mr)(cX),(0,cO.Yn)(cX);class HPCTimingEvent extends Event{constructor(a,b,c,d){super("hpc:timing"),this.soft=a,this.ssr=b,this.mechanism=c,this.name="HPC",this.value=performance.now()-d}}let c0=new AbortController;function c1({soft:a=!1,mechanism:b="hard"}){c0.abort(),c0=new AbortController;let c=a?performance.now():0,d=new EventTarget,e=!1,f,g,h=new MutationObserver(e=>{let i=!1;if(!e.every(a=>0===a.addedNodes.length)){for(let j of(cancelAnimationFrame(f),e))if("childList"===j.type){for(let k of j.addedNodes)if(k instanceof Element&&(k.hasAttribute("data-hpc")||k.querySelector("[data-hpc]"))){i=!0;break}if(i)break}i?(window.performance.measure("HPC","navigationStart"),h.disconnect(),g=requestAnimationFrame(()=>{d.dispatchEvent(new HPCTimingEvent(a,(0,o.cF)(),b,c))})):f=requestAnimationFrame(()=>{d.dispatchEvent(new Event("hpc:dom-insertion"))})}});h.observe(document,{childList:!0,subtree:!0});let i={capture:!0,passive:!0,once:!0,signal:c0.signal},j=()=>c0.abort();document.addEventListener("touchstart",j,i),document.addEventListener("mousedown",j,i),document.addEventListener("keydown",j,i),document.addEventListener("pointerdown",j,i);let k;d.addEventListener("hpc:dom-insertion",()=>{clearTimeout(k);let e=new HPCTimingEvent(a,(0,o.cF)(),b,c);k=setTimeout(()=>d.dispatchEvent(e),2500)},{signal:c0.signal}),d.addEventListener("hpc:timing",a=>{!e&&a.value<6e4&&cX(a),c0.abort()},{signal:c0.signal}),c0.signal.addEventListener("abort",()=>{cancelAnimationFrame(g),cancelAnimationFrame(f),clearTimeout(k),h.disconnect()}),document.addEventListener("visibilitychange",()=>{e=!0,c0.abort()},{signal:c0.signal}),!a&&document.querySelector("[data-hpc]")&&((0,cO.NO)(({value:b})=>{window.performance.measure("HPC",{start:"navigationStart",end:b}),cX({name:"HPC",value:b,soft:a,ssr:(0,o.cF)(),mechanism:"hard"})}),c0.abort())}document.addEventListener(bi.QE.START,({mechanism:a})=>{c1({soft:!0,mechanism:a})}),c1({soft:!1}),async function(){document.addEventListener(bi.QE.FRAME_UPDATE,()=>(0,n.Y)({turbo:"true"})),document.addEventListener(bi.QE.SUCCESS,()=>{"turbo.frame"!==(0,cP.Gj)()&&(0,n.Y)({turbo:"true"})}),await Y.C,(0,n.Y)()}(),(0,l.on)("click","[data-octo-click]",function(a){let b=a.currentTarget;if(!(b instanceof HTMLElement))return;let c=b.getAttribute("data-octo-click")||"",d={};if(b.hasAttribute("data-ga-click")){let e=b.getAttribute("data-ga-click"),f=e.split(",");d.category=f[0].trim(),d.action=f[1].trim()}if(b.hasAttribute("data-octo-dimensions")){let g=b.getAttribute("data-octo-dimensions").split(",");for(let h of g){let[i,j]=h.split(/:(.+)/);i&&(d[i]=j||"")}}(0,n.q)(c,d)});var c2=c(86702);let{getItem:c3}=(0,c2.Z)("localStorage");(0,l.on)("click","[data-hydro-click]",function(a){var b,c;let d=a.currentTarget,e=d.getAttribute("data-hydro-click")||"",f=d.getAttribute("data-hydro-click-hmac")||"",g=d.getAttribute("data-hydro-client-context")||"";(0,co.$S)(e,f,g)}),(0,m.AC)(".js-immediate-updates",async function(a,b){let c;try{let d=await b.json();c=d.json.updateContent}catch(e){e.response.json&&(c=e.response.json.updateContent)}if(c)for(let f in c){let g=c[f],h=document.querySelector(f);h instanceof HTMLElement&&(0,ak.Of)(h,g)}});var c4=c(64707);async function c5(){if(!1===(0,c4.c)("IMAGE_METRIC_TRACKING"))return;let a=Array.from(document.querySelectorAll("img.js-img-time")).slice(0,5),b=Date.now(),c=[];await Promise.all(a.map(a=>c6(a,b,c))),c.length>0&&(0,q.b)({transparentRedirectTimings:c})}async function c6(a,b,c){let d=/\/assets\/storage\/user\/([0-9]+)\/files\/([{]?[0-9a-fA-F]{8}-([0-9a-fA-F]{4}-){3}[0-9a-fA-F]{12}[}]?)/,e=/assets\/([0-9]+)\/([{]?[0-9a-fA-F]{8}-([0-9a-fA-F]{4}-){3}[0-9a-fA-F]{12}[}]?)/,f=a.getAttribute("src");if(!f)return;let g=new URL(f,window.location.origin),h=d.test(g.pathname)?d:e,[,i,j]=g.pathname.match(h)||[];if(!i||!j)return;await fetch(`/assets/measure/${i}/${j}`);let k=Date.now()-b,l={duration:k,fileGUID:j,userID:i};c.push(l)}document.addEventListener("DOMContentLoaded",c5);var c7=c(52191);(0,p.N7)("[data-indeterminate]",{constructor:HTMLInputElement,initialize(a){a.indeterminate=!0}});var c8=c(3626);function c9(){c.e("app_assets_modules_github_jump-to_ts").then(c.bind(c,93553))}(0,p.N7)(".js-jump-to-field",{constructor:HTMLInputElement,add(a){a.addEventListener("focusin",c9,{once:!0}),(0,c8.Nc)(window.location.pathname)}});let da=!1;async function db(){if(da)return;da=!0;let a=document.querySelector("meta[name=github-keyboard-shortcuts]"),b={contexts:a.content},c=`/site/keyboard_shortcuts?${new URLSearchParams(b).toString()}`,d=await (0,bp.W)({content:(0,bq.a)(document,c),labelledBy:"keyboard-shortcuts-heading"});d.style.width="800px",d.addEventListener("dialog:remove",function(){da=!1},{once:!0})}function dc(a){let b=a.currentTarget;if(!(b instanceof HTMLInputElement||b instanceof HTMLTextAreaElement))return;let c=parseInt(b.getAttribute("data-input-max-length")||"",10),d=parseInt(b.getAttribute("data-warning-length")||"",10)||5,e=b.value,f=e.replace(/(\r\n|\n|\r)/g,"\r\n"),g=c-f.length;if(g<=0){let h=f.substr(0,c);h.endsWith("\r")?(h=h.substr(0,c-1),g=1):g=0,b.value=h}let i=b.getAttribute("data-warning-text"),j=b.closest(".js-length-limited-input-container"),k=j.querySelector(".js-length-limited-input-warning");g<=d?(k.textContent=i.replace(/{{remaining}}/g,`${g}`),k.classList.remove("d-none")):(k.textContent="",k.classList.add("d-none"))}function dd(a){try{let b=a.getBoundingClientRect();if(0===b.height&&0===b.width||"0"===a.style.opacity||"hidden"===a.style.visibility)return!1}catch{}return!0}(0,l.on)("click",".js-keyboard-shortcuts",db),document.addEventListener("keydown",a=>{!(!(a instanceof KeyboardEvent)||!(0,a4.Zf)(a)||a.target instanceof Node&&(0,y.sw)(a.target))&&"Shift+?"===(0,cn.EL)(a)&&db()}),(0,p.N7)(".js-modifier-key",{constructor:HTMLElement,add(a){if(/Macintosh/.test(navigator.userAgent)){let b=a.textContent;b&&(b=(b=b.replace(/ctrl/,"\u2318")).replace(/alt/,"\u2325"),a.textContent=b)}}}),(0,p.N7)(".js-modifier-label-key",{add(a){let b=a.textContent?.replace(/ctrl/i,"Ctrl");b&&(/Macintosh/.test(navigator.userAgent)&&(b=(b=b.replace(/ctrl/i,"Cmd")).replace(/alt/i,"Option")),a.textContent=b)}}),(0,p.N7)(".js-length-limited-input",{add(a){a.addEventListener("input",dc),a.addEventListener("change",dc)},remove(a){a.removeEventListener("input",dc),a.removeEventListener("change",dc)}}),(0,l.on)("click",".js-member-search-filter",function(a){a.preventDefault();let b=a.currentTarget.getAttribute("data-filter"),c=a.currentTarget.closest("[data-filter-on]"),d=c.getAttribute("data-filter-on"),e=document.querySelector(".js-member-filter-field"),f=e.value,g=RegExp(`${d}:(?:[a-z]|_|((').*(')))+`),h=f.toString().trim().replace(g,"");e.value=`${h} ${b}`.replace(/\s\s/," ").trim(),e.focus(),(0,l.f)(e,"input")}),(0,m.AC)(".js-notice-dismiss",async function(a,b){await b.text();let c=a.closest(".js-notice");c.remove()}),(0,l.on)("submit",".js-notice-dismiss-remote",async function(a){let b=a.currentTarget;a.preventDefault();let c;try{c=await fetch(b.action,{method:b.method,body:new FormData(b),headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})}catch{(0,k.v)();return}if(c&&!c.ok)(0,k.v)();else{let d=b.closest(".js-notice");d.remove()}}),(0,l.on)("click",".js-github-dev-shortcut",function(a){for(let b of(a.preventDefault(),document.querySelectorAll("textarea.js-comment-field")))if(b.value&&dd(b)&&!confirm("Are you sure you want to open github.dev?"))return;let c=a.currentTarget;c.pathname=window.location.pathname,c.hash=window.location.hash,window.location.href=c.href}),(0,l.on)("click",".js-github-dev-new-tab-shortcut",function(a){let b=a.currentTarget;b.pathname=window.location.pathname,b.hash=window.location.hash}),(0,l.on)("click",".js-permalink-shortcut",function(a){let b=a.currentTarget;try{(0,A.lO)(null,"",b.href+window.location.hash)}catch(c){window.location.href=b.href+window.location.hash}for(let d of document.querySelectorAll(".js-permalink-replaceable-link"))d instanceof HTMLAnchorElement&&(d.href=d.getAttribute("data-permalink-href"));a.preventDefault()}),(0,m.AC)(".js-permission-menu-form",async function(a,b){let c=a.querySelector(".js-permission-success"),d=a.querySelector(".js-permission-error");c.hidden=!0,d.hidden=!0,a.classList.add("is-loading");let e;try{e=await b.json()}catch(f){a.classList.remove("is-loading"),d.hidden=!1;return}a.classList.remove("is-loading"),c.hidden=!1;let g=a.closest(".js-org-repo");if(g){let h=e.json;g.classList.toggle("with-higher-access",h.members_with_higher_access)}});let de=null,df="last_turbo_request",dg="turbo_start",dh="turbo_end";async function di(){if(await (0,C.gJ)(),!window.performance.getEntriesByName(dg).length)return;window.performance.mark(dh),window.performance.measure(df,dg,dh);let a=window.performance.getEntriesByName(df),b=a.pop(),c=b?b.duration:null;c&&(de&&(0,q.b)({requestUrl:de,turboDuration:Math.round(c)}),dj())}function dj(){window.performance.clearMarks(dg),window.performance.clearMarks(dh),window.performance.clearMeasures(df)}"getEntriesByName"in window.performance&&(document.addEventListener("turbo:before-fetch-request",function(a){a instanceof CustomEvent&&a.detail?.url&&!a.defaultPrevented&&(window.performance.mark(dg),de=a.detail.url)}),document.addEventListener("turbo:render",di));var dk=c(86975);(0,l.on)("turbo:click",".js-turbo-history-navigate",function(a){if(!(0,dk.xc)())return;let b=a,c=b.detail.originalEvent;if(!(b.currentTarget instanceof HTMLAnchorElement)||c.shiftKey||c.metaKey||c.ctrlKey||c.altKey)return;(0,A.IW)(history.state);let d=(0,A._C)(),e=(0,A.Mw)();d&&b.currentTarget.href===d?(b.preventDefault(),c.preventDefault(),history.back(),(0,bi.FP)()):e&&b.currentTarget.href===e&&(b.preventDefault(),c.preventDefault(),history.forward(),(0,bi.FP)())}),(0,p.N7)("body.js-print-popup",()=>{window.print(),setTimeout(window.close,1e3)}),(0,p.N7)("poll-include-fragment[data-redirect-url]",function(a){let b=a.getAttribute("data-redirect-url");a.addEventListener("load",function(){window.location.href=b})}),(0,p.N7)("poll-include-fragment[data-reload]",function(a){a.addEventListener("load",function(){window.location.reload()})}),(0,D.w4)("keydown",".js-quick-submit",function(a){(function a(b){let c=b.target;if((b.ctrlKey||b.metaKey)&&"Enter"===b.key){let d=c.form,e=d.querySelector("input[type=submit], button[type=submit]");if(b.shiftKey){let f=d.querySelector(".js-quick-submit-alternative");(f instanceof HTMLInputElement||f instanceof HTMLButtonElement)&&!f.disabled&&(0,y.Bt)(d,f)}else(e instanceof HTMLInputElement||e instanceof HTMLButtonElement)&&e.disabled||(0,y.Bt)(d);b.preventDefault()}})(a)});var dl=c(55498);let dm;function dn(a){return"DIV"===a.nodeName&&a.classList.contains("highlight")}(0,p.N7)(".js-comment-quote-reply",function(a){a.hidden=null==a.closest(".js-quote-selection-container")?.querySelector(".js-inline-comment-form-container textarea, .js-new-comment-form textarea")});let dp={PRE(a){let b=a.parentElement;if(b&&dn(b)){let c=b.className.match(/highlight-source-(\S+)/),d=c?c[1]:"",e=(a.textContent||"").replace(/\n+$/,"");a.textContent=`\`\`\`${d}
${e}
\`\`\``,a.append("\n\n")}return a},A(a){let b=a.textContent||"";return a.classList.contains("user-mention")||a.classList.contains("team-mention")?b:a.classList.contains("issue-link")&&/^#\d+$/.test(b)?b:a},IMG(a){let b=a.getAttribute("alt");return b&&a.classList.contains("emoji")?b:a},DIV(a){if(a.classList.contains("js-suggested-changes-blob"))a.remove();else if(a.classList.contains("blob-wrapper-embedded")){let b=a.parentElement,c=b.querySelector("a[href]"),d=document.createElement("p");d.textContent=c.href,b.replaceWith(d)}return a}};(0,l.on)("click",".js-comment-quote-reply",function({isTrusted:a,currentTarget:b}){let c=b.closest(".js-comment"),d=c.querySelector(".js-comment-body"),e=c.querySelector(".js-comment-body").cloneNode(!0),f=c.closest(".js-quote-selection-container"),g=d.querySelectorAll("button.js-convert-to-issue-button, span.js-clear");for(let h of g)h.remove();let i=new dl.p;if(!a&&i.range.collapsed||(f.hasAttribute("data-quote-markdown")&&(i=new dl.I(f.getAttribute("data-quote-markdown")||"",a=>{let b=i.range.startContainer.parentElement,c=b&&b.closest("pre");if(c instanceof HTMLElement){let d=c.parentElement;if(d&&dn(d)){let e=document.createElement("div");e.className=d.className,e.appendChild(a),a.appendChild(e)}}!function(a){let b=document.createNodeIterator(a,NodeFilter.SHOW_ELEMENT,{acceptNode(a){var b;return a.nodeName in dp&&("IMG"===(b=a).nodeName||null!=b.firstChild)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}}),c=[],d=b.nextNode();for(;d;)d instanceof HTMLElement&&c.push(d),d=b.nextNode();for(let e of(c.reverse(),c))e.replaceWith(dp[e.nodeName](e))}(a)})),dm&&d.contains(dm.anchorNode)?i.range=dm.range:i.range.collapsed&&i.select(d),i.closest(".js-quote-selection-container")!==f))return;let j=i.range;for(let k of(f.dispatchEvent(new CustomEvent("quote-selection",{bubbles:!0,detail:i})),i.range=j,f.querySelectorAll("textarea")))if((0,L.Z)(k)&&!k.closest("tracking-block")){i.insert(k);break}c.querySelector(".js-comment-body").replaceWith(e)});let dq;document.addEventListener("selectionchange",(0,E.D)(function(){let a=window.getSelection(),b;try{b=a.getRangeAt(0)}catch{dq=null;return}dq={anchorNode:a.anchorNode,range:b}},100)),document.addEventListener("toggle",()=>{dm=dq},{capture:!0});let dr=new ResizeObserver(a=>{for(let b of a)b.contentRect.height>26&&ds(b.target)});function ds(a){let b=.7*a.offsetWidth,c=a.querySelectorAll(".js-reaction-group-button"),d=a.querySelector(".js-all-reactions-popover"),e=0;for(let f of c)e+=f.clientWidth;if(b<(e+=d?.clientWidth||0)){let g=b;for(let h of(d&&(d.removeAttribute("hidden"),g-=d.offsetWidth),c)){let i=h.offsetWidth;i>g?h.setAttribute("hidden","hidden"):h.removeAttribute("hidden"),g-=i}}}(0,p.N7)(".js-reactions-container",function(a){dr.observe(a)});let dt=(0,E.D)(async a=>{let b=a.target,c;try{c=await fetch(b.action,{method:b.method,headers:new Headers({"X-Requested-With":"XMLHttpRequest"}),body:new FormData(b)})}catch{(0,k.v)()}if(c&&!c.ok&&(0,k.v)(),c){let d=await c.json(),e=b.closest(".js-comment"),f=e?.querySelector(".js-reactions-container"),g=e?.querySelector(".js-comment-header-reaction-button");if(c&&f&&g){let h=(0,z.r)(document,d.reactions_container.trim()),i=(0,z.r)(document,d.comment_header_reaction_button.trim());f.replaceWith(h),g.replaceWith(i)}let j=e?.querySelector(".js-reactions-focus");j&&j.focus()}},1e3);function du(a){let b=a.target,c=b.getAttribute("data-reaction-label"),d=b.closest(".js-add-reaction-popover"),e=d.querySelector(".js-reaction-description");e.hasAttribute("data-default-text")||e.setAttribute("data-default-text",e.textContent||""),e.textContent=c}function dv(a){let b=a.target.closest(".js-add-reaction-popover"),c=b.querySelector(".js-reaction-description"),d=c.getAttribute("data-default-text");d&&(c.textContent=d)}(0,l.on)("submit",".js-pick-reaction",a=>{a.preventDefault(),dt(a)}),(0,l.on)("toggle",".js-reaction-popover-container",function(a){let b=a.currentTarget.hasAttribute("open");for(let c of a.target.querySelectorAll(".js-reaction-option-item"))b?(c.addEventListener("mouseenter",du),c.addEventListener("mouseleave",dv)):(c.removeEventListener("mouseenter",du),c.removeEventListener("mouseleave",dv))},{capture:!0});var dw=c(76177);(0,l.on)("click","form button:not([type]), form button[type=submit], form input[type=submit]",function(a){let b=a.currentTarget,c=b.form;c&&!a.defaultPrevented&&(0,dw.j)(b)}),(0,m.AC)("form[data-remote]",function(a,b,c){let d=a.getAttribute("data-type");"json"===d&&c.headers.set("Accept","application/json"),(0,l.f)(a,"deprecatedAjaxSend",{request:c}),b.text().catch(a=>{if(a.response)return a.response;throw a}).then(b=>{b.status<300?(0,l.f)(a,"deprecatedAjaxSuccess"):(0,l.f)(a,"deprecatedAjaxError",{error:b.statusText,status:b.status,text:b.text})},b=>{(0,l.f)(a,"deprecatedAjaxError",{error:b.message,status:0,text:null})}).then(()=>{(0,l.f)(a,"deprecatedAjaxComplete")})}),(0,l.on)("deprecatedAjaxComplete","form",function({currentTarget:a}){let b=(0,dw.u)(a);b&&b.remove()}),(0,m.uT)(a=>{let b=(0,dw.u)(a);b&&b.remove()}),(0,m.rK)(bT.Z),(0,p.N7)(".has-removed-contents",function(){let a;return{add(b){for(let c of a=Array.from(b.childNodes))b.removeChild(c);let d=b.closest("form");d&&(0,l.f)(d,"change")},remove(b){for(let c of a)b.appendChild(c);let d=b.closest("form");d&&(0,l.f)(d,"change")}}});var dx=c(36162),dy=c(76237);let dz=new WeakMap;function dA(a,b,c){let d=Object.entries(b).map(([a,b])=>`${a}=${b}`).join("&"),e=c.identifier??"",f=new URL(`${a}?${d}`,window.location.origin);return f.hash=e,dx.dy`
    <div
      class="render-container color-bg-transparent js-render-target p-0"
      data-identity="${e}"
      data-host="${f.origin}"
      data-type="${c.type}"
    >
      <iframe
        role="presentation"
        class="render-viewer"
        src="${String(f)}"
        name="${e}"
        data-content="${c.contentJson}"
        sandbox="allow-scripts allow-same-origin allow-top-navigation"
      >
      </iframe>
    </div>
  `}(0,p.N7)(".js-render-needs-enrichment",{constructor:HTMLElement,initialize:function(a){let b={color_mode:(0,dy.Fg)()},c=a.getAttribute("data-type"),d=a.getAttribute("data-src"),e=a.getAttribute("data-identity"),f=a.getElementsByClassName("js-render-enrichment-target")[0],g=a.getElementsByClassName("js-render-enrichment-loader")[0],h=document.createElement("div");h.classList.add("js-render-enrichment-fallback"),a.appendChild(h);let i=f.getAttribute("data-plain"),j=f.getAttribute("data-json");f.removeAttribute("data-plain"),f.removeAttribute("data-json");let k=f.firstElementChild;h.appendChild(k);let l=dA(d,b,{type:c,identifier:e,contentJson:j}),m=dA(d,b,{type:c,identifier:`${e}-fullscreen`,contentJson:j}),n=function(a,b,c){let d=dx.dy`<clipboard-copy
    aria-label="Copy ${c.type} code"
    .value=${a}
    class="btn my-2 js-clipboard-copy p-0 d-inline-flex tooltipped-no-delay"
    role="button"
    data-copy-feedback="Copied!"
    data-tooltip-direction="s"
  >
    <svg
      aria-hidden="true"
      height="16"
      viewBox="0 0 16 16"
      version="1.1"
      width="16"
      class="octicon octicon-copy js-clipboard-copy-icon m-2"
    >
      <path
        fill-rule="evenodd"
        d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"
      ></path>
      <path
        fill-rule="evenodd"
        d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"
      ></path>
    </svg>
    <svg
      aria-hidden="true"
      height="16"
      viewBox="0 0 16 16"
      version="1.1"
      width="16"
      class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none m-2"
    >
      <path
        fill-rule="evenodd"
        d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"
      ></path>
    </svg>
  </clipboard-copy>`,e=dx.dy`
    <details class="details-reset details-overlay details-overlay-dark" style="display: contents">
      <summary
        role="button"
        aria-label="Open dialog"
        class="btn my-2 mr-2 p-0 d-inline-flex"
        aria-haspopup="dialog"
        @click="${b}"
      >
        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" class="octicon m-2">
          <path
            fill-rule="evenodd"
            d="M3.72 3.72a.75.75 0 011.06 1.06L2.56 7h10.88l-2.22-2.22a.75.75 0 011.06-1.06l3.5 3.5a.75.75 0 010 1.06l-3.5 3.5a.75.75 0 11-1.06-1.06l2.22-2.22H2.56l2.22 2.22a.75.75 0 11-1.06 1.06l-3.5-3.5a.75.75 0 010-1.06l3.5-3.5z"
          ></path>
        </svg>
      </summary>
      <details-dialog
        class="Box Box--overlay render-full-screen d-flex flex-column anim-fade-in fast"
        aria-label="${c.type} rendered container"
      >
        <div>
          <button
            aria-label="Close dialog"
            data-close-dialog=""
            type="button"
            data-view-component="true"
            class="Link--muted btn-link position-absolute render-full-screen-close"
          >
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="currentColor"
              style="display:inline-block;vertical-align:text-bottom"
              class="octicon octicon-x"
            >
              <path
                fill-rule="evenodd"
                d="M5.72 5.72a.75.75 0 011.06 0L12 10.94l5.22-5.22a.75.75 0 111.06 1.06L13.06 12l5.22 5.22a.75.75 0 11-1.06 1.06L12 13.06l-5.22 5.22a.75.75 0 01-1.06-1.06L10.94 12 5.72 6.78a.75.75 0 010-1.06z"
              ></path>
            </svg>
          </button>
          <div class="Box-body border-0" role="presentation"></div>
        </div>
      </details-dialog>
    </details>
  `;return dx.dy`<div class="position-absolute top-0 pr-2 width-full d-flex flex-justify-end flex-items-center">
    ${e}${d}
  </div>`}(i,()=>{(0,dx.sY)(m,f.getElementsByClassName("Box-body")[0])},{type:c}),o={setLoading(a){g.hidden=!a},setError:(a,b)=>(o.setLoading(!1),!1!==a&&(k.classList.toggle("render-plaintext-hidden",!a),!!b&&((0,dx.sY)([b,k],h),!0)))};(0,dx.sY)([n,l],f),dz.set(a,o)}}),(0,l.on)("preview:toggle:off",".js-previewable-comment-form",function(a){let b=a.currentTarget,c=b.querySelector(".js-render-needs-enrichment"),d=c?.querySelector(".js-render-enrichment-target");d&&(d.textContent="")}),(0,l.on)("preview:rendered",".js-previewable-comment-form",function(a){let b=a.currentTarget,c=b.querySelector(".js-render-needs-enrichment");c&&dz.get(c)?.setLoading(!1)});let dB=["is-render-pending","is-render-ready","is-render-loading","is-render-loaded"],dC=["is-render-ready","is-render-loading","is-render-loaded","is-render-failed","is-render-failed-fatally",],dD=new WeakMap;function dE(a){let b=dD.get(a);null!=b&&(b.load=b.hello=null,b.helloTimer&&(clearTimeout(b.helloTimer),b.helloTimer=null),b.loadTimer&&(clearTimeout(b.loadTimer),b.loadTimer=null))}function dF(a,b=""){a.classList.remove(...dB),a.classList.add("is-render-failed");let c=dH(b);!1===function(a,b){let c=a.closest(".js-render-needs-enrichment");return!!c&&(c.classList.add("render-error"),dz.get(c)?.setError(!0,b))}(a,c)&&dG(a,c),dE(a)}function dG(a,b){let c=a.querySelector(".render-viewer-error");c&&(c.remove(),a.classList.remove("render-container"),(0,dx.sY)(b,a))}function dH(a){let b=dx.dy`<p>Unable to render rich display</p>`;if(""!==a){let c=a.split("\n");b=dx.dy`<p><b>Unable to render rich display</b></p>
      <p>${c.map(a=>dx.dy`${a}<br />`)}</p>`}return dx.dy`<div class="flash flash-error">${b}</div>`}function dI(a,b=!1){!(!(0,L.Z)(a)||a.classList.contains("is-render-ready")||a.classList.contains("is-render-failed")||a.classList.contains("is-render-failed-fatally"))&&(!b||dD.get(a)?.hello)&&dF(a)}function dJ(a,b){a&&a.postMessage&&a.postMessage(JSON.stringify(b),"*")}if((0,p.N7)(".js-render-target",function(a){let b=a;if(b.classList.remove(...dC),b.style.height="auto",!dD.get(a)?.load)dE(a),!dD.get(a)&&(dD.set(a,{load:Date.now(),hello:null,helloTimer:window.setTimeout(dI,1e4,a,!0),loadTimer:window.setTimeout(dI,45e3,a)}),a.classList.add("is-render-automatic","is-render-requested"))}),window.addEventListener("message",function(a){let b=a.data;if(!b)return;if("string"==typeof b)try{b=JSON.parse(b)}catch{return}if("render"!==b.type||"string"!=typeof b.identity)return;let c=b.identity;if("string"!=typeof b.body)return;let d=b.body,e=null;for(let f of document.querySelectorAll(".js-render-target"))if(f.getAttribute("data-identity")===c){e=f;break}if(!e||a.origin!==e.getAttribute("data-host"))return;let g=null!=b.payload?b.payload:void 0,h=e.querySelector("iframe"),i=h?.contentWindow;switch(d){case"hello":{let j=dD.get(e)||{untimed:!0};j.hello=Date.now();let k={type:"render:cmd",body:{cmd:"ack",ack:!0}},l={type:"render:cmd",body:{cmd:"branding",branding:!1}};if(!i)return;dJ(i,k),dJ(i,l);break}case"error":dF(e,g?.error);break;case"error:fatal":dF(e,g?.error),e.classList.add("is-render-failed-fatal");break;case"error:invalid":dF(e,g?.error),e.classList.add("is-render-failed-invalid");break;case"loading":e.classList.remove(...dB),e.classList.add("is-render-loading");break;case"loaded":e.classList.remove(...dB),e.classList.add("is-render-loaded");break;case"ready":(function(a){let b=a.closest(".js-render-needs-enrichment");b&&(b.classList.remove("render-error"),dz.get(b)?.setLoading(!1))})(e),e.classList.remove(...dB),e.classList.add("is-render-ready"),g&&"number"==typeof g.height&&(e.style.height=`${g.height}px`,""!==location.hash&&window.dispatchEvent(new HashChangeEvent("hashchange")));break;case"resize":g&&"number"==typeof g.height&&(e.style.height=`${g.height}px`);break;case"code_rendering_service:container:get_size":dJ(i,{type:"render:cmd",body:{cmd:"code_rendering_service:container:size","code_rendering_service:container:size":{width:e?.getBoundingClientRect().width}}});break;case"code_rendering_service:markdown:get_data":if(!i)return;!function(){let a=h?.getAttribute("data-content")??"",b;try{b=JSON.parse(a)?.data}catch{b=null}if(!b)return;let c={type:"render:cmd",body:{cmd:"code_rendering_service:data:ready","code_rendering_service:data:ready":{data:b,width:e?.getBoundingClientRect().width}}};dJ(i,c)}()}}),(0,m.AC)("form[data-replace-remote-form]",async function(a,b){a.classList.remove("is-error"),a.classList.add("is-loading");try{let c=a,d=await b.html(),e=a.closest("[data-replace-remote-form-target]");if(e){let f=e.getAttribute("data-replace-remote-form-target");c=f?document.getElementById(f):e}c.replaceWith(d.html)}catch(g){a.classList.remove("is-loading"),a.classList.add("is-error")}}),PerformanceObserver&&(PerformanceObserver.supportedEntryTypes||[]).includes("longtask")){let dK=new PerformanceObserver(function(a){let b=a.getEntries().map(({name:a,duration:b})=>({name:a,duration:b,url:window.location.href}));(0,q.b)({longTasks:b})});dK.observe({entryTypes:["longtask"]})}let dL=new WeakMap;(0,l.on)("click",".js-markdown-link-button",async function({currentTarget:a}){let b=document.querySelector(".js-markdown-link-dialog"),c=b.content.cloneNode(!0);if(!(c instanceof DocumentFragment))return;let d=await (0,bp.W)({content:c,labelledBy:"box-title"});if(a instanceof HTMLElement){var e;dL.set(d,(e=a).closest("markdown-toolbar").field.selectionEnd)}}),(0,l.on)("click",".js-markdown-link-insert",({currentTarget:a})=>{let b=a.closest("details-dialog"),c=document.querySelector(`#${a.getAttribute("data-for-textarea")}`),d=dL.get(b)||0,e=b.querySelector("#js-dialog-link-href").value,f=b.querySelector("#js-dialog-link-text").value,g=`[${f}](${e}) `,h=c.value.slice(0,d),i=c.value.slice(d);c.value=h+g+i,c.focus(),c.selectionStart=c.selectionEnd=d+g.length}),c(55240),(0,l.on)("details-menu-select",".js-saved-reply-menu",function(a){if(!(a.target instanceof Element))return;let b=a.detail.relatedTarget.querySelector(".js-saved-reply-body");if(!b)return;let c=(b.textContent||"").trim(),d=a.target.closest(".js-previewable-comment-form"),e=d.querySelector("textarea.js-comment-field");(0,ap.Om)(e,c),setTimeout(()=>e.focus(),0)},{capture:!0}),(0,D.w4)("keydown",".js-saved-reply-shortcut-comment-field",function(a){if("Control+."===(0,cn.EL)(a)){let b=a.target.closest(".js-previewable-comment-form"),c=b.querySelector(".js-saved-reply-container");c.setAttribute("open",""),a.preventDefault()}}),(0,D.w4)("keydown",".js-saved-reply-filter-input",function(a){if(/^Control\+[1-9]$/.test((0,cn.EL)(a))){let b=a.target.closest(".js-saved-reply-container"),c=b.querySelectorAll('[role="menuitem"]'),d=Number(a.key),e=c[d-1];e instanceof HTMLElement&&(e.click(),a.preventDefault())}else if("Enter"===a.key){let f=a.target.closest(".js-saved-reply-container"),g=f.querySelectorAll('[role="menuitem"]');g.length>0&&g[0]instanceof HTMLButtonElement&&g[0].click(),a.preventDefault()}});var dM=c(56334),dN=c(11445);function dO(a,b,c,d){let e=(0,dM.M9)(a,a=>{var c,d;return c=b,d=a,c.querySelector(`#LC${d}`)});if(!e)return;if(c){let f=(0,ap.yb)(e.startContainer.textContent,e.startOffset);if(-1===f)return;e.setStart(e.startContainer,f)}if(d){let g=(0,ap.yb)(e.endContainer.textContent,e.endOffset);if(-1===g)return;e.setEnd(e.endContainer,g)}let h=document.createElement("span"),i=["text-bold","hx_keyword-hl","rounded-2","d-inline-block"];h.classList.add(...i),(0,dN.v)(e,h)}(0,p.N7)(".js-highlight-code-snippet-columns",function(a){let b=function(a){let b=parseInt(a.getAttribute("data-start-line")),c=parseInt(a.getAttribute("data-end-line")),d=parseInt(a.getAttribute("data-start-column")),e=parseInt(a.getAttribute("data-end-column"));if(b===c&&d===e)return null;let f=0!==e?e:null;return{start:{line:b,column:d},end:{line:c,column:f}}}(a);null!==b&&function(a,b){if(a.start.line!==a.end.line){let c={start:{line:a.start.line,column:a.start.column},end:{line:a.start.line,column:null}};dO(c,b,!0,!1);for(let d=a.start.line+1;d<a.end.line;d+=1){let e={start:{line:d,column:0},end:{line:d,column:null}};dO(e,b,!1,!1)}let f={start:{line:a.end.line,column:0},end:{line:a.end.line,column:a.end.column}};dO(f,b,!1,!0)}else dO(a,b,!0,!0)}(b,a)}),c(79422),c(82565);var dP=c(25811);let dQ=["notification_referrer_id","notifications_before","notifications_after","notifications_query",],dR="notification_shelf";function dS(a=null){let b=dT(a);if(!b)return(0,dP.cl)(dR),null;try{let c=(0,dP.rV)(dR);if(!c)return null;let d=JSON.parse(c);if(!d||!d.pathname)throw Error("Must have a pathname");if(d.pathname!==b)throw Error("Stored pathname does not match current pathname.");let e={};for(let f of dQ)e[f]=d[f];return e}catch(g){return(0,dP.cl)(dR),null}}function dT(a){a=a||window.location.pathname;let b=a.match(/^(\/[^/]+\/[^/]+\/pull\/[^/]+)/);return b?b[0]:null}var dU=c(27034),dV=c(95005);async function dW(){return(0,m.AC)(".js-notification-shelf .js-notification-action form",async function(a,b){let c=a.hasAttribute("data-redirect-to-inbox-on-submit");if(c){await dX(b);let d=document.querySelector(".js-notifications-back-to-inbox");d&&d.click();return}(0,dV.a)(a,a),await dX(b)})}async function dX(a){try{await a.text()}catch(b){}}function dY(){let a=function(){let a=new URLSearchParams(window.location.search),b=function(a,b=null){return a.has("notification_referrer_id")?(function a(b,c){let d=dT(c);if(!d)return;let e={pathname:d};for(let f of dQ){let g=b.get(f);g&&(e[f]=g)}(0,dP.LS)(dR,JSON.stringify(e))}(a,b),function a(b){for(let c of dQ)b.delete(c);return b}(a)):null}(a);if(b){let c=new URL(window.location.href,window.location.origin);return c.search=b.toString(),c.toString()}}();a&&(0,A.lO)(null,"",a)}async function dZ(){await Y.C;let a=document.querySelector(".js-mark-notification-form");a instanceof HTMLFormElement&&(0,y.Bt)(a)}function d$(a,b){var c;if((c=a).closest(".js-jump-to-field"))return;let d=document.querySelector(".js-site-search-form");document.querySelector(".js-site-search").classList.toggle("scoped-search",b);let e,f;b?(e=d.getAttribute("data-scoped-search-url"),f=a.getAttribute("data-scoped-placeholder")):(e=d.getAttribute("data-unscoped-search-url"),f=a.getAttribute("data-unscoped-placeholder")),d.setAttribute("action",e),a.setAttribute("placeholder",f)}function d_(a,b){window.innerWidth<768?b?(0,cn.Tz)(a):(0,cn.N9)(a):window.innerWidth>=768&&(b?(0,cn.N9)(a):(0,cn.Tz)(a))}dW(),dY(),document.addEventListener(bi.QE.SUCCESS,dY),(0,p.N7)(".js-notification-shelf-include-fragment",function(a){if(!(a instanceof dU.Z))return;let b=dS();if(!b)return;let c=a.getAttribute("data-base-src");if(!c)return;let d=new URL(c,window.location.origin),e=new URLSearchParams(d.search);for(let[f,g]of Object.entries(b))"string"==typeof g&&e.set(f,g);d.search=e.toString(),a.setAttribute("src",d.toString())}),(0,l.on)("submit",".js-mark-notification-form",async function(a){let b=a.currentTarget;a.preventDefault();try{await fetch(b.action,{method:b.method,body:new FormData(b),headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})}catch{}}),document.addEventListener(bi.QE.SUCCESS,dZ),dZ(),(0,D.w4)("keyup",".js-site-search-field",function(a){let b=a.target,c=0===b.value.length;c&&"Backspace"===a.key&&b.classList.contains("is-clearable")&&d$(b,!1),c&&"Escape"===a.key&&d$(b,!0),b.classList.toggle("is-clearable",c)}),(0,D.ZG)(".js-site-search-focus",function(a){let b=a.closest(".js-chromeless-input-container");function c(){b.classList.remove("focus"),0===a.value.length&&a.classList.contains("js-site-search-field")&&d$(a,!0),a.removeEventListener("blur",c)}b.classList.add("focus"),a.addEventListener("blur",c)}),(0,l.on)("submit",".js-site-search-form",function(a){if(!(a.target instanceof Element))return;let b=a.target.querySelector(".js-site-search-type-field");b.value=new URLSearchParams(window.location.search).get("type")||""});let d0=new ResizeObserver(a=>{for(let{target:b}of a){let c=b.classList.contains("regular-search-input");(b.classList.contains("sm-search-input")||c)&&d_(b,c)}});(0,p.N7)(".regular-search-input",{constructor:HTMLElement,add(a){d0.observe(a)},remove(a){(0,cn.Tz)(a),d0.unobserve(a)}}),(0,p.N7)(".sm-search-input",{constructor:HTMLElement,add(a){d0.observe(a)},remove(a){(0,cn.Tz)(a),d0.unobserve(a)}}),(0,l.on)("click",".js-toggle-appheader-search",function(){let a=document.querySelector(".js-global-bar-second-row");if(a&&(a.toggleAttribute("hidden"),!a.getAttribute("hidden"))){let b=a.querySelector(".js-site-search-focus");b&&b.focus()}});var d1=c(54430);(0,p.N7)("textarea.js-size-to-fit",{constructor:HTMLTextAreaElement,subscribe:d1.Z});var d2=c(87098);(0,l.on)("click",".js-smoothscroll-anchor",function(a){let b=a.currentTarget;if(!(b instanceof HTMLAnchorElement))return;let c=(0,d2.Kt)(document,b.hash);if(!c&&"#top"===b.hash){let d=document.querySelector("html");if(d){let e=d.style.scrollBehavior;d.style.scrollBehavior="smooth",window.location.hash="",d.scrollIntoView({behavior:"smooth"}),d.style.scrollBehavior=e,a.preventDefault();return}}if(!c)return;c.focus();let f=window.matchMedia("(prefers-reduced-motion: reduce)");f&&f.matches?c.scrollIntoView():c.scrollIntoView({behavior:"smooth"}),a.preventDefault()});let d3=new WeakMap,d4=document.querySelector("#snippet-clipboard-copy-button");async function d5(a,b){let c=a.getAttribute("data-snippet-clipboard-copy-content");if(null===c||(a.removeAttribute("data-snippet-clipboard-copy-content"),!(d4 instanceof HTMLTemplateElement)))return;let d=d4.content.cloneNode(!0),e=d.children[0];if(!(e instanceof HTMLElement))return;let f=e.children[0];if(!(f instanceof HTMLElement))return;f.setAttribute("value",c),document.addEventListener("selectionchange",()=>{let b=document.getSelection();if(b&&a.contains(b.anchorNode)){let c=b?.toString();f.style.display=""===c.trim()?"inherit":"none"}},{signal:b});let g=a.querySelector("pre");if(null!==g){let h;g.addEventListener("scroll",()=>{h&&clearTimeout(h),f.style.display="none",h=setTimeout(()=>{f.style.display="inherit"},1e3)},{signal:b})}a.appendChild(e)}function d6(a,b,c){d7(a,b),c&&a.classList.toggle("on");let d=Array.from(a.querySelectorAll(".js-social-updatable"),ak.x0);return Promise.all(d)}function d7(a,b){for(let c of a.querySelectorAll(".js-social-count")){c.textContent=b;let d=c.getAttribute("data-singular-suffix"),e=c.getAttribute("data-plural-suffix"),f="1"===b?d:e;f&&c.setAttribute("aria-label",`${b} ${f}`)}}(0,p.N7)("[data-snippet-clipboard-copy-content]",{constructor:HTMLElement,add(a){if(a.parentElement&&a.parentElement.classList.contains("js-no-snippet-clipboard-copy"))return;let b=new AbortController;d3.set(a,b),d5(a,b.signal)}}),(0,p.N7)(".snippet-clipboard-content clipboard-copy",{constructor:HTMLElement,remove(a){let b=d3.get(a);b&&b.abort()}}),(0,m.AC)(".js-social-form",async function(a,b){let c,d=a.closest(".js-social-container"),e=a.classList.contains("js-deferred-toggler-target");try{c=await b.json(),d&&await d6(d,c.json.count,e)}catch(f){if(f.response?.status===409&&f.response.json.confirmationDialog){let g=f.response.json.confirmationDialog,h=document.querySelector(g.templateSelector),i=a.querySelector(".js-confirm-csrf-token")?.value;if(h instanceof HTMLTemplateElement&&i){let j=new bd.R(h,{confirmUrl:a.action,confirmCsrfToken:i,...g.inputs||{}}),l=await (0,bp.W)({content:j});l.addEventListener("social-confirmation-form:success",async a=>{a instanceof CustomEvent&&d&&await d6(d,a.detail.count,e)}),l.addEventListener("social-confirmation-form:error",()=>{(0,k.v)()})}}else d&&!e&&d.classList.toggle("on"),(0,k.v)()}}),(0,m.AC)(".js-social-confirmation-form",async function(a,b){try{let c=await b.json();(0,l.f)(a,"social-confirmation-form:success",c.json)}catch{(0,l.f)(a,"social-confirmation-form:error")}}),c(22368);let d8=new Map;function d9(a){let b=document.querySelector(".js-stale-session-flash"),c=b.querySelector(".js-stale-session-flash-signed-in"),d=b.querySelector(".js-stale-session-flash-signed-out");b.hidden=!1,c.hidden="false"===a,d.hidden="true"===a,window.addEventListener("popstate",function(a){a.state&&null!=a.state.container&&location.reload()}),document.addEventListener("submit",function(a){a.preventDefault()})}document.addEventListener("socket:message",function(a){let{name:b,data:c,cached:d}=a.detail;if(d)return;let e={name:b,data:{...c},arrived:Date.now()};e.data.wait=0,d8.set(b,e)},{capture:!0}),(0,p.N7)("form.js-auto-replay-enforced-sso-request",{constructor:HTMLFormElement,initialize(a){(0,y.Bt)(a)}});let ea=null;if("function"==typeof BroadcastChannel)try{(ea=new BroadcastChannel("stale-session")).onmessage=a=>{"string"==typeof a.data&&d9(a.data)}}catch{}if(!ea){let eb=!1;ea={postMessage(a){eb=!0;try{window.localStorage.setItem("logged-in",a)}finally{eb=!1}},onmessage:null},window.addEventListener("storage",function(a){if(!eb&&a.storageArea===window.localStorage&&"logged-in"===a.key)try{("true"===a.newValue||"false"===a.newValue)&&d9(a.newValue)}finally{window.localStorage.removeItem(a.key)}})}let ec=document.querySelector(".js-stale-session-flash[data-signedin]");if(ec){let ed=ec.getAttribute("data-signedin")||"";ea?.postMessage(ed)}let ee=()=>{ea?.postMessage("false")};function ef(a,b,c){let d=a.getBoundingClientRect().height,e=b.getBoundingClientRect(),f=c.getBoundingClientRect(),g=f.top;g+e.height+10>=d&&(g=Math.max(d-e.height-10,0));let h=f.right;null!=c.closest(".js-build-status-to-the-left")&&(h=Math.max(f.left-e.width-10,0)),b.style.top=`${g}px`,b.style.left=`${h}px`,b.style.right="auto"}async function eg(a){let b=a.querySelector(".js-dropdown-details"),c=a.querySelector(".js-status-dropdown-menu")||a.closest(".js-status-dropdown-menu");if(!(c instanceof HTMLElement))return;let d=c.querySelector(".js-status-loader");if(!d)return;let e=c.querySelector(".js-status-loading"),f=c.querySelector(".js-status-error"),g=d.getAttribute("data-contents-url");e.classList.remove("d-none"),f.classList.add("d-none");let h;try{await (0,bT.Z)(),h=await (0,bq.a)(document,g)}catch(i){e.classList.add("d-none"),f.classList.remove("d-none")}h&&(d.replaceWith(h),c.querySelector(".js-details-container").classList.add("open"),b&&c.classList.contains("js-append-menu-to-body")&&ef(document.body,c,b))}function eh(a){let b=a.currentTarget;eg(b)}(0,p.N7)(".js-loggout-form",function(a){a.addEventListener("submit",ee)}),(0,l.on)("toggle",".js-build-status .js-dropdown-details",function(a){let b=a.currentTarget,c=b.querySelector(".js-status-dropdown-menu");function d(){b.hasAttribute("open")||f()}function e(a){c.contains(a.target)||f()}function f(){b.removeAttribute("open"),c.classList.add("d-none"),b.appendChild(c),b.removeEventListener("toggle",d),window.removeEventListener("scroll",e)}c&&(b.addEventListener("toggle",d),c.classList.contains("js-close-menu-on-scroll")&&window.addEventListener("scroll",e,{capture:!0}),c.classList.remove("d-none"),c.querySelector(".js-details-container").classList.add("open"),c.classList.contains("js-append-menu-to-body")&&(document.body.appendChild(c),ef(document.body,c,b)))},{capture:!0}),(0,l.on)("click",".js-status-retry",({currentTarget:a})=>{eg(a)}),(0,p.N7)(".js-build-status",{add(a){a.addEventListener("mouseenter",eh,{once:!0})},remove(a){a.removeEventListener("mouseenter",eh)}}),c(21935);var ei=c(94056);async function ej(a){let b=a.currentTarget;if(!(b instanceof HTMLElement))return;a.stopPropagation(),a.preventDefault();let c=await (0,ei.Z)();c&&(b.removeAttribute("data-sudo-required"),b instanceof HTMLFormElement?(0,y.Bt)(b):b.click())}(0,l.on)("click","button[data-sudo-required], summary[data-sudo-required]",ej),(0,p.N7)("form[data-sudo-required]",{constructor:HTMLFormElement,subscribe:a=>(0,F.RB)(a,"submit",ej)});let ek={"actor:":"ul.js-user-suggestions","user:":"ul.js-user-suggestions","operation:":"ul.js-operation-suggestions","org:":"ul.js-org-suggestions","action:":"ul.js-action-suggestions","repo:":"ul.js-repo-suggestions","country:":"ul.js-country-suggestions"};function el(a){let b=a.detail;if(!ep(b.key))return;let c=b.item.getAttribute("data-value");b.value=`${b.key}${c}`}function em(a){let{key:b,provide:c,text:d}=a.detail;if(!ep(b))return;let e=a.target,f=e.getAttribute("data-audit-url");c(eo(f,b,d))}(0,p.N7)("text-expander[data-audit-url]",{subscribe:a=>(0,F.qC)((0,F.RB)(a,"text-expander-change",em),(0,F.RB)(a,"text-expander-value",el))});let en=(0,aV.Z)(a=>[...a.children],{hash:a=>a.className});async function eo(a,b,c){let d=await es(a),e=d.querySelector(eq(b));if(!e)return{matched:!1};let f=(function(a,b){let c=b.toLowerCase(),d=a=>{let b=a.textContent.toLowerCase().trim(),d=(0,bP.EW)(b,c);return d>0?{score:d,text:b}:null};return c?(0,bQ.W)(a,d,bP.qu):a})(en(e),c).slice(0,5),g=e.cloneNode(!1);for(let h of(g.textContent="",f))g.append(h);return{fragment:g,matched:f.length>0}}function ep(a){return Object.getOwnPropertyNames(ek).includes(a)}function eq(a){let b=ek[a];if(!b)throw Error(`Unknown audit log expander key: ${a}`);return b}async function er(a){let b=await (0,bq.a)(document,a),c=document.createElement("div");return c.append(b),c}let es=(0,aV.Z)(er);function et(a){let b=a.detail;":"===b.key&&(b.value=function(a){if(a.hasAttribute("data-use-colon-emoji"))return a.getAttribute("data-value");let b=a.firstElementChild;return b&&"G-EMOJI"===b.tagName&&!b.firstElementChild?b.textContent:a.getAttribute("data-value")}(b.item))}function eu(a){let{key:b,provide:c,text:d}=a.detail;if(":"!==b)return;let e=a.target,f=e.getAttribute("data-emoji-url");c(ev(f,d))}async function ev(a,b){let[c,d]=await ex(a),e=(function(a,b){let c=` ${b.toLowerCase().replace(/_/g," ")}`;return(0,bQ.W)(a,a=>{let b=a.getAttribute("data-emoji-name"),d=function a(b,c){let d=b.indexOf(c);return d> -1?1e3-d:0}(function a(b){let c=b.getAttribute("data-text").trim().toLowerCase().replace(/_/g," ");return` ${c}`}(a),c);return d>0?{score:d,text:b}:null},bP.qu)})(d,b).slice(0,5);for(let f of(c.textContent="",e))c.append(f);return{fragment:c,matched:e.length>0}}async function ew(a){let b=await (0,bq.a)(document,a),c=b.firstElementChild;return[c,[...c.children]]}(0,p.N7)("text-expander[data-emoji-url]",{subscribe:a=>(0,F.qC)((0,F.RB)(a,"text-expander-change",eu),(0,F.RB)(a,"text-expander-value",et))});let ex=(0,aV.Z)(ew);var ey=c(32881);function ez(a){let b=a.detail;if("#"!==b.key)return;let c=b.item.getAttribute("data-value");b.value=`#${c}`}function eA(a){let{key:b,provide:c,text:d}=a.detail;if("#"!==b)return;if("#"===d){eB(a.target);return}let e=a.target,f=e.getAttribute("data-issue-url");c(eE(f,d))}function eB(a){if(!a)return;let b=a.closest("text-expander");b&&b.dismiss()}function eC(a){eB(a.target)}function eD(a){let{key:b}=a;0>["ArrowRight","ArrowLeft"].indexOf(b)||eB(a.target)}async function eE(a,b){let c=await eF(a),d=document.createElement("div"),e=(function(a,b){var c;if(!b)return a;let d=RegExp(`\\b${(c=b,c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))}`),e=/^\d+$/.test(b)?a=>(function a(b,c){let d=b.search(c);return d> -1?1e3-d:0})(a,d):a=>(0,bP.EW)(a,b),f=a=>{var b;let c=(b=a,`${b.number} ${b.title.trim().toLowerCase()}`),d=e(c);return d>0?{score:d,text:c}:null};return(0,bQ.W)(a,f,bP.qu)})(c.suggestions,b).slice(0,5);!function(a,b,c){let d=a=>ey.dy`
    <ul role="listbox" class="suggester-container suggester suggestions list-style-none position-absolute">
      ${a.map(e)}
    </ul>
  `,e=a=>{let b=a.type in c?(0,z.r)(document,c[a.type]):"";return ey.dy`
      <li class="markdown-title" role="option" id="suggester-issue-${a.id}" data-value="${a.number}">
        <span class="d-inline-block mr-1">${b}</span>
        <small>#${a.number}</small> ${(0,ey.Au)(a.title)}
      </li>
    `};(0,ey.sY)(d(a),b)}(e,d,c.icons);let f=d.firstElementChild;return{fragment:f,matched:e.length>0}}(0,p.N7)("text-expander[data-issue-url]",{subscribe(a){let b=[(0,F.RB)(a,"text-expander-change",eA),(0,F.RB)(a,"text-expander-value",ez),(0,F.RB)(a,"keydown",eD),(0,F.RB)(a,"click",eC),];return(0,F.qC)(...b)}});let eF=(0,aV.Z)(async function(a){let b=await self.fetch(a,{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});if(!b.ok){let c=Error(),d=b.statusText?` ${b.statusText}`:"";throw c.message=`HTTP ${b.status}${d}`,c}return b.json()});function eG(a,b){let c,d,e,f,g=eH(a,b[0]);if(0===g.length)return null;if(1===b.length)return[g[0],1,[]];for(d=0,f=null,e=g.length;d<e;d++){let h=g[d];if(!(c=eI(a,b,h+1)))continue;let i=c[c.length-1]-h;(!f||i<f[1])&&(f=[h,i,c])}return f}function eH(a,b){let c=0,d=[];for(;(c=a.indexOf(b,c))> -1;)d.push(c++);return d}function eI(a,b,c){let d=c,e=[];for(let f=1;f<b.length;f+=1){if(-1===(d=a.indexOf(b[f],d)))return;e.push(d++)}return e}function eJ(a){let b=a.detail;if("@"!==b.key)return;let c=b.item.getAttribute("data-value");b.value=`@${c}`}function eK(a){let{key:b,provide:c,text:d}=a.detail;if("@"!==b||d?.split(" ").length>1)return;let e=a.target,f=e.getAttribute("data-mention-url");c(eL(f,d))}async function eL(a,b){let c=await eM(a),d=document.createElement("div"),e=(function(a,b){if(!b)return a;let c=function a(b){if(!b)return()=>2;let c=b.toLowerCase().split("");return(a,d)=>{if(!a)return 0;let e=eG(a,c);if(!e)return 0;let f=b.length/e[1],g=f/(e[0]/2+1);return d?g+1:g}}(b),d=a=>{var b;let d=(b=a).description?`${b.name} ${b.description}`.trim().toLowerCase():`${b.login} ${b.name}`.trim().toLowerCase(),e=c(d,a.participant);return e>0?{score:e,text:d}:null};return(0,bQ.W)(a,d,bP.qu)})(c,b).slice(0,5);!function(a,b){let c=a=>ey.dy`
    <ul role="listbox" class="suggester-container suggester suggestions list-style-none position-absolute">
      ${a.map(d)}
    </ul>
  `,d=a=>{let b="user"===a.type?a.login:a.name,c="user"===a.type?a.name:a.description;return ey.dy`
      <li role="option" id="suggester-${a.id}-${a.type}-${b}" data-value="${b}">
        <span>${b}</span>
        <small>${c}</small>
      </li>
    `};(0,ey.sY)(c(a),b)}(e,d);let f=d.firstElementChild;return{fragment:f,matched:e.length>0}}(0,p.N7)("text-expander[data-mention-url]",{subscribe:a=>(0,F.qC)((0,F.RB)(a,"text-expander-change",eK),(0,F.RB)(a,"text-expander-value",eJ))});let eM=(0,aV.Z)(async function(a){let b=await self.fetch(a,{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});if(!b.ok){let c=Error(),d=b.statusText?` ${b.statusText}`:"";throw c.message=`HTTP ${b.status}${d}`,c}return b.json()});(0,l.on)("change","input.js-survey-radio",function({currentTarget:a}){!function(a,b){let c=a.closest(".js-survey-question-form"),d=c.querySelector("input.js-survey-other-text"),e=b&&!c.classList.contains("is-other-selected");c.classList.toggle("is-other-selected",e),d.hidden=!b,e?(d.required=!0,d.focus()):d.required=!1,(0,l.f)(d,"change")}(a,a.classList.contains("js-survey-radio-other"))}),(0,l.on)("change","input.js-survey-contact-checkbox",function(a){let b=a.currentTarget,c=b.closest(".js-survey-question-form"),d=c.querySelector(".js-survey-contact-checkbox-hidden");b.checked?d.setAttribute("disabled","true"):d.removeAttribute("disabled")}),(0,l.on)("details-menu-selected",".js-sync-select-menu-text",function(a){let b=document.querySelector(".js-sync-select-menu-button"),c=a.detail.relatedTarget.querySelector("span[data-menu-button-text]").textContent;b.textContent=c,b.focus()},{capture:!0}),(0,l.on)("click",'tab-container [role="tab"]',function(a){let{currentTarget:b}=a,c=b.closest("tab-container"),d=c.querySelector(".js-filterable-field, [data-filter-placeholder-input]");if(d instanceof HTMLInputElement){let e=b.getAttribute("data-filter-placeholder");e&&d.setAttribute("placeholder",e),d.focus()}}),(0,l.on)("tab-container-changed","tab-container",function(a){let b=a.detail.relatedTarget,c=b.getAttribute("data-fragment-url"),d=b.querySelector("include-fragment");c&&d&&!d.hasAttribute("src")&&(d.src=c)}),c(36543);var eN=c(96776);async function eO(a){let b=a.currentTarget;if(eR(b)){b.classList.remove("tooltipped");return}let c=b.getAttribute("data-url");if(!c)return;let d=await fetch(c,{headers:{Accept:"application/json"}});if(!d.ok)return;let e=await d.json(),f=b.getAttribute("data-id"),g=document.querySelectorAll(`.js-team-mention[data-id='${f}']`);for(let h of g)h.removeAttribute("data-url");try{0===e.total?e.members.push("This team has no members"):e.total>e.members.length&&e.members.push(`${e.total-e.members.length} more`),eP(g,eQ(e.members))}catch(i){let j=i.response?i.response.status:500,k=b.getAttribute(404===j?"data-permission-text":"data-error-text");eP(g,k)}}function eP(a,b){for(let c of a)c instanceof HTMLElement&&(c.setAttribute("aria-label",b),c.classList.add("tooltipped","tooltipped-s","tooltipped-multiline"))}function eQ(a){if("ListFormat"in Intl){let b=new Intl.ListFormat;return b.format(a)}if(0===a.length)return"";if(1===a.length)return a[0];if(2===a.length)return a.join(" and ");{let c=a[a.length-1];return a.slice(0,-1).concat(`and ${c}`).join(", ")}}function eR(a){return!!a.getAttribute("data-hovercard-url")&&!!a.closest("[data-team-hovercards-enabled]")}function eS(a){if(eT(a))return;let b=function(){let a=document.querySelector(".js-timeline-marker");return null!=a?a.getAttribute("data-last-modified"):null}();b&&a.headers.set("X-Timeline-Last-Modified",b)}function eT(a){let b;try{b=new URL(a.url)}catch(c){return!0}return b.host!==window.location.host}document.addEventListener("keydown",a=>{if("Escape"!==a.key||a.target!==document.body)return;let b=document.querySelector(".js-targetable-element:target");b&&(0,eN.uQ)(b,()=>{window.location.hash="",(0,A.lO)(window.history.state,"",window.location.pathname+window.location.search)})}),document.addEventListener("click",a=>{let b=document.querySelector(".js-targetable-element:target");!(!b||a.target instanceof HTMLAnchorElement)&&a.target instanceof HTMLElement&&(b.contains(a.target)||(0,eN.uQ)(b,()=>{window.location.hash="",(0,A.lO)(window.history.state,"",window.location.pathname+window.location.search)}))}),c(48804),(0,p.N7)(".js-team-mention",function(a){a.addEventListener("mouseenter",eO)}),(0,m.AC)(".js-needs-timeline-marker-header",function(a,b,c){eS(c)}),(0,l.on)("deprecatedAjaxSend","[data-remote]",function(a){let{request:b}=a.detail;eS(b)});let eU=5e3,eV=".js-comment-body img",eW=".js-comment-body video";function eX(a=!0){let b=e6();if(!b)return;let c=document.getElementById(b);if(c)e3(c);else{if(eY(b))return;let d=document.querySelector("#js-timeline-progressive-loader");d&&a&&e4(b,d)}}function eY(a){return eZ(a)||e$(a,".js-thread-hidden-comment-ids")||e$(a,".js-review-hidden-comment-ids")}function eZ(a){let b=e_(a,".js-comment-container");return!!b&&((0,c7.$)(b),!0)}function e$(a,b){let c=e_(a,b);return!!c&&(c.addEventListener("page:loaded",function(){eX()}),c.querySelector("button[type=submit]").click(),!0)}function e_(a,b){let c=document.querySelectorAll(b);for(let d of c){let e=d.getAttribute("data-hidden-comment-ids");if(e){let f=e.split(","),g=a.match(/\d+/g)?.[0];if(g&&f.includes(g))return d}}return null}async function e0(){let a=document.querySelectorAll(eW),b=Array.from(a).map(a=>new Promise(b=>{if(a.readyState>=a.HAVE_METADATA)b(a);else{let c=setTimeout(()=>b(a),eU),d=()=>{clearTimeout(c),b(a)};a.addEventListener("loadeddata",()=>{a.readyState>=a.HAVE_METADATA&&d()}),a.addEventListener("error",()=>d())}}));return Promise.all(b)}async function e1(){let a=document.querySelectorAll(eV),b=Array.from(a).map(a=>{new Promise(b=>{if(a.complete)b(a);else{let c=setTimeout(()=>b(a),eU),d=()=>{clearTimeout(c),b(a)};a.addEventListener("load",()=>d()),a.addEventListener("error",()=>d())}})});return Promise.all(b)}async function e2(){return Promise.all([e0(),e1()])}async function e3(a){await e2(),e5(a);let b=a.querySelector(`[href='#${a.id}']`);if(a.scrollIntoView(),b){let c=b.getAttribute("data-turbo");b.setAttribute("data-turbo","false"),b.click(),null===c?b.removeAttribute("data-turbo"):b.setAttribute("data-turbo",c)}}async function e4(a,b){if(!b)return;let c=b.getAttribute("data-timeline-item-src");if(!c)return;let d=new URL(c,window.location.origin),e=new URLSearchParams(d.search.slice(1));e.append("anchor",a),d.search=e.toString();let f;try{f=await (0,bq.a)(document,d.toString())}catch(g){return}let h=f.querySelector(".js-timeline-item");if(!h)return;let i=h.getAttribute("data-gid");if(!i)return;let j=document.querySelector(`.js-timeline-item[data-gid='${i}']`);if(j)j.replaceWith(h),eX(!1);else{let k=document.getElementById("js-progressive-timeline-item-container");k&&k.replaceWith(f),eX(!1)}}function e5(a){let b=a.closest("details, .js-details-container");b&&("DETAILS"===b.nodeName?b.setAttribute("open","open"):(0,a5.jo)(b)||(0,a5.Qp)(b))}function e6(){return window.location.hash.slice(1)}async function e7(){let a=[];try{a=await navigator.serviceWorker.getRegistrations()}catch(b){if("SecurityError"===b.name)return}for(let c of a)c.unregister()}(0,cg.Z)(function(){eX()}),(0,p.N7)(".js-timeline-progressive-focus-container",function(a){let b=e6();if(!b)return;let c=document.querySelector(".js-pull-discussion-timeline");if(c)return;let d=document.getElementById(b);d&&a.contains(d)&&e3(d)}),(0,p.N7)(".js-inline-comments-container",function(a){let b=e6();if(!b)return;let c=document.getElementById(b);c&&a.contains(c)&&e3(c)}),(0,p.N7)("#js-discussions-timeline-anchor-loader",{constructor:HTMLElement,add(a){let b=document.querySelector("#js-timeline-progressive-loader");if(b)return;let c=e6();if(!c)return;let d=document.getElementById(c);d||e4(c,a)}}),(0,p.N7)(".js-discussion",function(){let a=new WeakSet;function b(){a=new WeakSet(document.querySelectorAll(".js-timeline-item"))}b(),document.addEventListener("turbo:load",b),(0,p.N7)(".js-timeline-item",b=>{b instanceof HTMLElement&&(a.has(b)||(0,s.N)(b))})}),(0,l.on)("click",".js-toggler-container .js-toggler-target",function(a){if(0!==a.button)return;let b=a.currentTarget.closest(".js-toggler-container");b&&b.classList.toggle("on")}),(0,m.AC)(".js-toggler-container",async(a,b)=>{a.classList.remove("success","error"),a.classList.add("loading");try{await b.text(),a.classList.add("success")}catch(c){a.classList.add("error")}finally{a.classList.remove("loading")}}),async function(){if("serviceWorker"in navigator){await Y.x;let a=document.querySelector('link[rel="service-worker-src"]')?.href;a?navigator.serviceWorker.register(a,{scope:"/"}):await e7()}}();var e8=c(74395);(0,e8.OY)(0),e8.nP.isVisitable=()=>(0,dk.xc)();let e9=Object.getOwnPropertyDescriptor(e8.cr.prototype,"reloadReason").get;function*fa(a){for(let b of Object.values(a.detailsByOuterHTML))if(b.tracked)for(let c of b.elements)c instanceof HTMLMetaElement&&c.getAttribute("http-equiv")&&(yield[c.getAttribute("http-equiv")||"",c.getAttribute("content")||""])}Object.defineProperty(e8.cr.prototype,"reloadReason",{get(){let a=e9.call(this);if("tracked_element_mismatch"!==a.reason)return a;let b=Object.fromEntries(fa(this.currentHeadSnapshot)),c=[];for(let[d,e]of fa(this.newHeadSnapshot))b[d]!==e&&c.push((0,dk.T2)(d));return{reason:`tracked_element_mismatch-${c.join("-")}`}}});let fb=a=>{let b=history[a];history[a]=function(a,c,d){let e=a?.skipTurbo||a?.usr?.skipTurbo;e8.ry.history.update(function(c,d,f){b.call(this,e?{...a,skipTurbo:!0}:{...a,...c},d,f)},new URL(d||location.href,location.href),a?.turbo?.restorationIdentifier)}};fb("replaceState"),fb("pushState");let fc=e8.nP.adapter,fd=()=>{fc.progressBar.setValue(0),fc.progressBar.show()},fe=()=>{fc.progressBar.setValue(1),fc.progressBar.hide()};var ff=c(30907);let fg=new Map,fh=new Map,fi=()=>fg.get(document.location.href),fj=(a,b)=>fg.set(a,b),fk=()=>fh.set(document.location.href,(0,dk.Yg)()),fl=()=>fh.get(document.location.href);(async()=>{await Y.x,fj(document.location.href,(0,dk.ag)(document)),fk()})(),(0,p.N7)("[data-turbo-frame]",{constructor:HTMLElement,add(a){if("A"!==a.tagName&&""!==a.getAttribute("data-turbo-frame"))for(let b of a.querySelectorAll("a:not([data-turbo-frame])"))b.setAttribute("data-turbo-frame",a.getAttribute("data-turbo-frame")||"")}}),document.addEventListener("turbo:click",function(a){if(a.target instanceof HTMLElement&&a instanceof CustomEvent){if((0,ff.Z)(location.href,a.detail.url)){a.preventDefault();return}a.defaultPrevented||(0,bi.LD)("turbo")}}),document.addEventListener("turbo:before-fetch-request",function(a){let b=window.onbeforeunload?.(a);if(b){let c=confirm(b);c?window.onbeforeunload=null:(a.preventDefault(),fe())}}),document.addEventListener("turbo:before-fetch-request",a=>{if(a.defaultPrevented)return;let b=a.target;if((0,dk.HN)(b)&&fd(),b?.tagName==="HTML"){let c=a;c.detail.fetchOptions.headers["Turbo-Visit"]="true"}let d=dS(a.detail.url.pathname);if(d){let e=new URLSearchParams(a.detail.url.search);for(let[f,g]of Object.entries(d))g&&e.set(f,g);a.detail.url.search=e.toString()}});let fm=document.createElement("turbo-frame"),fn=Object.getPrototypeOf(fm.delegate),fo=fn.requestErrored;fn.requestErrored=function(a,b){return this.element.dispatchEvent(new CustomEvent("turbo:fetch-error",{bubbles:!0,detail:{request:a,error:b}})),fo.apply(this,a,b)},document.addEventListener("turbo:fetch-error",a=>{if(a.target instanceof HTMLFormElement)return;let b=a.detail.request;window.location=b.location,a.preventDefault()}),document.addEventListener("turbo:before-fetch-response",a=>{let b=a.detail.fetchResponse;404===b.statusCode&&((0,dk.uL)("404"),window.location=b.location,a.preventDefault()),history.replaceState({...history.state,skipTurbo:!1},"",location.href)}),document.addEventListener("turbo:frame-render",a=>{(0,dk.HN)(a.target)&&fe()}),document.addEventListener("turbo:before-render",async a=>{a instanceof CustomEvent&&(a.preventDefault(),a.detail.render=fq,await (0,dk.q3)(),a.detail.resume(!0),(0,dk.Ap)(document.documentElement,a.detail.newBody.ownerDocument.documentElement))});let fp=()=>new Promise(a=>{setTimeout(()=>a(),0)}),fq=async(a,b)=>{await fp();let c=a.querySelector("[data-turbo-body]"),d=b.querySelector("[data-turbo-body]");c&&d?((0,dk.Ap)(a,b),c.replaceWith(d)):((0,dk.uL)("missing_turbo_body"),window.location.reload())};window.addEventListener("popstate",()=>{let a=document.documentElement,b=fl();if(b){for(let c of a.attributes)b.find(a=>a.nodeName===c.nodeName)||a.removeAttribute(c.nodeName);for(let d of b)a.getAttribute(d.nodeName)!==d.nodeValue&&a.setAttribute(d.nodeName,d.nodeValue)}});var fr=c(16730);let fs=!1,ft,fu=a=>{if(!(a.target instanceof HTMLElement))return;let b=a.target.closest("[data-turbo-frame]"),c=a.target.closest("#js-repo-pjax-container"),d=new URL(a.detail.url,window.location.origin),e=a.target.closest("#user-profile-frame");return c&&b&&!(0,dk.AU)(d.pathname,location.pathname)||e&&!(0,dk.ck)(d.pathname,location.pathname)};document.addEventListener("turbo:frame-click",function(a){if(a.target instanceof HTMLElement&&a instanceof CustomEvent){if((0,ff.Z)(location.href,a.detail.url)){a.preventDefault();return}fu(a)&&((0,dk.uL)("repo_mismatch"),a.target.removeAttribute("data-turbo-frame"),a.preventDefault()),a.defaultPrevented||(0,bi.LD)("turbo.frame")}}),document.addEventListener("turbo:before-fetch-response",a=>{ft=a.detail.fetchResponse,(0,dk.HN)(a.target)&&fj(window.location.href,(0,dk.ag)(document))}),document.addEventListener("turbo:before-frame-render",async a=>{a.preventDefault();let{resume:b,newFrame:c}=a.detail;if(fs=!0,!ft)return;let d=await ft.responseHTML,e=ft.location;ft=null;let f=new DOMParser().parseFromString(d,"text/html"),g=a.target,h=f.querySelectorAll("turbo-frame"),i=[...h].find(a=>a.id===g?.id),j=(0,dk.po)(f);if(!i||j.length>0){(0,dk.uL)(`tracked_element_mismatch-${j.join("-")}`),window.location=e;return}fj(e.href,(0,dk.ag)(f)),(0,dk.DT)(f),(0,dk.xk)(f),(0,dk.wz)(f),fz(g,i),await (0,dk.q3)(),b(),fA(c)&&window.scrollTo(0,0),fv(f)}),window.addEventListener("popstate",()=>{document.addEventListener("turbo:load",()=>{let a=fi()?.replacedElements||[];(0,dk.wz)(document,a)},{once:!0})}),document.addEventListener(bi.QE.SUCCESS,()=>{fw(),fs&&(fs=!1,fx(),fy(),(0,bi.u5)())});let fv=a=>{let b=a.querySelector("meta[name=turbo-body-classes]")?.content;b&&(document.body.setAttribute("class",b),document.querySelector("[data-turbo-body]")?.setAttribute("class",b))},fw=()=>{let a=fi()?.bodyClasses;a&&(document.body.setAttribute("class",a),document.querySelector("[data-turbo-body]")?.setAttribute("class",a))},fx=()=>{let a=fi()?.title;a&&(0,fr.T)(a)},fy=()=>{let a=fi()?.transients;if(a){for(let b of document.querySelectorAll("head [data-turbo-transient]"))b.remove();for(let c of a)c.matches("title, script, link[rel=stylesheet]")||(c.setAttribute("data-turbo-transient",""),document.head.append(c))}},fz=(a,b)=>{a&&(a.className=b.className)},fA=a=>"true"!==a.getAttribute("data-turbo-skip-scroll")&&"advance"===a.getAttribute("data-turbo-action");document.addEventListener("turbo:frame-load",()=>{(0,cP.sj)()&&(0,cP.U6)("turbo.frame"),(0,bi.TL)({skipIfGoingToReactApp:!0,allowedMechanisms:["turbo.frame"]})}),document.addEventListener("turbo:load",a=>{(0,dk.zH)();let b=0===Object.keys(a.detail.timing).length;!(0,cP.sj)()||b||(0,cP.OE)()?b&&((0,cP.OE)()||(0,cP.sj)())?(0,bi.r_)({skipIfGoingToReactApp:!0,allowedMechanisms:["turbo","turbo.frame"]}):b&&(0,bi.Yl)():((0,bi.TL)({skipIfGoingToReactApp:!0,allowedMechanisms:["turbo"]}),(0,bi.BT)({skipIfGoingToReactApp:!0,allowedMechanisms:["turbo","turbo.frame"]}))}),document.addEventListener("beforeunload",()=>(0,bi.FP)()),document.addEventListener("turbo:reload",function(a){a instanceof CustomEvent&&(0,cP.Ak)(a.detail.reason)}),document.addEventListener(bi.QE.END,fk),document.addEventListener(bi.QE.PROGRESS_BAR.START,fd),document.addEventListener(bi.QE.PROGRESS_BAR.END,fe),window.requestIdleCallback(()=>{let a=function(){if("Intl"in window)try{let a=new window.Intl.DateTimeFormat;return a.resolvedOptions().timeZone}catch{}}();a&&(0,ac.d8)("tz",encodeURIComponent(a))});var fB,fC=c(76006),fD=c(8433),fE=function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g};(fB=e||(e={})).Initializing="initializing",fB.Unsupported="unsupported",fB.Ready="ready",fB.Waiting="waiting",fB.Error="error",fB.Submitting="submitting";let fF=((d=class WebauthnGetElement extends HTMLElement{connectedCallback(){this.originalButtonText=this.button.textContent,this.setState((0,fD.Zh)()?e.Ready:e.Unsupported),this.autoPrompt&&this.prompt(void 0,!0)}setState(a){for(let b of(this.button.textContent=this.hasErrored?this.button.getAttribute("data-retry-message"):this.originalButtonText,this.button.disabled=!1,this.button.hidden=!1,this.messages))b.hidden=!0;switch(a){case e.Initializing:this.button.disabled=!0;break;case e.Unsupported:this.button.disabled=!0,this.unsupportedMessage.hidden=!1;break;case e.Ready:this.autofocusWhenReady&&this.button.focus();break;case e.Waiting:this.waitingMessage.hidden=!1,this.button.hidden=!0;break;case e.Error:this.errorMessage.hidden=!1;break;case e.Submitting:this.button.textContent="Verifying\u2026",this.button.disabled=!0;break;default:throw Error("invalid state")}this.state=a}async prompt(a,b){a?.preventDefault(),this.dispatchEvent(new CustomEvent("webauthn-get-prompt"));try{b||this.setState(e.Waiting);let c=JSON.parse(this.dataJson),d=await (0,fD.U2)((0,fD.wz)(c));this.setState(e.Submitting);let f=this.closest(".js-webauthn-form"),g=f.querySelector(".js-webauthn-response");g.value=JSON.stringify(d),(0,y.Bt)(f)}catch(h){if(!b)throw this.hasErrored=!0,this.setState(e.Error),h}}constructor(...a){super(...a),this.state=e.Initializing,this.hasErrored=!1,this.dataJson="",this.autofocusWhenReady=!1,this.autoPrompt=!1}}).attrPrefix="",d);fE([fC.fA],fF.prototype,"button",void 0),fE([fC.GO],fF.prototype,"messages",void 0),fE([fC.fA],fF.prototype,"unsupportedMessage",void 0),fE([fC.fA],fF.prototype,"waitingMessage",void 0),fE([fC.fA],fF.prototype,"errorMessage",void 0),fE([fC.Lj],fF.prototype,"dataJson",void 0),fE([fC.Lj],fF.prototype,"autofocusWhenReady",void 0),fE([fC.Lj],fF.prototype,"autoPrompt",void 0),fF=fE([fC.Ih],fF),(fN=f||(f={})).Initializing="initializing",fN.ShowingForm="showing-form",fN.ShowingRevealer="showing-revealer";let fG=class SudoPasswordElement extends HTMLElement{connectedCallback(){this.setState(this.state)}setState(a){switch(this.revealer.hidden=!0,this.form.hidden=!1,a){case f.Initializing:break;case f.ShowingForm:this.dispatchEvent(new CustomEvent("sudo-password-showing-form"));break;case f.ShowingRevealer:this.revealer.hidden=!1,this.form.hidden=!0;break;default:throw Error("invalid state")}this.state=a}reveal(){this.setState(f.ShowingForm)}constructor(...a){super(...a),this.state=f.ShowingForm}};fE([fC.Lj],fG.prototype,"state",void 0),fE([fC.fA],fG.prototype,"revealer",void 0),fE([fC.fA],fG.prototype,"form",void 0),fE([fC.fA],fG.prototype,"passwordField",void 0),fG=fE([fC.Ih],fG);let fH=class SudoAuthElement extends HTMLElement{connectedCallback(){this.webauthnGet?.addEventListener("webauthn-get-prompt",()=>{this.sudoPassword.setState(f.ShowingRevealer)}),this.sudoPassword.addEventListener("sudo-password-showing-form",()=>{this.webauthnGet?.setState(e.Ready),this.sudoPassword.passwordField.focus()})}};fE([fC.fA],fH.prototype,"webauthnGet",void 0),fE([fC.fA],fH.prototype,"sudoPassword",void 0),fH=fE([fC.Ih],fH);var fI=c(96056),fJ=c(98576);function fK(a,b,c){if(!b.has(a))throw TypeError("attempted to "+c+" private field on non-instance");return b.get(a)}function fL(a,b){var c,d,e=fK(a,b,"get");return c=a,(d=e).get?d.get.call(c):d.value}function fM(a,b,c){var d=fK(a,b,"set");return!function(a,b,c){if(b.set)b.set.call(a,c);else{if(!b.writable)throw TypeError("attempted to set read only private field");b.value=c}}(a,d,c),c}var fN,fO,fP=function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g};(fO=i||(i={})).WebAuthn="webauthn",fO.Password="password",fO.GitHubMobile="github-mobile",fO.TotpApp="totp-app",fO.TotpSms="totp-sms";let fQ=(g=new WeakMap,(h=class SudoCredentialOptionsElement extends HTMLElement{reRenderPrompt(){this.resetPrompt();try{switch(fL(this,g)){case i.WebAuthn:this.renderWebauthnOption();break;case i.GitHubMobile:this.renderGitHubMobileOption();break;case i.TotpApp:this.renderTotpAppOption();break;case i.TotpSms:this.renderTotpSmsOption();break;case i.Password:default:this.renderPasswordOption()}this.reRenderNavContainer()}catch(a){this.handleUnexpectedPromptError(a)}}handleUnexpectedPromptError(a){let b="";switch(fL(this,g)){case i.GitHubMobile:b=this.githubMobileGenericErrorMessage;break;case i.TotpSms:b=this.smsGenericErrorMessage;break;default:b=this.genericErrorMessage}if(a&&fL(this,g)!==i.Password)throw this.renderPasswordOptionWithError(b),a}renderPasswordOptionWithError(a){this.showPassword(),this.showErrorMessage(a)}resetPrompt(){this.hideErrorMessage(),this.isWebAuthnAvailable()&&this.hideWebAuthn(),this.isGitHubMobileAvailable()&&this.hideGitHubMobile(),this.isTotpAppAvailable()&&this.hideTotpApp(),this.isTotpSmsAvailable()&&this.hideTotpSms(),this.hidePassword()}hideWebAuthn(){this.safeSetElementVisibility(this.webauthnContainer,!1),this.safeSetElementVisibility(this.webauthnNav,!1)}hideGitHubMobile(){this.safeSetElementVisibility(this.githubMobileContainer,!1),this.safeSetElementVisibility(this.githubMobileNav,!1),this.safeSetElementVisibility(this.githubMobileLoading,!1),this.safeSetElementVisibility(this.githubMobileLanding,!1)}hideTotpApp(){this.safeSetElementVisibility(this.totpAppContainer,!1),this.safeSetElementVisibility(this.totpAppNav,!1)}hideTotpSms(){this.safeSetElementVisibility(this.totpSmsContainer,!1),this.safeSetElementVisibility(this.totpSmsLanding,!1),this.safeSetElementVisibility(this.totpSmsNav,!1),this.safeSetElementVisibility(this.totpSmsResendNav,!1)}hidePassword(){this.safeSetElementVisibility(this.passwordContainer,!1),this.safeSetElementVisibility(this.passwordNav,!1)}reRenderNavContainer(){this.isWebAuthnAvailable()&&fL(this,g)!==i.WebAuthn&&this.safeSetElementVisibility(this.webauthnNav,!0),this.isGitHubMobileAvailable()&&fL(this,g)!==i.GitHubMobile&&this.safeSetElementVisibility(this.githubMobileNav,!0),this.isTotpAppAvailable()&&fL(this,g)!==i.TotpApp&&this.safeSetElementVisibility(this.totpAppNav,!0),this.isTotpSmsAvailable()&&fL(this,g)!==i.TotpSms&&this.safeSetElementVisibility(this.totpSmsNav,!0),fL(this,g)!==i.Password&&this.safeSetElementVisibility(this.passwordNav,!0)}renderWebauthnOption(){this.safeSetElementVisibility(this.webauthnContainer,!0),this.webauthnGet?.setState(e.Ready)}renderGitHubMobileOption(){try{(0,fI._8)()}catch{}this.safeSetElementVisibility(this.githubMobileLoading,!0),this.safeSetElementVisibility(this.githubMobileLanding,!1),this.safeSetElementVisibility(this.githubMobileContainer,!1),this.initiateGitHubMobileAuthRequest()}renderTotpSmsOption(){this.safeSetElementVisibility(this.totpSmsLanding,!1),this.safeSetElementVisibility(this.totpSmsContainer,!0),this.initiateTotpSmsRequest()}renderTotpAppOption(){this.safeSetElementVisibility(this.totpAppContainer,!0)}renderPasswordOption(){this.safeSetElementVisibility(this.passwordContainer,!0),this.loginField?this.loginField.focus():this.passwordField?.focus()}hasMultipleOptions(){return this.isWebAuthnAvailable()||this.isGitHubMobileAvailable()||this.isTotpAppAvailable()||this.isTotpSmsAvailable()}isWebAuthnAvailable(){return"true"===this.webauthnAvailable}isGitHubMobileAvailable(){return"true"===this.githubMobileAvailable}isTotpAppAvailable(){return"true"===this.totpAppAvailable}isTotpSmsAvailable(){return"true"===this.totpSmsAvailable}showWebauthn(){fM(this,g,i.WebAuthn),this.reRenderPrompt()}showGitHubMobile(){fM(this,g,i.GitHubMobile),this.reRenderPrompt()}showTotpApp(){fM(this,g,i.TotpApp),this.reRenderPrompt()}showTotpSms(){fM(this,g,i.TotpSms),this.reRenderPrompt()}showPassword(){fM(this,g,i.Password),this.reRenderPrompt()}githubMobileRetry(a){a.preventDefault(),this.showGitHubMobile()}async initiateGitHubMobileAuthRequest(){let a=this.githubMobilePromptUrl,b=document.getElementById("sudo-credential-options-github-mobile-csrf").value,c=new FormData;c.append("authenticity_token",b);try{let d=await fetch(a,{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest"},body:c});if(!d.ok&&fL(this,g)===i.GitHubMobile){this.mobileFailHandler(this.githubMobileGenericErrorMessage);return}let e=await d.json(),f=!!e.challenge;this.safeSetElementVisibility(this.githubMobileNoChallengeMessage,!f),this.safeSetElementVisibility(this.githubMobileChallengeMessage,f),this.safeSetElementVisibility(this.githubMobileChallengeValue,f),f&&(this.githubMobileChallengeValue.textContent=e.challenge);let h=document.getElementsByClassName("js-poll-github-mobile-sudo-authenticate")[0];(0,fI.Hu)(h,()=>this.mobileApprovedHandler(),a=>this.mobileFailHandler(a),()=>this.mobileCancelCheck())}catch(j){fL(this,g)===i.GitHubMobile&&this.mobileFailHandler(this.githubMobileGenericErrorMessage)}finally{fL(this,g)===i.GitHubMobile&&(this.safeSetElementVisibility(this.githubMobileLoading,!1),this.safeSetElementVisibility(this.githubMobileContainer,!0))}}async resendTotpSms(){this.hideErrorMessage(),(0,fJ.C)();try{await this.initiateTotpSmsRequest(!0)}catch(a){}document.body.classList.remove("is-sending")}async initiateTotpSmsRequest(a=!1){let b=new URL(this.totpSmsTriggerUrl,window.location.origin);a&&b.searchParams.set("resend","true");let c=document.getElementById("sudo-credential-options-sms-csrf").value,d=new FormData;d.append("authenticity_token",c);try{let e=await fetch(b,{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest"},body:d});if(e.ok||fL(this,g)!==i.TotpSms)fL(this,g)===i.TotpSms&&a&&(0,fJ.v)();else{let f=await e.json();this.showErrorMessage(f.error)}}catch(h){fL(this,g)===i.TotpSms&&this.showErrorMessage(this.smsGenericErrorMessage)}fL(this,g)===i.TotpSms&&this.safeSetElementVisibility(this.totpSmsResendNav,!0)}mobileApprovedHandler(){if(fL(this,g)===i.GitHubMobile){let a=this.githubMobileContainer.getElementsByTagName("form")[0];(0,y.Bt)(a)}}mobileFailHandler(a){fL(this,g)===i.GitHubMobile&&(this.showErrorMessage(a),(0,fI.cj)())}mobileCancelCheck(){return fL(this,g)!==i.GitHubMobile}safeSetElementVisibility(a,b){return!!a&&(a.hidden=!b,!0)}showErrorMessage(a){this.flashErrorMessageText&&(this.flashErrorMessageText.textContent=a,this.safeSetElementVisibility(this.flashErrorMessageContainer,!0))}hideErrorMessage(){this.flashErrorMessageText&&(this.flashErrorMessageText.textContent=""),this.safeSetElementVisibility(this.flashErrorMessageContainer,!1)}constructor(...a){var b,c,d;super(...a),b=this,d={writable:!0,value:void 0},function(a,b){if(b.has(a))throw TypeError("Cannot initialize the same private elements twice on an object")}(b,c=g),c.set(b,d)}}).attrPrefix="",h);fP([fC.Lj],fQ.prototype,"webauthnAvailable",void 0),fP([fC.Lj],fQ.prototype,"githubMobileAvailable",void 0),fP([fC.Lj],fQ.prototype,"totpAppAvailable",void 0),fP([fC.Lj],fQ.prototype,"totpSmsAvailable",void 0),fP([fC.Lj],fQ.prototype,"githubMobilePromptUrl",void 0),fP([fC.Lj],fQ.prototype,"githubMobileGenericErrorMessage",void 0),fP([fC.Lj],fQ.prototype,"smsGenericErrorMessage",void 0),fP([fC.Lj],fQ.prototype,"genericErrorMessage",void 0),fP([fC.Lj],fQ.prototype,"totpSmsTriggerUrl",void 0),fP([fC.fA],fQ.prototype,"flashErrorMessageContainer",void 0),fP([fC.fA],fQ.prototype,"flashErrorMessageText",void 0),fP([fC.fA],fQ.prototype,"webauthnContainer",void 0),fP([fC.fA],fQ.prototype,"githubMobileContainer",void 0),fP([fC.fA],fQ.prototype,"githubMobileLoading",void 0),fP([fC.fA],fQ.prototype,"githubMobileLanding",void 0),fP([fC.fA],fQ.prototype,"totpAppContainer",void 0),fP([fC.fA],fQ.prototype,"totpSmsContainer",void 0),fP([fC.fA],fQ.prototype,"totpSmsLanding",void 0),fP([fC.fA],fQ.prototype,"passwordContainer",void 0),fP([fC.fA],fQ.prototype,"githubMobileNoChallengeMessage",void 0),fP([fC.fA],fQ.prototype,"githubMobileChallengeMessage",void 0),fP([fC.fA],fQ.prototype,"githubMobileChallengeValue",void 0),fP([fC.fA],fQ.prototype,"webauthnNav",void 0),fP([fC.fA],fQ.prototype,"githubMobileNav",void 0),fP([fC.fA],fQ.prototype,"totpAppNav",void 0),fP([fC.fA],fQ.prototype,"totpSmsNav",void 0),fP([fC.fA],fQ.prototype,"totpSmsResendNav",void 0),fP([fC.fA],fQ.prototype,"passwordNav",void 0),fP([fC.fA],fQ.prototype,"webauthnGet",void 0),fP([fC.fA],fQ.prototype,"loginField",void 0),fP([fC.fA],fQ.prototype,"passwordField",void 0),fQ=fP([fC.Ih],fQ);let fR=0,fS="IntersectionObserver"in window?new IntersectionObserver(function(a){for(let b of a)b.isIntersecting&&fT(b.target)},{root:null,rootMargin:"0px",threshold:1}):null;function fT(a){a.classList.remove("js-unread-item","unread-item")}(0,p.N7)(".js-unread-item",{constructor:HTMLElement,add(a){fR++,fS&&fS.observe(a)},remove(a){fR--,fS&&fS.unobserve(a),0===fR&&function(){if(!document.hasFocus())return;let a=document.querySelector(".js-timeline-marker-form");a&&a instanceof HTMLFormElement&&(0,y.Bt)(a)}()}}),(0,p.N7)(".js-discussion[data-channel-target]",{subscribe:a=>(0,F.RB)(a,"socket:message",function(a){let b=a.target,c=a.detail.data;if(b.getAttribute("data-channel-target")===c.gid)for(let d of document.querySelectorAll(".js-unread-item"))fT(d)})});let fU=0,fV=/^\(\d+\)\s+/;function fW(){let a=fU?`(${fU}) `:"";document.title.match(fV)?document.title=document.title.replace(fV,a):document.title=`${a}${document.title}`}async function fX(){if(history.state&&history.state.staleRecords){for(let a in await Y.x,history.state.staleRecords)for(let b of document.querySelectorAll(`.js-updatable-content [data-url='${a}'], .js-updatable-content[data-url='${a}']`)){let c=history.state.staleRecords[a];b instanceof HTMLElement&&(0,ak.Of)(b,c,!0)}(0,A.lO)(null,"",location.href)}}(0,p.N7)(".js-unread-item",{add(){fU++,fW()},remove(){fU--,fW()}}),(0,p.N7)(".js-socket-channel.js-updatable-content",{subscribe:a=>(0,F.RB)(a,"socket:message",function(a){let{gid:b,wait:c}=a.detail.data,d=a.target,e=b?function a(b,c){if(b.getAttribute("data-gid")===c)return b;for(let d of b.querySelectorAll("[data-url][data-gid]"))if(d.getAttribute("data-gid")===c)return d;return null}(d,b):d;e&&setTimeout(ak.x0,c||0,e)})}),window.addEventListener("pagehide",ak.z8);try{fX()}catch{}async function fY(){await c.e("app_assets_modules_github_user-status-submit_ts").then(c.bind(c,47455))}(0,l.on)("upload:setup",".js-upload-avatar-image",function(a){let{form:b}=a.detail,c=a.currentTarget.getAttribute("data-alambic-organization"),d=a.currentTarget.getAttribute("data-alambic-owner-type"),e=a.currentTarget.getAttribute("data-alambic-owner-id");c&&b.append("organization_id",c),d&&b.append("owner_type",d),e&&b.append("owner_id",e)}),(0,l.on)("upload:complete",".js-upload-avatar-image",function(a){let{attachment:b}=a.detail,c=`/settings/avatars/${b.id}`;(0,bp.W)({content:(0,bq.a)(document,c),detailsClass:"upload-avatar-details"})}),(0,l.on)("dialog:remove",".upload-avatar-details",async function(a){let b=a.currentTarget.querySelector("#avatar-crop-form"),c=b.getAttribute("data-alambic-avatar-id"),d=`/settings/avatars/${c}?op=destroy`,e=a.currentTarget.querySelector(".js-avatar-post-csrf").getAttribute("value"),f=new Request(d,{method:"POST",headers:{"Scoped-CSRF-Token":e,"X-Requested-With":"XMLHttpRequest"}});await self.fetch(f)}),c(86412),c(19052),(0,p.N7)(".js-user-status-container, .js-load-user-status-submit",{subscribe:a=>(0,F.RB)(a,"click",fY,{once:!0})});var fZ=c(64611);function f$(a,b){let c=(b||a).querySelectorAll(".js-user-list-error");for(let d of c)d.hidden=!0;let e=b?[b]:a.querySelectorAll(".errored.js-user-list-input-container");for(let f of e)f.classList.remove("errored");let g=a.querySelector(".js-user-list-base");g&&(g.hidden=!0)}function f_(a){if(!(a.currentTarget instanceof HTMLElement))return;let b=a.currentTarget.closest(".js-user-list-form"),c=a.currentTarget.closest(".js-user-list-input-container");b&&c&&f$(b,c)}async function f0(a,b,c){let d=new FormData;for(let e of(d.set("authenticity_token",b),c))d.append("repository_ids[]",e);let f=await fetch(a,{method:"POST",body:d,headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}),g=new Map;if(f.ok){let h=await f.json();for(let i in h)g.set(i,(0,z.r)(document,h[i]))}return g}async function f1(){let a=document.querySelectorAll(".js-user-list-menu-content-root");if(0===a.length)return;let b=a[0].getAttribute("data-batch-update-url");if(!b)return;let c=a[0].querySelector(".js-user-list-batch-update-csrf")?.value;if(!c)return;let d=function(a){let b=new Map;for(let c of a){let d=c.querySelector(".js-user-lists-create-trigger")?.getAttribute("data-repository-id");if(d){let e=b.get(d);e?e.push(c):b.set(d,[c])}}return b}(a),e=d.keys(),f=await f0(b,c,e);f.size>0&&function(a,b){for(let[c,d]of a.entries()){let e=b.get(c)||[];for(let f of e)f.replaceWith(1===e.length?d:d.cloneNode(!0))}}(f,d)}function f2(a){let b=a.currentTarget;(0,fZ.T)(b)?f3(b):f4()}function f3(a){let b=a.getAttribute("data-warn-unsaved-changes")||"Changes you made may not be saved.";window.onbeforeunload=function(a){return a.returnValue=b,b}}function f4(){window.onbeforeunload=null}function f5({currentTarget:a}){a.hasAttribute("open")||f4()}function f6(a){let b=a.currentTarget,c=b.closest("details[open]");if(!c)return;let d=!0,e=b.querySelectorAll("form[data-warn-unsaved-changes]");for(let f of e)if((0,fZ.T)(f)){let g=f.getAttribute("data-warn-unsaved-changes");d=confirm(g);break}d||a.preventDefault()}function f7(a){let b=a.target;b.classList.remove("will-transition-once")}async function f8(a){let b=a.currentTarget,c=b.getAttribute("data-url");if(!c||ga(b))return;let d=b.getAttribute("data-id")||"",e=b.textContent,f=document.querySelectorAll(`.js-issue-link[data-id='${d}']`);for(let g of f)g.removeAttribute("data-url");try{let h=`${c}/title`,i=await fetch(h,{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});if(!i.ok){let j=Error(),k=i.statusText?` ${i.statusText}`:"";throw j.message=`HTTP ${i.status}${k}`,j}let l=await i.json();f9(f,`${e}, ${l.title}`)}catch(m){let n=(null!=m.response?m.response.status:void 0)||500,o=404===n?b.getAttribute("data-permission-text"):b.getAttribute("data-error-text");f9(f,o||"")}}function f9(a,b){for(let c of a)c instanceof HTMLElement&&(c.classList.add("tooltipped","tooltipped-ne"),c.setAttribute("aria-label",b))}function ga(a){let b=a.getAttribute("data-hovercard-type");switch(b){case"issue":case"pull_request":return!!a.closest("[data-issue-and-pr-hovercards-enabled]");case"discussion":return!!a.closest("[data-discussion-hovercards-enabled]");default:return!1}}(0,m.AC)(".js-user-list-form",async function(a,b){f$(a);let c=a.querySelector("[data-submitting-message]"),d=c?.textContent;for(let e of(c&&(c.textContent=c.getAttribute("data-submitting-message"),c.disabled=!0),a.querySelectorAll(".js-user-list-input")))e.disabled=!0;try{let f=await b.html();(0,l.f)(a,"user-list-form:success",f.html)}catch(g){if(g.response?.status===422)a.replaceWith(g.response.html);else for(let h of(function(a,b){let c=a.querySelector(".js-user-list-base");c&&(c.textContent=c.getAttribute("data-generic-message"),c.hidden=!1)}(a),c&&(d&&(c.textContent=d),c.disabled=!1),a.querySelectorAll(".js-user-list-input")))h.disabled=!1}}),(0,l.on)("user-list-form:success",".js-follow-list",a=>{let b=a.detail,c=b instanceof DocumentFragment?b.querySelector(".js-target-url"):null;c?.href?location.href=c.href:location.reload()}),(0,D.q6)(".js-user-list-form input",f_),(0,D.q6)(".js-user-list-form textarea",f_),(0,l.on)("auto-check-error",".js-user-list-form input",function(a){let b=a.currentTarget.closest(".js-user-list-input-container"),c=b?.querySelector(".js-user-list-error");c&&(c.hidden=!1)}),(0,l.on)("toggle",".js-user-list-menu",function(a){let b=a.target;if(!(b instanceof HTMLDetailsElement)||b.hasAttribute("open"))return;let c=b.querySelector(".js-user-list-menu-form");c&&(0,fZ.T)(c)&&(0,y.Bt)(c);let d=b.querySelector(".js-user-list-create-trigger-text");d&&(d.textContent="")},{capture:!0}),(0,D.q6)(".js-user-lists-menu-filter",a=>{let b=a.currentTarget,c=b.value.trim(),d=b.closest(".js-user-list-menu-content-root"),e=d?.querySelector(".js-user-list-create-trigger-text");e&&(e.textContent=c?`"${c}"`:"")}),(0,m.AC)(".js-user-list-menu-form",async function(a,b){let c;try{c=await b.json()}catch(d){(0,k.v)(),(0,l.f)(a,"user-list-menu-form:error",d);return}if(c.json.didStar){let e=a.closest(".js-toggler-container");e&&e.classList.add("on");let f=c.json.starCount;if(f){let g=a.closest(".js-social-container");g&&d7(g,f)}}let h=a.closest(".js-user-list-menu-content-root[data-update-after-submit]");if(h)for(let i of a.querySelectorAll(".js-user-list-menu-item"))i.checked=i.defaultChecked;c.json.didCreate?await f1():h&&await (0,ak.x0)(h),(0,l.f)(a,"user-list-menu-form:success")}),(0,l.on)("click",".js-user-list-delete-confirmation-trigger",a=>{let{currentTarget:b}=a,c=b.getAttribute("data-template-id");if(!c)return;let d=document.getElementById(c);if(!d||!(d instanceof HTMLTemplateElement))return;let e=b.closest(".js-edit-user-list-dialog");e&&(e.open=!1);let f=d.content.cloneNode(!0),g=d.getAttribute("data-labelledby");(0,bp.W)({content:f,labelledBy:g})}),(0,l.on)("click",".js-user-lists-create-trigger",async function(a){let{currentTarget:b}=a,c=document.querySelector(".js-user-list-create-dialog-template"),d=a.currentTarget.getAttribute("data-repository-id"),e=b.closest(".js-user-list-menu-content-root"),f=e?.querySelector(".js-user-lists-menu-filter"),g=f?.value.trim();if(!c||!(c instanceof HTMLTemplateElement)||!d){b instanceof HTMLButtonElement&&(b.disabled=!0);return}let h=c.getAttribute("data-label");if(e&&(0,fZ.T)(e)){let i=e.querySelector(".js-user-list-menu-form");i&&await function(a){let b=new Promise((b,c)=>{a.addEventListener("user-list-menu-form:success",()=>b()),a.addEventListener("user-list-menu-form:error",a=>c(a))});return(0,y.Bt)(a),b}(i)}let j=new bd.R(c,{repositoryId:d,placeholderName:g}),k=await (0,bp.W)({content:j,label:h});k.addEventListener("user-list-form:success",async()=>{await f1();let a=k.closest("details");a&&(a.open=!1)})}),(0,p.N7)("[data-warn-unsaved-changes]",{add(a){a.addEventListener("input",f2),a.addEventListener("change",f2),a.addEventListener("submit",f4);let b=a.closest("details-dialog");b&&(b.closest("details").addEventListener("toggle",f5),b.addEventListener("details-dialog-close",f6))},remove(a){a.removeEventListener("input",f2),a.removeEventListener("change",f2),a.removeEventListener("submit",f4);let b=a.closest("details-dialog");b&&(b.closest("details").removeEventListener("toggle",f5),b.removeEventListener("details-dialog-close",f6),f4())}}),(0,p.N7)(".will-transition-once",{constructor:HTMLElement,subscribe:a=>(0,F.RB)(a,"transitionend",f7)}),(0,p.N7)(".js-issue-link",{subscribe:a=>(0,F.RB)(a,"mouseenter",f8)});var gb=c(12085),gc=c.n(gb);function gd(){return[Math.floor(255*Math.random()+0),Math.floor(255*Math.random()+0),Math.floor(255*Math.random()+0),]}function ge(a,b){let c=gc().rgb.hsl(b);a.style.setProperty("--label-r",b[0].toString()),a.style.setProperty("--label-g",b[1].toString()),a.style.setProperty("--label-b",b[2].toString()),a.style.setProperty("--label-h",c[0].toString()),a.style.setProperty("--label-s",c[1].toString()),a.style.setProperty("--label-l",c[2].toString())}function gf(a,b){a.blur();let c=a.closest("form"),d=c.querySelector(".js-new-label-color-input");(0,y.Se)(d,`#${gc().rgb.hex(b)}`);let e=c.querySelector(".js-new-label-color");ge(e,b)}function gg(a,b,c){let d=b.querySelector(a);d&&(c?function(a,b){let c=a.closest(".js-label-error-container");c.classList.add("errored"),a.textContent=b,a.hidden=!1}(d,c[0]):function(a){let b=a.closest(".js-label-error-container");b.classList.remove("errored"),a.hidden=!0}(d))}function gh(a,b){gg(".js-label-name-error",a,b.name),gg(".js-label-description-error",a,b.description),gg(".js-label-color-error",a,b.color)}function gi(a){gg(".js-label-name-error",a,null),gg(".js-label-description-error",a,null),gg(".js-label-color-error",a,null)}async function gj(a){let b=a.closest(".js-label-preview-container");if(!b)return;let c=a.closest(".js-label-form"),d=c.querySelector(".js-new-label-error"),e=c.getAttribute("data-label-id"),f=b.querySelector(".js-label-preview"),g=function(a,b){let c=a.querySelector(".js-new-label-name-input"),d=c.value.trim();return d.length<1&&(d=b.getAttribute("data-default-name")),d}(c,f);if(!c.checkValidity()&&"Label preview"!==g)return;let h=function(a){let b=a.querySelector(".js-new-label-color-input");return b.checkValidity()?b.value.trim().replace(/^#/,""):"ededed"}(c),i=function(a){let b=null,c=a.querySelector(".js-new-label-description-input");return c instanceof HTMLInputElement&&c.value.trim().length>0&&(b=c.value.trim()),b}(c),j=f.getAttribute("data-url-template"),k=function(a,b,c,d,e){let f=new URL(`${a}${encodeURIComponent(b)}`,window.location.origin),g=new URLSearchParams(f.search.slice(1));return g.append("color",c),d&&g.append("description",d),e&&g.append("id",e),f.search=g.toString(),f.toString()}(j,g,h,i,e);if(b.hasAttribute("data-last-preview-url")){let l=b.getAttribute("data-last-preview-url");if(k===l)return}let m;try{m=await (0,bq.a)(document,k)}catch(n){let o=await n.response.json();gh(c,o),d&&(d.textContent=o.message,d.hidden=!1);return}d&&(d.textContent="",d.hidden=!0),gi(c),f.textContent="",f.appendChild(m),b.setAttribute("data-last-preview-url",k)}function gk(a,b){let c=a.closest(".js-details-container");c.classList.toggle("is-empty",b)}function gl(a){let b=document.querySelector(".js-labels-count"),c=Number(b.textContent),d=c+a;b.textContent=d.toString();let e=document.querySelector(".js-labels-label");return e.textContent=e.getAttribute(1===d?"data-singular-string":"data-plural-string"),d}async function gm(a){let b=a.querySelector(".js-new-label-name-input");if(!b)return;let c=a.querySelector(".js-new-label-color-input"),d=gd(),e=`#${gc().rgb.hex(d)}`;c.value=e;let f=a.querySelector(".js-new-label-color");ge(f,d);let g=document.querySelector(".js-new-label-name"),h=g.textContent;(0,y.Se)(b,h),(0,aa.OD)(b),gj(f)}(0,D.q6)(".js-label-filter-field",function(a){let b=a.target,c=b.closest("details-menu"),d=c.querySelector(".js-new-label-name");if(!d)return;let e=b.value.trim();d.textContent=e}),(0,l.on)("filterable:change",".js-filterable-issue-labels",function(a){let b=a.currentTarget.closest("details-menu"),c=b.querySelector(".js-add-label-button");if(!c)return;let d=a.detail.inputField,e=d.value.trim().toLowerCase(),f=!1;for(let g of b.querySelectorAll("input[data-label-name]")){let h=g.getAttribute("data-label-name")||"";if(h.toLowerCase()===e){f=!0;break}}c.hidden=0===e.length||f}),(0,D.ZG)(".js-new-label-color-input",function(a){let b=a.closest("form"),c=b.querySelector(".js-new-label-swatches");c.hidden=!1,a.addEventListener("blur",function(){c.hidden=!0},{once:!0})}),(0,D.q6)(".js-new-label-color-input",function(a){let b=a.target,c=b.value.trim();if(!(c.length<1)){if(0!==c.indexOf("#")&&(c=`#${c}`,b.value=c),b.checkValidity()){b.classList.remove("color-fg-danger");let d=b.closest("form"),e=d.querySelector(".js-new-label-color");ge(e,gc().hex.rgb(c))}else b.classList.add("color-fg-danger")}}),(0,D.w4)("keyup",".js-new-label-color-input",function(a){let b=a.target,c=b.value.trim();if(0!==c.indexOf("#")&&(c=`#${c}`,b.value=c),b.checkValidity()){let d=b.closest("form"),e=d.querySelector(".js-new-label-color");ge(e,gc().hex.rgb(c))}(0,l.f)(b,"change",!1);let f=b.closest("form");gi(f)}),(0,D.w4)("keyup",".js-new-label-description-input",function(a){let b=a.target,c=b.form;gi(c)}),(0,D.w4)("keyup",".js-new-label-color-input",function(a){let b=a.target,c=b.form;gi(c)}),(0,l.on)("click",".js-new-label-color",async function(a){let b=a.currentTarget,c=gd();gf(b,c),gj(b)}),(0,l.on)("mousedown",".js-new-label-color-swatch",function(a){let b=a.currentTarget,c=b.getAttribute("data-color");gf(b,gc().hex.rgb(c)),gj(b);let d=b.closest(".js-new-label-swatches");d.hidden=!0}),(0,l.on)("toggle",".js-new-label-modal",function(a){a.target.hasAttribute("open")&&gm(a.target)},{capture:!0}),(0,m.AC)(".js-new-label-modal-form",async function(a,b){let c=a.querySelector(".js-new-label-error"),d;try{d=await b.html()}catch(e){let f=e.response.json;c.textContent=f.message,c.hidden=!1}if(!d)return;c.hidden=!0,document.querySelector(".js-new-label-modal").removeAttribute("open");let g=document.querySelector(".js-issue-labels-menu-content"),h=g.querySelector(".js-filterable-issue-labels"),i=d.html.querySelector("input");h.prepend(d.html),h.classList.add("filter-sort-list-refresh"),i&&i.dispatchEvent(new Event("change",{bubbles:!0}));let j=g.querySelector(".js-label-filter-field");j.value=j.defaultValue,j.focus()}),(0,l.on)("click",".js-edit-label-cancel",function(a){let b=a.target.closest("form");gi(b),b.reset();let c=b.querySelector(".js-new-label-color-input"),d=c.value,e=b.querySelector(".js-new-label-color");ge(e,gc().hex.rgb(d)),(0,aa.Qc)(b),gj(c);let f=a.currentTarget.closest(".js-labels-list-item");if(f){let g=f.querySelector(".js-update-label");g.classList.add("d-none");let h=f.querySelector(".js-label-preview");if(h){h.classList.add("d-none");let i=f.querySelector(".js-label-link");i.classList.remove("d-none")}let j=f.querySelectorAll(".js-hide-on-label-edit");for(let k of j)k.hidden=!k.hidden}}),(0,m.AC)(".js-update-label",async function(a,b){let c;try{c=await b.html()}catch(d){let e=d.response.json;gh(a,e);return}gi(a);let f=a.closest(".js-labels-list-item");f.replaceWith(c.html)}),(0,m.AC)(".js-create-label",async function(a,b){let c;try{c=await b.html()}catch(d){let e=d.response.json;gh(a,e);return}a.reset(),gi(a),document.querySelector(".js-label-list").prepend(c.html),gl(1),gk(a,!1);let f=a.querySelector(".js-new-label-color"),g=gd();gf(f,g),gj(a.querySelector(".js-new-label-name-input")),(0,aa.Qc)(a);let h=a.closest(".js-details-container");h instanceof HTMLElement&&(0,a5.Qp)(h)}),(0,l.on)("click",".js-details-target-new-label",function(){let a=document.querySelector(".js-create-label"),b=a.querySelector(".js-new-label-name-input");b.focus()}),(0,l.on)("click",".js-edit-label",function(a){let b=a.currentTarget.closest(".js-labels-list-item"),c=b.querySelector(".js-update-label");c.classList.remove("d-none");let d=c.querySelector(".js-new-label-name-input");d.focus();let e=b.querySelector(".js-label-preview");if(e){e.classList.remove("d-none");let f=b.querySelector(".js-label-link");f.classList.add("d-none")}let g=b.querySelectorAll(".js-hide-on-label-edit");for(let h of g)h.hidden=!h.hidden}),(0,m.AC)(".js-delete-label",async function(a,b){let c=a.closest(".js-labels-list-item");c.querySelector(".js-label-delete-spinner").hidden=!1,await b.text();let d=gl(-1);gk(a,0===d),c.remove()});let gn=(0,E.D)(function(a){gj(a.target)},500);function go(){let a=document.querySelector(".js-reveal-custom-thread-settings").checked,b=!document.querySelector(".js-custom-thread-notification-option:checked"),c=document.querySelector(".js-custom-thread-settings"),d=document.querySelector("[data-custom-option-required-text]"),e=a&&b?d.getAttribute("data-custom-option-required-text"):"";d.setCustomValidity(e),c.hidden=!a}(0,l.on)("suggester:complete",".js-new-label-name-input",gn),(0,D.q6)(".js-new-label-name-input",gn),(0,D.q6)(".js-new-label-description-input",gn),(0,D.q6)(".js-new-label-color-input",gn),(0,D.w4)("keypress",".js-new-label-name-input",function(a){let b=a.target,c=parseInt(b.getAttribute("data-maxlength"));(0,ap.rq)(b.value)>=c&&a.preventDefault()}),(0,l.on)("click",".js-issues-label-select-menu-item",function(a){(a.altKey||a.shiftKey)&&(a.preventDefault(),a.stopPropagation(),a.altKey&&(window.location.href=a.currentTarget.getAttribute("data-excluded-url")),a.shiftKey&&(window.location.href=a.currentTarget.getAttribute("data-included-url")))}),(0,D.w4)("keydown",".js-issues-label-select-menu-item",function(a){if("Enter"!==a.key|| !a.altKey&&!a.shiftKey)return;let b=a.currentTarget;a.preventDefault(),a.stopPropagation(),b instanceof HTMLAnchorElement&&(a.altKey&&(window.location.href=b.getAttribute("data-excluded-url")),a.shiftKey&&(window.location.href=b.getAttribute("data-included-url")))}),(0,l.on)("click",".js-open-label-creation-modal",async function(a){a.stopImmediatePropagation();let b=await (0,bp.W)({content:document.querySelector(".js-label-creation-template").content.cloneNode(!0),detailsClass:"js-new-label-modal"});gm(b)},{capture:!0}),(0,l.on)("change",".js-thread-notification-setting",go),(0,l.on)("change",".js-custom-thread-notification-option",go),(0,l.on)("reset",".js-custom-thread-settings-form",go);var gp=function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g};let gq=class CollapsibleSidebarWidgetElement extends HTMLElement{get activeClass(){return this.getAttribute("active-class")||"collapsible-sidebar-widget-active"}get loadingClass(){return this.getAttribute("loading-class")||"collapsible-sidebar-widget-loading"}get url(){return this.getAttribute("url")||""}get isOpen(){return this.hasAttribute("open")}set isOpen(a){a?this.setAttribute("open",""):this.removeAttribute("open")}onKeyDown(a){if("Enter"===a.code||"Space"===a.code)return a.preventDefault(),this.load()}onMouseDown(a){return a.preventDefault(),this.load()}load(){return this.pendingRequest?this.pendingRequest.abort():this.collapsible.hasAttribute("loaded")?this.isOpen?this.setClose():this.setOpen():(this.setLoading(),this.updateCollapsible())}setLoading(){this.classList.add(this.loadingClass),this.classList.remove(this.activeClass)}setOpen(){this.classList.add(this.activeClass),this.classList.remove(this.loadingClass),this.isOpen=!0}setClose(){this.classList.remove(this.activeClass),this.classList.remove(this.loadingClass),this.isOpen=!1}handleAbort(){this.pendingRequest=null,this.setClose()}async updateCollapsible(){try{this.pendingRequest=new AbortController,this.pendingRequest.signal.addEventListener("abort",()=>this.handleAbort());let a=await fetch(this.url,{signal:this.pendingRequest?.signal,headers:{Accept:"text/html","X-Requested-With":"XMLHttpRequest"}});if(this.pendingRequest=null,!a.ok)return this.setClose();let b=await a.text();this.collapsible.innerHTML=b,this.collapsible.setAttribute("loaded",""),this.setOpen()}catch{return this.pendingRequest=null,this.setClose()}}};gp([fC.fA],gq.prototype,"collapsible",void 0),gq=gp([fC.Ih],gq);var gr=function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g};let gs=((j=class SidebarMemexInputElement extends HTMLElement{get isDisabled(){return this.read?.hasAttribute("disabled")}set hasErrored(a){a?this.setAttribute("errored",""):this.removeAttribute("errored")}set disabled(a){a?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get hasExpanded(){return"true"===this.read.getAttribute("aria-expanded")}get detailsElement(){return this.querySelector("details")??null}connectedCallback(){this.disabled=this.read?.disabled?? !0,this.detailsElement?.addEventListener("toggle",()=>this.handleSelectMenuToggle())}disconnectedCallback(){this.detailsElement?.removeEventListener("toggle",()=>this.handleSelectMenuToggle())}handleSelectMenuToggle(){this.detailsElement&&!this.detailsElement?.open?this.disabled=!0:this.detailsElement&&this.detailsElement?.open&&(this.disabled=!1)}handleDetailsSelect(a){let b=a.target,c=a.detail?.relatedTarget,d=b.closest("details"),e=d?.querySelector("[data-menu-button]"),f=d?.querySelector("summary");if("true"===c.getAttribute("aria-checked")){for(let g of(c.setAttribute("aria-checked","false"),a.preventDefault(),this.inputs))if(c.contains(g)){this.updateCell(g.name,""),e?.innerHTML&&(e.innerHTML=g.placeholder);break}d?.removeAttribute("open"),f?.focus()}}handleDetailsSelected(a){let b=a.detail?.relatedTarget;for(let c of this.inputs)if(b.contains(c)){this.updateCell(c.name,c.value);break}}mouseDownFocus(a){this.isDisabled&&this.onFocus(a)}keyDownFocus(a){("Enter"===a.code||"Space"===a.code)&&(this.detailsElement&&this.onSelectMenuOpen(),this.read!==document.activeElement&&this.onFocus(a))}mouseDownFocusHeader(){this.detailsElement&&this.onSelectMenuOpen()}onChange(a){let b=a.target;"date"!==b.getAttribute("type")&&this.updateCell(this.read?.name,this.read?.value)}onFocus(a){a.preventDefault(),this.disabled=!1,this.read.disabled=!1,this.read.focus()}onSelectMenuOpen(){this.detailsElement&&(this.detailsElement.open=!0)}onBlur(a){if(this.hasExpanded){a.preventDefault();return}let b=a.target;"date"===b.getAttribute("type")&&this.updateCell(this.read?.name,this.read?.value),this.read.disabled=!0,this.disabled=!0}onKeyDown(a){("Enter"===a.code||"Tab"===a.code)&&(a.preventDefault(),a.stopPropagation(),!this.hasExpanded&&this.read.blur())}async updateCell(a="",b=""){let c=new FormData;for(let d of(c.set(a,b),c.set("ui",this.instrumentType),this.parameters))c.set(d.name,d.value);try{if(this.write){let e=this.read.value,f="date"===this.read.type&&e?this.format.format(Date.parse(e)):e;this.write.textContent=e?f:this.read.placeholder}let g=await fetch(this.updateUrl,{method:"PUT",body:c,headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest","Scoped-CSRF-Token":`${this.csrfToken}`}});if(!g.ok)throw Error("connection error");if(!this.write)return;let h=await g.json(),i=h.memexProjectItem.memexProjectColumnValues.find(a=>a.memexProjectColumnId===Number(this.columnId)),j=i.value,k=this.parseAndFormatUpdate(j);this.write.innerHTML=b?k:this.read.placeholder}catch(l){this.hasErrored=!0}}parseAndFormatUpdate(a){switch(this.read.type){case"date":{let b=a.value?Date.parse(a.value):void 0;return b?this.format.format(b):""}case"number":return null==a.value?"":a.value;default:return a.html??""}}constructor(...a){super(...a),this.format=Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric",timeZone:"UTC"}),this.updateUrl="",this.csrfToken="",this.instrumentType="",this.columnId=1}}).attrPrefix="",j);gr([fC.Lj],gs.prototype,"updateUrl",void 0),gr([fC.Lj],gs.prototype,"csrfToken",void 0),gr([fC.Lj],gs.prototype,"instrumentType",void 0),gr([fC.Lj],gs.prototype,"columnId",void 0),gr([fC.GO],gs.prototype,"inputs",void 0),gr([fC.fA],gs.prototype,"read",void 0),gr([fC.fA],gs.prototype,"write",void 0),gr([fC.GO],gs.prototype,"parameters",void 0),gs=gr([fC.Ih],gs);var gt=c(98973);function gu(a,b=!1){(b||!gE(a))&&(a instanceof HTMLFormElement?(0,y.Bt)(a):gC(a))}function gv(a){let b=a.currentTarget,c=b.closest(".js-issue-sidebar-form")||b.querySelector(".js-issue-sidebar-form");gu(c)}function gw(a){let b=document.querySelector(`[data-menu-trigger="${a}"]`);b?.focus()}(0,l.on)("details-menu-selected",".js-discussion-sidebar-menu",function(a){let b=a.detail.relatedTarget,c=a.currentTarget,d=b.closest(".js-issue-sidebar-form"),e=c.hasAttribute("data-multiple");if(b.hasAttribute("data-clear-assignees")){let f=c.querySelectorAll('input[name="issue[user_assignee_ids][]"]:checked');for(let g of f)g.disabled=!1,g.checked=!1;gu(d)}else e?c.closest("details").addEventListener("toggle",gv,{once:!0}):gu(d)},{capture:!0}),(0,m.AC)(".js-issue-sidebar-form",async function(a,b){let c=await b.html(),d=a.closest(".js-discussion-sidebar-item"),e=d?.querySelector(".select-menu")?.getAttribute("id");d.replaceWith(c.html),e&&gw(e)}),(0,l.on)("click","div.js-issue-sidebar-form .js-suggested-reviewer",function(a){let b=a.currentTarget,c=b.closest(".js-issue-sidebar-form");gC(c,"post",{name:b.name,value:b.value}),a.preventDefault()}),(0,l.on)("click","div.js-issue-sidebar-form .js-issue-assign-self",function(a){let b=a.currentTarget,c=b.closest(".js-issue-sidebar-form");gC(c,"post",{name:b.name,value:b.value}),b.remove(),document.querySelector("form#new_issue .js-submit-button-value")?.remove(),a.preventDefault()}),(0,l.on)("click",".js-issue-unassign-self",function(a){let b=a.currentTarget.closest(".js-issue-sidebar-form");gC(b,"delete"),a.preventDefault()});let gx=new Set;function gy(){gx.clear()}async function gz(a,b){let c=a.getAttribute("data-cache-name"),d=sessionStorage.getItem(b);if(!c||!d||gx.has(c))return;gx.add(c);let e=JSON.parse(d),f=[];for(let[g,h]of e){if("[object String]"!==Object.prototype.toString.call(h))continue;let i=document.createElement("input");i.type="hidden",i.value=h,i.name=g,a.appendChild(i),f.push(i)}try{for(let j of(await gD(a),f))j.remove()}catch(k){gx.delete(c)}}let gA=!1;function gB(a,b){if(gA)return;let c=gH(a);!function(a,b,c){let d=a.getAttribute("data-cache-name");if(!d)return;let e=[];for(let[f,g]of b.entries())-1!==f.indexOf(d)&&e.push([f,g]);let h=e.filter(a=>""!==a[1]);h.length>0?sessionStorage.setItem(c,JSON.stringify(h)):sessionStorage.removeItem(c)}(a,c,b),gy()}async function gC(a,b="post",c){await gD(a,b,c);let d=a.closest(".js-discussion-sidebar-item"),e=d?.querySelector(".select-menu")?.getAttribute("id");e&&gw(e)}async function gD(a,b="post",c){let d=gH(a);c&&d.append(c.name,c.value);let e=a.getAttribute("data-url");if(!e)return;let f=a.querySelector(".js-data-url-csrf"),g=await fetch(e,{method:b,body:"delete"===b?"":d,mode:"same-origin",headers:{"Scoped-CSRF-Token":f.value,"X-Requested-With":"XMLHttpRequest"}});if(!g.ok)return;let h=await g.text();!function(a,b){a.replaceWith((0,z.r)(document,b))}(a.closest(".js-discussion-sidebar-item"),h)}function gE(a){let b=a.getAttribute("data-reviewers-team-size-check-url");if(!b)return!1;let c=[...document.querySelectorAll(".js-reviewer-team")].map(a=>a.getAttribute("data-id")),d=a instanceof HTMLFormElement?new FormData(a):gH(a),e=new URLSearchParams(d).getAll("reviewer_team_ids[]"),f=e.filter(a=>!c.includes(a));if(0===f.length)return!1;let g=new URLSearchParams(f.map(a=>["reviewer_team_ids[]",a]));return gF(a,`${b}?${g}`),!0}async function gF(a,b){let c=await fetch(b);if(!c.ok)return;let d=await c.text();if(d.match(/[^\w-]js-large-team[^\w-]/))gG(a,d);else{gu(a,!0);return}}function gG(a,b){let c=a.querySelector(".js-large-teams-check-warning-container");for(;c.firstChild;)c.removeChild(c.firstChild);c.appendChild((0,z.r)(document,b));let d=c.querySelector("details");function e(b){if(b.target instanceof Element){if(d.open=!1,!b.target.classList.contains("js-large-teams-confirm-button")){let e=a.querySelectorAll("input[name='reviewer_team_ids[]']");for(let f of e)c.querySelector(`.js-large-team[data-id='${f.value}']`)&&(f.checked=!1)}gu(a,!0),b.preventDefault()}}c.querySelector(".js-large-teams-confirm-button").addEventListener("click",e,{once:!0}),c.querySelector(".js-large-teams-cancel-button").addEventListener("click",e,{once:!0}),d.addEventListener("details-dialog-close",e,{once:!0}),d.open=!0}function gH(a){let b=a.closest("form");if(!b)return new FormData;let c=new FormData(b),d=c.entries(),e=new FormData;for(let[f,g]of d)b.contains(gI(b,f,g.toString()))&&e.append(f,g);return e}function gI(a,b,c){for(let d of a.elements)if((d instanceof HTMLInputElement||d instanceof HTMLTextAreaElement||d instanceof HTMLButtonElement)&&d.name===b&&d.value===c)return d;return null}(0,p.N7)("[data-cacher]",{add(a){let b=function(a,b){let c=a.getAttribute("data-cache-name");return`${b}:sidebar:${c}`}(a,(0,gt.e)());gz(a,b),window.addEventListener("pagehide",()=>gB(a,b)),window.addEventListener("turbo:before-visit",()=>gB(a,b)),window.addEventListener("submit",a=>{a.defaultPrevented||(gA=!0,setTimeout(()=>{for(let a of Object.keys(sessionStorage))-1!==a.indexOf(b)&&(sessionStorage.removeItem(a),gy())},0))},{capture:!0})}}),(0,l.on)("click","div.js-project-column-menu-container .js-project-column-menu-item button",async function(a){let b=a.currentTarget;(function a(b){let c=b.closest(".js-project-column-menu-dropdown"),d=c.querySelector(".js-project-column-menu-summary"),e=b.getAttribute("data-column-name");d.textContent=e})(b);let c=b.getAttribute("data-url"),d=b.parentElement.querySelector(".js-data-url-csrf"),e=b.getAttribute("data-card-id"),f=new FormData;f.append("card_id",e),f.append("use_automation_prioritization","true"),a.preventDefault();let g=await fetch(c,{method:"PUT",mode:"same-origin",body:f,headers:{"Scoped-CSRF-Token":d.value,"X-Requested-With":"XMLHttpRequest"}});if(!g.ok)return;let h=document.activeElement,i=b.closest(".js-project-column-menu-dropdown");if(h&&i.contains(h))try{h.blur()}catch(j){}}),(0,l.on)("click",".js-prompt-dismiss",function(a){a.currentTarget.closest(".js-prompt").remove()}),(0,l.on)("click",".js-convert-to-draft",function(a){let b=a.currentTarget.getAttribute("data-url"),c=a.currentTarget.parentElement.querySelector(".js-data-url-csrf");fetch(b,{method:"POST",mode:"same-origin",headers:{"Scoped-CSRF-Token":c.value,"X-Requested-With":"XMLHttpRequest"}})}),(0,l.on)("click","div.js-restore-item",async function(a){let b=a.currentTarget.getAttribute("data-url"),c=a.currentTarget.getAttribute("data-column"),d=a.currentTarget.querySelector(".js-data-url-csrf"),e=new FormData;e.set("memexProjectItemIds[]",c);let f=await fetch(b,{method:"PUT",mode:"same-origin",body:e,headers:{"Scoped-CSRF-Token":d.value,"X-Requested-With":"XMLHttpRequest"}});if(!f.ok)throw Error("connection error");gv(a)}),(0,p.N7)("#clear-project-search-button",a=>{a?.setAttribute("type","button"),a?.addEventListener("click",()=>{let a=document.getElementById("project-search-input");a&&(a.value="",a.focus())})});let gJ=Object.freeze({INITIAL:"soft-nav:external:initial",START:"soft-nav:external:start",SUCCESS:"soft-nav:external:success",ERROR:"soft-nav:external:error",RENDER:"soft-nav:external:render"});document.addEventListener(gJ.INITIAL,bi.Yl),document.addEventListener(gJ.START,a=>{(0,bi.LD)(a.detail.mechanism)}),document.addEventListener(gJ.SUCCESS,()=>(0,bi.BT)()),document.addEventListener(gJ.ERROR,()=>(0,bi.r_)()),document.addEventListener(gJ.RENDER,()=>(0,bi.TL)()),document.addEventListener(bi.QE.SUCCESS,function(a){"turbo"===a.mechanism&&(0,s.x)(`${document.title}`)})},47442(a,b,c){"use strict";c.d(b,{s:()=>BaseBatchDeferredContentElement});var d=c(76006),e=c(75662);let f=class AutoFlushingQueue{push(a){let b=`item-${this.index++}`;return this.timer&&(window.clearTimeout(this.timer),this.timer=null),this.elements.length>=this.limit&&this.flush(),this.timer=window.setTimeout(()=>{this.timer=null,this.flush()},this.timeout),this.elements.push([a,b]),b}onFlush(a){this.callbacks.push(a)}async flush(){let a=this.elements.splice(0,this.limit);0!==a.length&&await Promise.all(this.callbacks.map(b=>b(a)))}constructor(a=50,b=30){this.elements=[],this.timer=null,this.callbacks=[],this.timeout=a,this.limit=b,this.index=0}};class BatchLoader{loadInBatch(a){let b=this.autoFlushingQueue.push(a);return new Promise(a=>this.callbacks.set(b,a))}async load(a){let b=new Map;for(let[c,d]of a)b.set(d,c);let e=new FormData;for(let[f,g]of b.entries())for(let h of g.inputs)e.append(`items[${f}][${h.name}]`,h.value);if(0===Array.from(e.values()).length)return;e.set("_method","GET");let i=await fetch(this.url,{method:"POST",body:e,headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(i.ok){let j=await i.json();if(!j||"object"!=typeof j||Array.isArray(j))throw Error("Malformed batch response");for(let k in j){let l=this.callbacks.get(k);if(l){let m=j[k];this.validate(m),l(m)}}}}constructor(a,b){this.url=a,this.callbacks=new Map,this.autoFlushingQueue=new f,this.autoFlushingQueue.onFlush(async a=>{this.load(a)}),this.validate=b}}var g=function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g};class BaseBatchDeferredContentElement extends HTMLElement{async connectedCallback(){let a=await this.batchLoader.loadInBatch(this);this.update(a)}get batchLoader(){let a=this.getAttribute("data-url");if(!a)throw Error(`${this.tagName} element requires a data-url attribute`);let b=this.batchLoaders.get(a);return b||(b=new BatchLoader(a,a=>this.validate(a)),this.batchLoaders.set(a,b)),b}}let h=new Map,i=class BatchDeferredContentElement extends BaseBatchDeferredContentElement{validate(a){if("string"!=typeof a)throw Error("Batch deferred content was not a string")}update(a){let b=(0,e.r)(document,a);this.replaceWith(b)}constructor(...a){super(...a),this.batchLoaders=h}};g([d.GO],i.prototype,"inputs",void 0),i=g([d.Ih],i)},90596(){let a,b=!1;function c(){a=document.activeElement,document.body&&document.body.classList.toggle("intent-mouse",b)}document.addEventListener("mousedown",function(){b=!0,a===document.activeElement&&c()},{capture:!0}),document.addEventListener("keydown",function(){b=!1},{capture:!0}),document.addEventListener("focusin",c,{capture:!0})},78332(a,b,c){"use strict";c.d(b,{OD:()=>h,Qc:()=>i,nz:()=>g});var d=c(93928),e=c(254);function f(a){return a.hasAttribute("data-maxlength")?parseInt(a.getAttribute("data-maxlength")||""):a.maxLength}function g(a){let b=f(a),c=(0,d.rq)(a.value);return b-c<0}function h(a){let b=f(a);!function(a,b,c){let e=c.closest(".js-characters-remaining-container");if(!e)return;let f=e.querySelector(".js-characters-remaining"),g=String(f.getAttribute("data-suffix")),h=(0,d.rq)(a),i=b-h;i<=20?(f.textContent=`${i} ${g}`,f.classList.toggle("color-fg-danger",i<=5),f.setAttribute("role","status"),f.hidden=!1):(f.setAttribute("role","none"),f.hidden=!0)}(a.value,b,a)}function i(a){let b=a.querySelectorAll(".js-characters-remaining-container");for(let c of b){let d=c.querySelector(".js-characters-remaining-field");h(d)}}(0,e.ZG)(".js-characters-remaining-field",function(a){function b(){(a instanceof HTMLInputElement||a instanceof HTMLTextAreaElement)&&h(a)}b(),a.addEventListener("input",b),a.addEventListener("blur",()=>{a.removeEventListener("input",b)},{once:!0})})},26361(){document.addEventListener("click",function(a){if(!(a.target instanceof Element))return;let b="a[data-confirm], input[type=submit][data-confirm], input[type=checkbox][data-confirm], button[data-confirm]",c=a.target.closest(b);if(!c)return;let d=c.getAttribute("data-confirm");if(d){if(c instanceof HTMLInputElement&&c.hasAttribute("data-confirm-checked")&&!c.checked)return;confirm(d)||(a.stopImmediatePropagation(),a.preventDefault())}},!0)},92792(a,b,c){"use strict";c.d(b,{r:()=>l});var d=c(76932),e=c(81574),f=c(52191),g=c(36071),h=c(59753);let i=null;function j({currentTarget:a}){let b=a;if(b.hasAttribute("open")){let c=b.querySelector("[autofocus]");c&&c.focus()}else{let d=b.querySelector("summary");d&&d.focus()}}function k({currentTarget:a}){let b=a;b.hasAttribute("open")?(i&&i!==b&&i.removeAttribute("open"),i=b):b===i&&(i=null)}function l(a){a.hasAttribute("open")?a.removeAttribute("open"):a.setAttribute("open","open")}document.addEventListener("keydown",function(a){!a.defaultPrevented&&"Escape"===a.key&&i&&i.removeAttribute("open")}),(0,g.N7)(".js-dropdown-details",{subscribe:a=>(0,d.qC)((0,d.RB)(a,"toggle",k),(0,d.RB)(a,"toggle",j))}),(0,g.N7)("[data-deferred-details-content-url]:not([data-details-no-preload-on-hover])",{subscribe(a){let b=a.querySelector("summary");return(0,d.RB)(b,"mouseenter",f.G)}}),(0,g.N7)("[data-deferred-details-content-url]",{subscribe:a=>(0,d.RB)(a,"toggle",f.G)}),(0,h.on)("click","[data-toggle-for]",function(a){let b=a.currentTarget.getAttribute("data-toggle-for")||"",c=document.getElementById(b);c&&l(c)}),(0,e.Z)(function({target:a}){if(!a||a.closest("summary"))return;let b=a.parentElement;for(;b;)(b=b.closest("details"))&&(b.hasAttribute("open")||b.setAttribute("open",""),b=b.parentElement)}),(0,h.on)("details-dialog-close","[data-disable-dialog-dismiss]",function(a){a.preventDefault()})},74721(a,b,c){"use strict";c.d(b,{D:()=>e});var d=c(59753);function e(a){return Array.from(a.types).indexOf("Files")>=0}(0,c(36071).N7)(".js-document-dropzone",{constructor:HTMLElement,add(a){document.body.addEventListener("dragstart",k),document.body.addEventListener("dragend",l),document.body.addEventListener("dragenter",g),document.body.addEventListener("dragover",g),document.body.addEventListener("dragleave",h),a.addEventListener("drop",i)},remove(a){document.body.removeEventListener("dragstart",k),document.body.removeEventListener("dragend",l),document.body.removeEventListener("dragenter",g),document.body.removeEventListener("dragover",g),document.body.removeEventListener("dragleave",h),a.removeEventListener("drop",i)}});let f=null;function g(a){if(j)return;let b=a.currentTarget;f&&window.clearTimeout(f),f=window.setTimeout(()=>b.classList.remove("dragover"),200);let c=a.dataTransfer;c&&e(c)&&(c.dropEffect="copy",b.classList.add("dragover"),a.stopPropagation(),a.preventDefault())}function h(a){if(a.target instanceof Element&&a.target.classList.contains("js-document-dropzone")){let b=a.currentTarget;b.classList.remove("dragover")}}function i(a){let b=a.currentTarget;b.classList.remove("dragover"),document.body.classList.remove("dragover");let c=a.dataTransfer;c&&e(c)&&((0,d.f)(b,"document:drop",{transfer:c}),a.stopPropagation(),a.preventDefault())}let j=!1;function k(){j=!0}function l(){j=!1}},52191(a,b,c){"use strict";c.d(b,{"$":()=>k,G:()=>j});var d=c(76932),e=c(36071),f=c(59753);function g(a,b){let c=a.currentTarget;if(c instanceof Element){for(let d of c.querySelectorAll("[data-show-on-error]"))d instanceof HTMLElement&&(d.hidden=!b);for(let e of c.querySelectorAll("[data-hide-on-error]"))e instanceof HTMLElement&&(e.hidden=b)}}function h(a){g(a,!1)}function i(a){g(a,!0)}function j({currentTarget:a}){a instanceof Element&&k(a)}function k(a){let b=a.closest("details");b&&l(b)}function l(a){let b=a.getAttribute("data-deferred-details-content-url");if(b){a.removeAttribute("data-deferred-details-content-url");let c=a.querySelector("include-fragment, poll-include-fragment");c&&(c.src=b)}}(0,e.N7)("include-fragment, poll-include-fragment",{subscribe:a=>(0,d.qC)((0,d.RB)(a,"error",i),(0,d.RB)(a,"loadstart",h))}),(0,f.on)("click","include-fragment button[data-retry-button]",({currentTarget:a})=>{let b=a.closest("include-fragment");b.refetch()})},55240(a,b,c){"use strict";c.d(b,{k:()=>h});var d=c(76932),e=c(80721),f=c(36071),g=c(98105);async function h(a){await e.C,j(a)}function i(a,b){a.style.visibility=b?"hidden":"";let c=a.getAttribute("data-tab-item");if(c){let d=document.querySelector(`[data-menu-item=${c}]`);d instanceof HTMLElement&&(d.hidden=!b)}}function j(a){let b=a.querySelectorAll(".js-responsive-underlinenav-item"),c=a.querySelector(".js-responsive-underlinenav-overflow"),d=(0,g.oE)(c,a);if(!d)return;let e=!1;for(let f of b){let h=(0,g.oE)(f,a);if(h){let j=h.left+f.offsetWidth>=d.left;i(f,j),e=e||j}}c.style.visibility=e?"":"hidden"}(0,f.N7)(".js-responsive-underlinenav",{constructor:HTMLElement,subscribe:a=>(h(a),(0,d.RB)(window,"resize",()=>j(a)))})},79422(a,b,c){"use strict";c.d(b,{m:()=>j});var d=c(407),e=c(46263),f=c(98973),g=c(36071),h=c(86702);let i=(0,h.Z)("localStorage",{ttl:3e5,throwQuotaErrorsOnSet:!1,sendCacheStats:!0}),j=()=>{(0,d.e6)((0,f.e)()),(0,d.e6)((0,f.e)(),{storage:i})},k=()=>{(0,d.Xm)((0,f.e)(),{selector:".js-session-resumable"}),(0,d.Xm)((0,f.e)(),{selector:".js-local-storage-resumable",storage:i})},l=(0,e.D)(function(){j()},50);window.addEventListener("submit",d.iO,{capture:!0}),window.addEventListener("pageshow",function(){j()}),(0,g.N7)(".js-session-resumable",function(){document.querySelector("html")?.hasAttribute("data-turbo-preview")||l()}),window.addEventListener("pagehide",function(){k()}),window.addEventListener("turbo:before-fetch-response",function(){k()}),window.addEventListener("turbo:load",function(){j()})},82565(){function a(a){let b=a&&a.getAttribute("value");if(b)for(let c of document.querySelectorAll(".js-sidenav-container-pjax .js-selected-navigation-item")){let d=(c.getAttribute("data-selected-links")||"").split(" ").indexOf(b)>=0;d?c.setAttribute("aria-current","page"):c.removeAttribute("aria-current"),c.classList.toggle("selected",d)}}let b=new MutationObserver(b=>{for(let c of b)for(let d of c.addedNodes)d instanceof HTMLMetaElement&&"selected-link"===d.getAttribute("name")&&a(d)});b.observe(document.head,{childList:!0}),document.addEventListener("turbo:load",()=>{let b=document.head.querySelector('meta[name="selected-link"]');b&&a(b)})},36543(a,b,c){"use strict";var d=c(11793),e=c(59753),f=c(36071);let g=class TagInput{setup(){this.container.addEventListener("click",a=>{let b=a.target;b.closest(".js-remove")?this.removeTag(a):this.onFocus()}),this.input.addEventListener("focus",this.onFocus.bind(this)),this.input.addEventListener("blur",this.onBlur.bind(this)),this.input.addEventListener("keydown",this.onKeyDown.bind(this)),this.form.addEventListener("submit",this.onSubmit.bind(this)),this.autoComplete.addEventListener("auto-complete-change",()=>{this.selectTag(this.autoComplete.value)})}onFocus(){this.inputWrap.classList.add("focus"),this.input!==document.activeElement&&this.input.focus()}onBlur(){this.inputWrap.classList.remove("focus"),this.autoComplete.open||this.onSubmit()}onSubmit(){this.input.value&&(this.selectTag(this.input.value),this.autoComplete.open=!1)}onKeyDown(a){switch((0,d.EL)(a)){case"Backspace":this.onBackspace();break;case"Enter":case"Tab":this.taggifyValueWhenSuggesterHidden(a);break;case",":case" ":this.taggifyValue(a)}}taggifyValueWhenSuggesterHidden(a){!this.autoComplete.open&&this.input.value&&(a.preventDefault(),this.selectTag(this.input.value))}taggifyValue(a){this.input.value&&(a.preventDefault(),this.selectTag(this.input.value),this.autoComplete.open=!1)}selectTag(a){let b=this.normalizeTag(a),c=this.selectedTags(),d=!1;for(let f=0;f<b.length;f++){let g=b[f];0>c.indexOf(g)&&(this.selections.appendChild(this.templateTag(g)),d=!0)}d&&(this.input.value="",(0,e.f)(this.form,"tags:changed"))}removeTag(a){let b=a.target;a.preventDefault();let c=b.closest(".js-tag-input-tag");c.remove(),(0,e.f)(this.form,"tags:changed")}templateTag(a){let b=this.tagTemplate.cloneNode(!0);b.querySelector("input").value=a;let c=b.querySelector(".js-placeholder-tag-name");return c.replaceWith(a),b.classList.remove("d-none","js-template"),b}normalizeTag(a){let b=a.toLowerCase().trim();return b?this.multiTagInput?b.split(/[\s,']+/):[b.replace(/[\s,']+/g,"-")]:[]}onBackspace(){if(!this.input.value){let a=this.selections.querySelector("li:last-child .js-remove");a instanceof HTMLElement&&a.click()}}selectedTags(){let a=this.selections.querySelectorAll("input");return Array.from(a).map(a=>a.value).filter(a=>a.length>0)}constructor(a){this.container=a.container,this.selections=a.selections,this.inputWrap=a.inputWrap,this.input=a.input,this.tagTemplate=a.tagTemplate,this.form=this.input.form,this.autoComplete=a.autoComplete,this.multiTagInput=a.multiTagInput}};(0,f.N7)(".js-tag-input-container",{constructor:HTMLElement,initialize(a){new g({container:a,inputWrap:a.querySelector(".js-tag-input-wrapper"),input:a.querySelector('input[type="text"], input:not([type])'),selections:a.querySelector(".js-tag-input-selected-tags"),tagTemplate:a.querySelector(".js-template"),autoComplete:a.querySelector("auto-complete"),multiTagInput:!1}).setup()}}),(0,f.N7)(".js-multi-tag-input-container",{constructor:HTMLElement,initialize(a){new g({container:a,inputWrap:a.querySelector(".js-tag-input-wrapper"),input:a.querySelector('input[type="text"], input:not([type])'),selections:a.querySelector(".js-tag-input-selected-tags"),tagTemplate:a.querySelector(".js-template"),autoComplete:a.querySelector("auto-complete"),multiTagInput:!0}).setup()}})},19052(){!function(){let a=document.createElement("div");return a.style.cssText="-ms-user-select: element; user-select: contain;","element"===a.style.getPropertyValue("-ms-user-select")||"contain"===a.style.getPropertyValue("-ms-user-select")||"contain"===a.style.getPropertyValue("user-select")}()&&document.addEventListener("click",function(a){if(!(a.target instanceof Element))return;let b=a.target.closest(".user-select-contain");if(!b)return;let c=window.getSelection();if(!c||!c.rangeCount||!c.rangeCount||"Range"!==c.type)return;let d=c.getRangeAt(0).commonAncestorContainer;b.contains(d)||c.selectAllChildren(b)})},76237(a,b,c){"use strict";c.d(b,{Fg:()=>l,I3:()=>g,h5:()=>i,on:()=>j,yn:()=>k});var d=c(80721),e=c(67404);function f(){(0,e.d8)("preferred_color_mode",g())}function g(){return h("dark")?"dark":h("light")?"light":void 0}function h(a){return window.matchMedia&&window.matchMedia(`(prefers-color-scheme: ${a})`).matches}function i(a){let b=document.querySelector("html[data-color-mode]");b&&b.setAttribute("data-color-mode",a)}function j(a,b){let c=document.querySelector("html[data-color-mode]");c&&c.setAttribute(`data-${b}-theme`,a)}function k(a){let b=document.querySelector("html[data-color-mode]");if(b)return b.getAttribute(`data-${a}-theme`)}function l(a="light"){let b=function(){let a=document.querySelector("html[data-color-mode]");if(a)return a.getAttribute("data-color-mode")}();return("auto"===b?g():b)??a}(async()=>{if(await d.x,f(),window.matchMedia){let a=window.matchMedia("(prefers-color-scheme: dark)");a?.addEventListener?a.addEventListener("change",f):a.addListener(f)}})()},97895(a,b,c){"use strict";c.d(b,{Z:()=>l});var d=c(47142);let e=(a,b,c)=>{if(!(0,d.CD)(a,b))return-1/0;let e=(0,d.Gs)(a,b);return e<c?-1/0:e},f=(a,b,c)=>{a.textContent="";let e=0;for(let f of(0,d.m7)(b,c)){let g=c.slice(e,f);""!==g&&a.appendChild(document.createTextNode(c.slice(e,f))),e=f+1;let h=document.createElement("mark");h.textContent=c[f],a.appendChild(h)}a.appendChild(document.createTextNode(c.slice(e)))},g=new WeakMap,h=new WeakMap,i=new WeakMap,j=a=>{if(!i.has(a)&&a instanceof HTMLElement){let b=(a.getAttribute("data-value")||a.textContent||"").trim();return i.set(a,b),b}return i.get(a)||""},k=class FuzzyListElement extends HTMLElement{connectedCallback(){let a=this.querySelector("ul");if(!a)return;let b=new Set(a.querySelectorAll("li")),c=this.querySelector("input");c instanceof HTMLInputElement&&c.addEventListener("input",()=>{this.value=c.value});let e=new MutationObserver(a=>{let c=!1;for(let e of a)if("childList"===e.type&&e.addedNodes.length){for(let f of e.addedNodes)if(f instanceof HTMLLIElement&&!b.has(f)){let g=j(f);c=c||(0,d.CD)(this.value,g),b.add(f)}}c&&this.sort()});e.observe(a,{childList:!0});let f={handler:e,items:b,lazyItems:new Map,timer:null};h.set(this,f)}disconnectedCallback(){let a=h.get(this);a&&(a.handler.disconnect(),h.delete(this))}addLazyItems(a,b){let c=h.get(this);if(!c)return;let{lazyItems:e}=c,{value:f}=this,g=!1;for(let i of a)e.set(i,b),g=g||Boolean(f)&&(0,d.CD)(f,i);g&&this.sort()}sort(){let a=g.get(this);a&&(a.aborted=!0);let b={aborted:!1};g.set(this,b);let{minScore:c,markSelector:d,maxMatches:k,value:l}=this,m=h.get(this);if(!m||!this.dispatchEvent(new CustomEvent("fuzzy-list-will-sort",{cancelable:!0,detail:l})))return;let{items:n,lazyItems:o}=m,p=this.hasAttribute("mark-selector"),q=this.querySelector("ul");if(!q)return;let r=[];if(l){for(let s of n){let t=j(s),u=e(l,t,c);u!== -1/0&&r.push({item:s,score:u})}for(let[v,w]of o){let x=e(l,v,c);x!== -1/0&&r.push({text:v,render:w,score:x})}r.sort((a,b)=>b.score-a.score).splice(k)}else{let y=r.length;for(let z of n){if(y>=k)break;r.push({item:z,score:1}),y+=1}for(let[A,B]of o){if(y>=k)break;r.push({text:A,render:B,score:1}),y+=1}}requestAnimationFrame(()=>{if(b.aborted)return;let a=q.querySelector('input[type="radio"]:checked');q.textContent="";let c=0,e=()=>{if(b.aborted)return;let g=Math.min(r.length,c+100),h=document.createDocumentFragment();for(let k=c;k<g;k+=1){let m=r[k],s=null;if("render"in m&&"text"in m){let{render:t,text:u}=m;s=t(u),n.add(s),i.set(s,u),o.delete(u)}else"item"in m&&(s=m.item);s instanceof HTMLElement&&(p&&f(d&&s.querySelector(d)||s,p?l:"",j(s)),h.appendChild(s))}c=g;let v=!1;if(a instanceof HTMLInputElement)for(let w of h.querySelectorAll('input[type="radio"]:checked'))w instanceof HTMLInputElement&&w.value!==a.value&&(w.checked=!1,v=!0);if(q.appendChild(h),a&&v&&a.dispatchEvent(new Event("change",{bubbles:!0})),g<r.length)requestAnimationFrame(e);else{q.hidden=0===r.length;let x=this.querySelector("[data-fuzzy-list-show-on-empty]");x&&(x.hidden=r.length>0),this.dispatchEvent(new CustomEvent("fuzzy-list-sorted",{detail:r.length}))}};e()})}get value(){return this.getAttribute("value")||""}set value(a){this.setAttribute("value",a)}get markSelector(){return this.getAttribute("mark-selector")||""}set markSelector(a){a?this.setAttribute("mark-selector",a):this.removeAttribute("mark-selector")}get minScore(){return Number(this.getAttribute("min-score")||0)}set minScore(a){Number.isNaN(a)||this.setAttribute("min-score",String(a))}get maxMatches(){return Number(this.getAttribute("max-matches")||1/0)}set maxMatches(a){Number.isNaN(a)||this.setAttribute("max-matches",String(a))}static get observedAttributes(){return["value","mark-selector","min-score","max-matches"]}attributeChangedCallback(a,b,c){if(b===c)return;let d=h.get(this);d&&(d.timer&&window.clearTimeout(d.timer),d.timer=window.setTimeout(()=>this.sort(),100))}},l=k;window.customElements.get("fuzzy-list")||(window.FuzzyListElement=k,window.customElements.define("fuzzy-list",k))},29764(a,b,c){"use strict";c.d(b,{"$S":()=>e,Fk:()=>f,sz:()=>g});var d=c(60958);function e(a,b,c){let e={hydroEventPayload:a,hydroEventHmac:b,visitorPayload:"",visitorHmac:"",hydroClientContext:c},f=document.querySelector("meta[name=visitor-payload]");f instanceof HTMLMetaElement&&(e.visitorPayload=f.content);let g=document.querySelector("meta[name=visitor-hmac]")||"";g instanceof HTMLMetaElement&&(e.visitorHmac=g.content),(0,d.b)(e,!0)}function f(a){let b=a.getAttribute("data-hydro-view")||"",c=a.getAttribute("data-hydro-view-hmac")||"",d=a.getAttribute("data-hydro-client-context")||"";e(b,c,d)}function g(a){let b=a.getAttribute("data-hydro-click-payload")||"",c=a.getAttribute("data-hydro-click-hmac")||"",d=a.getAttribute("data-hydro-client-context")||"";e(b,c,d)}},30907(a,b,c){"use strict";c.d(b,{Z:()=>d});let d=(a,b)=>{let c=new URL(a,window.location.origin),d=new URL(b,window.location.origin),e=d.href.includes("#");return e&&c.host===d.host&&c.pathname===d.pathname&&c.search===d.search}},3626(a,b,c){"use strict";c.d(b,{vt:()=>q,WF:()=>p,DV:()=>o,jW:()=>u,Nc:()=>l,"$t":()=>e});let d={frequency:.6,recency:.4};function e(a){let b=g(a),c=h(a);return function(a){return f(b.get(a)||0,c.get(a)||0)}}function f(a,b){return a*d.frequency+b*d.recency}function g(a){let b=[...Object.values(a)].reduce((a,b)=>a+b.visitCount,0);return new Map(Object.keys(a).map(c=>[c,a[c].visitCount/b]))}function h(a){let b=function(a,b){return a.sort((a,c)=>b(a)-b(c))}([...Object.keys(a)],b=>a[b].lastVisitedAt),c=b.length;return new Map(b.map((a,b)=>[a,(b+1)/c]))}let i=/^\/orgs\/([a-z0-9-]+)\/teams\/([\w-]+)/,j=[/^\/([^/]+)\/([^/]+)\/?$/,/^\/([^/]+)\/([^/]+)\/blob/,/^\/([^/]+)\/([^/]+)\/tree/,/^\/([^/]+)\/([^/]+)\/issues/,/^\/([^/]+)\/([^/]+)\/pulls?/,/^\/([^/]+)\/([^/]+)\/pulse/,],k=[["organization",/^\/orgs\/([a-z0-9-]+)\/projects\/([0-9-]+)/],["repository",/^\/([^/]+)\/([^/]+)\/projects\/([0-9-]+)/],];function l(a){let b=a.match(i);if(b){m(o(b[1],b[2]));return}let c;for(let d=0,e=k.length;d<e;d++){let[f,g]=k[d];if(c=a.match(g)){let h=null,l=null;switch(f){case"organization":h=c[1],l=c[2];break;case"repository":h=`${c[1]}/${c[2]}`,l=c[3]}h&&l&&m(q(h,l));return}}let n;for(let r=0,s=j.length;r<s;r++)if(n=a.match(j[r])){m(p(n[1],n[2]));return}}function m(a){let b=u(),c=n(),d=b[a]||{lastVisitedAt:c,visitCount:0};d.visitCount+=1,d.lastVisitedAt=c,b[a]=d,t(function(a){let b=Object.keys(a);if(b.length<=100)return a;let c=e(a),d=b.sort((a,b)=>c(b)-c(a)).slice(0,50);return Object.fromEntries(d.map(b=>[b,a[b]]))}(b))}function n(){return Math.floor(Date.now()/1e3)}function o(a,b){return`team:${a}/${b}`}function p(a,b){return`repository:${a}/${b}`}function q(a,b){return`project:${a}/${b}`}let r=/^(team|repository|project):[^/]+\/[^/]+(\/([^/]+))?$/,s="jump_to:page_views";function t(a){v(s,JSON.stringify(a))}function u(){let a=w(s);if(!a)return{};let b;try{b=JSON.parse(a)}catch{return t({}),{}}let c={};for(let d in b)d.match(r)&&(c[d]=b[d]);return c}function v(a,b){try{window.localStorage.setItem(a,b)}catch{}}function w(a){try{return window.localStorage.getItem(a)}catch{return null}}},95005(a,b,c){"use strict";function d(a,b){let c=a.closest("[data-notification-id]");b.hasAttribute("data-status")&&e(c,b.getAttribute("data-status")),b.hasAttribute("data-subscription-status")&&f(c,b.getAttribute("data-subscription-status")),b.hasAttribute("data-starred-status")&&g(c,b.getAttribute("data-starred-status"))}function e(a,b){a.classList.toggle("notification-archived","archived"===b),a.classList.toggle("notification-unread","unread"===b),a.classList.toggle("notification-read","read"===b)}function f(a,b){a.classList.toggle("notification-unsubscribed","unsubscribed"===b)}function g(a,b){a.classList.toggle("notification-starred","starred"===b)}c.d(b,{a:()=>d})},11445(a,b,c){"use strict";function d(a,b){b.appendChild(a.extractContents()),a.insertNode(b)}c.d(b,{v:()=>d})},8704(a,b,c){"use strict";c.d(b,{A7:()=>d.A7,ko:()=>d.ko,q1:()=>d.q1});var d=c(53729)},98973(a,b,c){"use strict";function d(a){let b=a||window.location,c=document.head&&document.head.querySelector("meta[name=session-resume-id]"),d=c instanceof HTMLMetaElement&&c.content;return d||b.pathname}c.d(b,{e:()=>d})},96056(a,b,c){"use strict";c.d(b,{Hu:()=>l,"_8":()=>i,cj:()=>h});var d=c(69567),e=c(36071);let f="github-mobile-auth-flash";function g(){let a=document.querySelector("#js-flash-container");if(a)for(let b of a.children)!b.classList.contains("js-flash-template")&&b.classList.contains(f)&&a.removeChild(b)}function h(){let a=document.getElementById("github-mobile-authenticate-prompt");a&&(a.hidden=!0);let b=document.getElementById("github-mobile-authenticate-error-and-retry");b&&(b.hidden=!1)}function i(){g();let a=document.getElementById("github-mobile-authenticate-prompt");a&&(a.hidden=!1);let b=document.getElementById("github-mobile-authenticate-error-and-retry");b&&(b.hidden=!0)}function j(a){a&&function(a){let b=new d.R(document.querySelector("template.js-flash-template"),{className:`flash-error ${f}`,message:a}),c=document.importNode(b,!0),e=document.querySelector("#js-flash-container");e&&(g(),e.appendChild(c))}(a),h()}function k(a){return document.getElementById("github-mobile-authenticate-error-and-retry").getAttribute(a)}async function l(a,b,c,d){try{var e,f,g,h;await (e=a.getAttribute("data-poll-url"),f=b,g=c,h=d,async function a(b){if(h&&h())return;let c="STATUS_UNKNOWN",d;try{let i=document.getElementById("github-mobile-authenticate-form"),l=i.querySelector(".js-data-url-csrf"),m=await self.fetch(new Request(e,{method:"POST",body:new FormData(i),mode:"same-origin",headers:{Accept:"application/json","Scoped-CSRF-Token":l.value,"X-Requested-With":"XMLHttpRequest"}}));if(m.ok){let n=await m.json();c=n.status,d=n.token}else c="STATUS_ERROR"}catch{c="STATUS_ERROR"}let o;switch(c){case"STATUS_APPROVED":var p;let q;return f?f():void((q=(p=d)?new URL(`password_reset/${encodeURIComponent(p)}`,window.location.origin):new URL("",window.location.href)).searchParams.set("redirect","true"),window.location.assign(q));case"STATUS_EXPIRED":return o=k("timeout-flash"),g?g(o):j(o);case"STATUS_ACTIVE":case"STATUS_ERROR":case"STATUS_UNKNOWN":break;case"STATUS_REJECTED":return o=k("error-flash"),g?g(o):void document.getElementById("github-mobile-rejected-redirect").click();default:return o=k("error-flash"),g?g(o):j(o)}await new Promise(a=>setTimeout(a,3e3)),a(0)}(0))}catch(i){let l=k("error-flash");return j(l)}}(0,e.N7)(".js-poll-github-mobile-two-factor-authenticate",function(a){l(a)}),(0,e.N7)(".js-poll-github-mobile-verified-device-authenticate",function(a){l(a)}),(0,e.N7)(".js-poll-github-mobile-two-factor-password-reset-authenticate",function(a){l(a)})},98576(a,b,c){"use strict";c.d(b,{C:()=>h,v:()=>i});var d=c(36071),e=c(254),f=c(65935),g=c(54650);function h(){document.body.classList.add("is-sending"),document.body.classList.remove("is-sent","is-not-sent")}function i(){document.body.classList.add("is-sent"),document.body.classList.remove("is-sending")}(0,f.AC)(".js-send-auth-code",async(a,b)=>{h();let c;try{c=await b.text()}catch(d){var e;(e=d.response.text)&&(document.querySelector(".js-sms-error").textContent=e),document.body.classList.add("is-not-sent"),document.body.classList.remove("is-sending")}c&&i()}),(0,d.N7)(".js-two-factor-sms-fallback-button",function(a){a.addEventListener("toggle",function(a){let b=a.currentTarget;for(let c of b.querySelectorAll(".flash"))c instanceof HTMLElement&&(c.hidden=!0);b.querySelector(".js-configure-sms-fallback").hidden=!1,b.querySelector(".js-verify-sms-fallback").hidden=!0})}),(0,f.AC)(".js-two-factor-set-sms-fallback",async(a,b)=>{let c;try{c=await b.text()}catch(d){let e=a.querySelector(".js-configure-sms-fallback"),f=a.querySelector(".js-verify-sms-fallback"),g=e.hidden?f:e,h=g.querySelector(".flash");switch(d.response.status){case 422:case 429:h.textContent=JSON.parse(d.response.text).error,h.hidden=!1}}if(c)switch(c.status){case 200:case 201:window.location.reload();break;case 202:a.querySelector(".js-configure-sms-fallback").hidden=!0,a.querySelector(".js-verify-sms-fallback").hidden=!1,a.querySelector(".js-fallback-otp").focus()}}),(0,e.q6)(".js-verification-code-input-auto-submit",function(a){let b=a.currentTarget,c=b.pattern||"[0-9]{6}";RegExp(`^(${c})$`).test(b.value)&&(0,g.Bt)(b.form)})},86824(a,b,c){"use strict";c.r(b),c.d(b,{softNavigate:()=>f});var d=c(74395),e=c(31167);function f(a,b){(0,e.LD)("turbo"),(0,d.Vn)(a,{...b})}},94056(a,b,c){"use strict";c.d(b,{Z:()=>m});var d=c(19146),e=c(98249),f=c(65935),g=c(63047);let h=!1;async function i(){let a=document.querySelector("link[rel=sudo-modal]"),b=document.querySelector(".js-sudo-prompt");if(b instanceof HTMLTemplateElement)return b;if(a){let c=await (0,e.a)(document,function(a){let b=new URL(a,window.location.origin),c=new URLSearchParams(b.search.slice(1));return c.set("webauthn-support",(0,g.T)()),b.search=c.toString(),b.toString()}(a.href));return document.body.appendChild(c),document.querySelector(".js-sudo-prompt")}throw Error("couldn't load sudo prompt")}let j=!1;async function k(){if(h)return!1;h=!0,j=!1;let a=await i(),b=a.content.cloneNode(!0),c=await (0,d.W)({content:b});return await new Promise(a=>{c.addEventListener("dialog:remove",function(){h=!1,a()},{once:!0})}),j}async function l(a,b,c="Sudo authentication failed.",d="Too many authentication attemtps. Please try again later.",e=".js-sudo-error",f){try{await b.text()}catch(g){if(!g.response)throw g;let h;switch(g.response.status){case 401:h=c;break;case 429:h=d;break;default:h="An unknown error occurred. Please try again later."}if(a.querySelector(e).textContent=h,a.querySelector(e).hidden=!1,f&&(a.querySelector(f).value=""),401!==g.response.status&&429!==g.response.status)throw g;return}j=!0,a.closest("details").removeAttribute("open")}async function m(){let a=await fetch("/sessions/in_sudo",{headers:{accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(a.ok){let b=await a.text();if("true"===b)return!0}return k()}(0,f.AC)(".js-sudo-webauthn-form",async function(a,b){await l(a,b)}),(0,f.AC)(".js-sudo-github-mobile-form",async function(a,b){await l(a,b)}),(0,f.AC)(".js-sudo-totp-form",async function(a,b){await l(a,b,void 0,void 0,".flash-error","#totp")}),(0,f.AC)(".js-sudo-password-form",async function(a,b){await l(a,b,"Incorrect password.","Too many password attempts. Please wait and try again.",void 0,".js-sudo-password")})},68423(a,b,c){"use strict";c.d(b,{dY:()=>k,iU:()=>j,oq:()=>i});let d=new WeakMap;function e(a){let b=d.get(a);b&&(null!=b.timer&&clearTimeout(b.timer),b.timer=window.setTimeout(()=>{null!=b.timer&&(b.timer=null),b.inputed=!1,b.listener.call(null,a)},b.wait))}function f(a){let b=a.currentTarget,c=d.get(b);c&&(c.keypressed=!0,null!=c.timer&&clearTimeout(c.timer))}function g(a){let b=a.currentTarget,c=d.get(b);c&&(c.keypressed=!1,c.inputed&&e(b))}function h(a){let b=a.currentTarget,c=d.get(b);c&&(c.inputed=!0,c.keypressed||e(b))}function i(a,b,c={wait:null}){d.set(a,{keypressed:!1,inputed:!1,timer:void 0,listener:b,wait:null!=c.wait?c.wait:100}),a.addEventListener("keydown",f),a.addEventListener("keyup",g),a.addEventListener("input",h)}function j(a,b){a.removeEventListener("keydown",f),a.removeEventListener("keyup",g),a.removeEventListener("input",h);let c=d.get(a);c&&(null!=c.timer&&c.listener===b&&clearTimeout(c.timer),d.delete(a))}function k(a){let b=d.get(a);b&&b.listener.call(null,a)}},97629(a,b,c){"use strict";function d(a){var b;return!((b=a).offsetWidth<=0)||!(b.offsetHeight<=0)}c.d(b,{Z:()=>d})},63047(a,b,c){"use strict";c.d(b,{T:()=>e,k:()=>f});var d=c(8433);function e(){return(0,d.Zh)()?"supported":"unsupported"}async function f(){return await window.PublicKeyCredential?.isUserVerifyingPlatformAuthenticatorAvailable()?"supported":"unsupported"}},32881(a,b,c){"use strict";c.d(b,{Au:()=>e.Au,dy:()=>e.dy,sY:()=>e.sY});var d=c(22490),e=c(20845);e.js.setCSPTrustedTypesPolicy(d.h6)}},a=>{var b=b=>a(a.s=b);a.O(0,["vendors-node_modules_github_selector-observer_dist_index_esm_js","vendors-node_modules_lit-html_lit-html_js","vendors-node_modules_delegated-events_dist_index_js-node_modules_github_details-dialog-elemen-63debe","vendors-node_modules_manuelpuyol_turbo_dist_turbo_es2017-esm_js","vendors-node_modules_github_auto-complete-element_dist_index_js-node_modules_github_catalyst_-6afc16","vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_github_alive-client_dist-bf5aa2","vendors-node_modules_github_filter-input-element_dist_index_js-node_modules_github_remote-inp-b4f804","vendors-node_modules_primer_behaviors_dist_esm_dimensions_js-node_modules_github_hotkey_dist_-9fc4f4","vendors-node_modules_github_remote-form_dist_index_js-node_modules_github_template-parts_lib_-273494","vendors-node_modules_github_paste-markdown_dist_index_esm_js-node_modules_github_quote-select-84b903","app_assets_modules_github_hydro-analytics_ts-app_assets_modules_github_soft-nav_state_ts-ui_p-e465e4","app_assets_modules_github_updatable-content_ts","app_assets_modules_github_sticky-scroll-into-view_ts","app_assets_modules_github_behaviors_socket-channel_ts","app_assets_modules_github_behaviors_keyboard-shortcuts-helper_ts-app_assets_modules_github_be-f5afdb","app_assets_modules_github_behaviors_user-content_ts-app_assets_modules_github_blob-anchor_ts--b39cba","app_assets_modules_github_behaviors_commenting_edit_ts-app_assets_modules_github_behaviors_ht-83c235"],()=>b(35122));var c=a.O()}])
//# sourceMappingURL=behaviors-187a622da7c2.js.map